(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{213:function(t,e,r){"use strict";r.r(e);var i=r(0),n=r.n(i),a=r(209),o=(r(208),r(28),r(63),r(45),r(65),r(218),r(219),r(64),r(39),r(16),r(12),r(8),r(23),r(87)),s=r.n(o);var l=function(t){var e={};return function(r){return void 0===e[r]&&(e[r]=t(r)),e[r]}},u=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,h=l((function(t){return u.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91})),c=(r(38),r(106),r(22),r(18),r(86)),d=r.n(c);r(143),r(29),r(37);var f=function(){function t(t){this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.before=null}var e=t.prototype;return e.insert=function(t){if(this.ctr%(this.isSpeedy?65e3:1)==0){var e,r=function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e}(this);e=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(r,e),this.tags.push(r)}var i=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(i);try{var a=105===t.charCodeAt(1)&&64===t.charCodeAt(0);n.insertRule(t,a?0:n.cssRules.length)}catch(o){0}}else i.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){return t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0},t}();r(152);var p=function(t){function e(t,e,i){var n=e.trim().split(p);e=n;var a=n.length,o=t.length;switch(o){case 0:case 1:var s=0;for(t=0===o?"":t[0]+" ";s<a;++s)e[s]=r(t,e[s],i).trim();break;default:var l=s=0;for(e=[];s<a;++s)for(var u=0;u<o;++u)e[l++]=r(t[u]+" ",n[s],i).trim()}return e}function r(t,e,r){var i=e.charCodeAt(0);switch(33>i&&(i=(e=e.trim()).charCodeAt(0)),i){case 38:return e.replace(m,"$1"+t.trim());case 58:return t.trim()+e.replace(m,"$1"+t.trim());default:if(0<1*r&&0<e.indexOf("\f"))return e.replace(m,(58===t.charCodeAt(0)?"":"$1")+t.trim())}return t+e}function i(t,e,r,a){var o=t+";",s=2*e+3*r+4*a;if(944===s){t=o.indexOf(":",9)+1;var l=o.substring(t,o.length-1).trim();return l=o.substring(0,t).trim()+l+";",1===L||2===L&&n(l,1)?"-webkit-"+l+l:l}if(0===L||2===L&&!n(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(M,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(l=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+l+o;case 1005:return d.test(o)?o.replace(c,":-webkit-")+o.replace(c,":-moz-")+o:o;case 1e3:switch(e=(l=o.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(e)){case 226:l=o.replace(y,"tb");break;case 232:l=o.replace(y,"tb-rl");break;case 220:l=o.replace(y,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+l+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(e=(o=t).length-10,s=(l=(33===o.charCodeAt(e)?o.substring(0,e):o).substring(t.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:o=o.replace(l,"-webkit-"+l)+";"+o;break;case 207:case 102:o=o.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(l,"-webkit-"+l)+";"+o.replace(l,"-ms-"+l+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return l=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+l+"-ms-flex-"+l+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(w,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(w,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===C.test(t))return 115===(l=t.substring(t.indexOf(":")+1)).charCodeAt(0)?i(t.replace("stretch","fill-available"),e,r,a).replace(":fill-available",":stretch"):o.replace(l,"-webkit-"+l)+o.replace(l,"-moz-"+l.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===r+a&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(f,"$1-webkit-$2")+o}return o}function n(t,e){var r=t.indexOf(1===e?":":"{"),i=t.substring(0,3!==e?r:10);return r=t.substring(r+1,t.length-1),D(2!==e?i:i.replace(S,"$1"),r,e)}function a(t,e){var r=i(e,e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2));return r!==e+";"?r.replace(x," or ($1)").substring(4):"("+e+")"}function o(t,e,r,i,n,a,o,s,u,h){for(var c,d=0,f=e;d<I;++d)switch(c=R[d].call(l,t,f,r,i,n,a,o,s,u,h)){case void 0:case!1:case!0:case null:break;default:f=c}if(f!==e)return f}function s(t){return void 0!==(t=t.prefix)&&(D=null,t?"function"!=typeof t?L=1:(L=2,D=t):L=0),s}function l(t,r){var s=t;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<I){var l=o(-1,r,s,s,E,P,0,0,0,0);void 0!==l&&"string"==typeof l&&(r=l)}var c=function t(r,s,l,c,d){for(var f,p,m,y,x,w=0,S=0,C=0,M=0,R=0,D=0,O=m=f=0,F=0,G=0,N=0,j=0,V=l.length,B=V-1,U="",z="",H="",W="";F<V;){if(p=l.charCodeAt(F),F===B&&0!==S+M+C+w&&(0!==S&&(p=47===S?10:47),M=C=w=0,V++,B++),0===S+M+C+w){if(F===B&&(0<G&&(U=U.replace(h,"")),0<U.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:U+=l.charAt(F)}p=59}switch(p){case 123:for(f=(U=U.trim()).charCodeAt(0),m=1,j=++F;F<V;){switch(p=l.charCodeAt(F)){case 123:m++;break;case 125:m--;break;case 47:switch(p=l.charCodeAt(F+1)){case 42:case 47:t:{for(O=F+1;O<B;++O)switch(l.charCodeAt(O)){case 47:if(42===p&&42===l.charCodeAt(O-1)&&F+2!==O){F=O+1;break t}break;case 10:if(47===p){F=O+1;break t}}F=O}}break;case 91:p++;case 40:p++;case 34:case 39:for(;F++<B&&l.charCodeAt(F)!==p;);}if(0===m)break;F++}switch(m=l.substring(j,F),0===f&&(f=(U=U.replace(u,"").trim()).charCodeAt(0)),f){case 64:switch(0<G&&(U=U.replace(h,"")),p=U.charCodeAt(1)){case 100:case 109:case 115:case 45:G=s;break;default:G=T}if(j=(m=t(s,G,m,p,d+1)).length,0<I&&(x=o(3,m,G=e(T,U,N),s,E,P,j,p,d,c),U=G.join(""),void 0!==x&&0===(j=(m=x.trim()).length)&&(p=0,m="")),0<j)switch(p){case 115:U=U.replace(b,a);case 100:case 109:case 45:m=U+"{"+m+"}";break;case 107:m=(U=U.replace(g,"$1 $2"))+"{"+m+"}",m=1===L||2===L&&n("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=U+m,112===c&&(z+=m,m="")}else m="";break;default:m=t(s,e(s,U,N),m,c,d+1)}H+=m,m=N=G=O=f=0,U="",p=l.charCodeAt(++F);break;case 125:case 59:if(1<(j=(U=(0<G?U.replace(h,""):U).trim()).length))switch(0===O&&(f=U.charCodeAt(0),45===f||96<f&&123>f)&&(j=(U=U.replace(" ",":")).length),0<I&&void 0!==(x=o(1,U,s,r,E,P,z.length,c,d,c))&&0===(j=(U=x.trim()).length)&&(U="\0\0"),f=U.charCodeAt(0),p=U.charCodeAt(1),f){case 0:break;case 64:if(105===p||99===p){W+=U+l.charAt(F);break}default:58!==U.charCodeAt(j-1)&&(z+=i(U,f,p,U.charCodeAt(2)))}N=G=O=f=0,U="",p=l.charCodeAt(++F)}}switch(p){case 13:case 10:47===S?S=0:0===1+f&&107!==c&&0<U.length&&(G=1,U+="\0"),0<I*k&&o(0,U,s,r,E,P,z.length,c,d,c),P=1,E++;break;case 59:case 125:if(0===S+M+C+w){P++;break}default:switch(P++,y=l.charAt(F),p){case 9:case 32:if(0===M+w+S)switch(R){case 44:case 58:case 9:case 32:y="";break;default:32!==p&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===M+S+w&&(G=N=1,y="\f"+y);break;case 108:if(0===M+S+w+A&&0<O)switch(F-O){case 2:112===R&&58===l.charCodeAt(F-3)&&(A=R);case 8:111===D&&(A=D)}break;case 58:0===M+S+w&&(O=F);break;case 44:0===S+C+M+w&&(G=1,y+="\r");break;case 34:case 39:0===S&&(M=M===p?0:0===M?p:M);break;case 91:0===M+S+C&&w++;break;case 93:0===M+S+C&&w--;break;case 41:0===M+S+w&&C--;break;case 40:if(0===M+S+w){if(0===f)switch(2*R+3*D){case 533:break;default:f=1}C++}break;case 64:0===S+C+M+w+O+m&&(m=1);break;case 42:case 47:if(!(0<M+w+C))switch(S){case 0:switch(2*p+3*l.charCodeAt(F+1)){case 235:S=47;break;case 220:j=F,S=42}break;case 42:47===p&&42===R&&j+2!==F&&(33===l.charCodeAt(j+2)&&(z+=l.substring(j,F+1)),y="",S=0)}}0===S&&(U+=y)}D=R,R=p,F++}if(0<(j=z.length)){if(G=s,0<I&&(void 0!==(x=o(2,z,G,r,E,P,j,c,d,c))&&0===(z=x).length))return W+z+H;if(z=G.join(",")+"{"+z+"}",0!=L*A){switch(2!==L||n(z,2)||(A=0),A){case 111:z=z.replace(_,":-moz-$1")+z;break;case 112:z=z.replace(v,"::-webkit-input-$1")+z.replace(v,"::-moz-$1")+z.replace(v,":-ms-input-$1")+z}A=0}}return W+z+H}(T,s,r,0,0);return 0<I&&(void 0!==(l=o(-2,c,s,s,E,P,c.length,0,0,0))&&(c=l)),"",A=0,P=E=1,c}var u=/^\0+/g,h=/[\0\r\f]/g,c=/: */g,d=/zoo|gra/,f=/([,: ])(transform)/g,p=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,_=/:(read-only)/g,y=/[svh]\w+-[tblr]{2}/,b=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,w=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,C=/stretch|:\s*\w+\-(?:conte|avail)/,M=/([^-])(image-set\()/,P=1,E=1,A=0,L=1,T=[],R=[],I=0,D=null,k=0;return l.use=function t(e){switch(e){case void 0:case null:I=R.length=0;break;default:if("function"==typeof e)R[I++]=e;else if("object"==typeof e)for(var r=0,i=e.length;r<i;++r)t(e[r]);else k=0|!!e}return t},l.set=s,void 0!==t&&s(t),l};r(80),r(154);function m(t){t&&g.current.insert(t+"}")}var g={current:null},v=function(t,e,r,i,n,a,o,s,l,u){switch(t){case 1:switch(e.charCodeAt(0)){case 64:return g.current.insert(e+";"),"";case 108:if(98===e.charCodeAt(2))return""}break;case 2:if(0===s)return e+"/*|*/";break;case 3:switch(s){case 102:case 112:return g.current.insert(r[0]+e),"";default:return e+(0===u?"/*|*/":"")}case-2:e.split("/*|*/}").forEach(m)}},_=function(t){void 0===t&&(t={});var e,r=t.key||"css";void 0!==t.prefix&&(e={prefix:t.prefix});var i=new p(e);var n,a={};n=t.container||document.head;var o,s=document.querySelectorAll("style[data-emotion-"+r+"]");Array.prototype.forEach.call(s,(function(t){t.getAttribute("data-emotion-"+r).split(" ").forEach((function(t){a[t]=!0})),t.parentNode!==n&&n.appendChild(t)})),i.use(t.stylisPlugins)(v),o=function(t,e,r,n){var a=e.name;g.current=r,i(t,e.styles),n&&(l.inserted[a]=!0)};var l={key:r,sheet:new f({key:r,container:n,nonce:t.nonce,speedy:t.speedy}),nonce:t.nonce,inserted:a,registered:{},insert:o};return l};function y(t,e,r){var i="";return r.split(" ").forEach((function(r){void 0!==t[r]?e.push(t[r]):i+=r+" "})),i}var b=function(t,e,r){var i=t.key+"-"+e.name;if(!1===r&&void 0===t.registered[i]&&(t.registered[i]=e.styles),void 0===t.inserted[e.name]){var n=e;do{t.insert("."+i,n,t.sheet,!0);n=n.next}while(void 0!==n)}};r(58),r(79);var x=function(t){for(var e,r=t.length,i=r^r,n=0;r>=4;)e=1540483477*(65535&(e=255&t.charCodeAt(n)|(255&t.charCodeAt(++n))<<8|(255&t.charCodeAt(++n))<<16|(255&t.charCodeAt(++n))<<24))+((1540483477*(e>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(e=1540483477*(65535&(e^=e>>>24))+((1540483477*(e>>>16)&65535)<<16)),r-=4,++n;switch(r){case 3:i^=(255&t.charCodeAt(n+2))<<16;case 2:i^=(255&t.charCodeAt(n+1))<<8;case 1:i=1540483477*(65535&(i^=255&t.charCodeAt(n)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),((i^=i>>>15)>>>0).toString(36)},w={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},S=/[A-Z]|^ms/g,C=/_EMO_([^_]+?)_([^]*?)_EMO_/g,M=function(t){return 45===t.charCodeAt(1)},P=l((function(t){return M(t)?t:t.replace(S,"-$&").toLowerCase()})),E=function(t,e){if(null==e||"boolean"==typeof e)return"";switch(t){case"animation":case"animationName":if("string"==typeof e)return e.replace(C,(function(t,e,r){return L={name:e,styles:r,next:L},e}))}return 1===w[t]||M(t)||"number"!=typeof e||0===e?e:e+"px"};function A(t,e,r,i){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return L={name:r.name,styles:r.styles,next:L},r.name;if(void 0!==r.styles){var n=r.next;if(void 0!==n)for(;void 0!==n;)L={name:n.name,styles:n.styles,next:L},n=n.next;return r.styles}return function(t,e,r){var i="";if(Array.isArray(r))for(var n=0;n<r.length;n++)i+=A(t,e,r[n],!1);else for(var a in r){var o=r[a];if("object"!=typeof o)null!=e&&void 0!==e[o]?i+=a+"{"+e[o]+"}":i+=P(a)+":"+E(a,o)+";";else if(!Array.isArray(o)||"string"!=typeof o[0]||null!=e&&void 0!==e[o[0]]){var s=A(t,e,o,!1);switch(a){case"animation":case"animationName":i+=P(a)+":"+s+";";break;default:i+=a+"{"+s+"}"}}else for(var l=0;l<o.length;l++)i+=P(a)+":"+E(a,o[l])+";"}return i}(t,e,r);case"function":if(void 0!==t){var a=L,o=r(t);return L=a,A(t,e,o,i)}default:if(null==e)return r;var s=e[r];return void 0===s||i?r:s}}var L,T=/label:\s*([^\s;\n{]+)\s*;/g;var R=function(t,e,r){if(1===t.length&&"object"==typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var i=!0,n="";L=void 0;var a=t[0];null==a||void 0===a.raw?(i=!1,n+=A(r,e,a,!1)):n+=a[0];for(var o=1;o<t.length;o++)n+=A(r,e,t[o],46===n.charCodeAt(n.length-1)),i&&(n+=a[o]);T.lastIndex=0;for(var s,l="";null!==(s=T.exec(n));)l+="-"+s[1];return{name:x(n)+l,styles:n,next:L}};var I=Object(i.createContext)("undefined"!=typeof HTMLElement?_():null),D=Object(i.createContext)({}),k=(I.Provider,function(t){return Object(i.forwardRef)((function(e,r){return Object(i.createElement)(I.Consumer,null,(function(i){return t(e,i,r)}))}))}),O="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",F=Object.prototype.hasOwnProperty,G=function(t,e,r,n){var a=e[O],o=[],s="",l=null===r?e.css:e.css(r);"string"==typeof l&&void 0!==t.registered[l]&&(l=t.registered[l]),o.push(l),void 0!==e.className&&(s=y(t.registered,o,e.className));var u=R(o);b(t,u,"string"==typeof a);s+=t.key+"-"+u.name;var h={};for(var c in e)F.call(e,c)&&"css"!==c&&c!==O&&(h[c]=e[c]);return h.ref=n,h.className=s,Object(i.createElement)(a,h)};k((function(t,e,r){return"function"==typeof t.css?Object(i.createElement)(D.Consumer,null,(function(i){return G(e,t,i,r)})):G(e,t,null,r)}));i.Component;var N=function t(e){for(var r=e.length,i=0,n="";i<r;i++){var a=e[i];if(null!=a){var o=void 0;switch(typeof a){case"boolean":break;case"object":if(Array.isArray(a))o=t(a);else for(var s in o="",a)a[s]&&s&&(o&&(o+=" "),o+=s);break;default:o=a}o&&(n&&(n+=" "),n+=o)}}return n};function j(t,e,r){var i=[],n=y(t,i,r);return i.length<2?r:n+e(i)}k((function(t,e){return Object(i.createElement)(D.Consumer,null,(function(r){var i=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var n=R(r,e.registered);return b(e,n,!1),e.key+"-"+n.name},n={css:i,cx:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return j(e.registered,i,N(r))},theme:r},a=t.children(n);return!0,a}))}));var V=h,B=function(t){return"theme"!==t&&"innerRef"!==t},U=function(t){return"string"==typeof t&&t.charCodeAt(0)>96?V:B};function z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function H(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?z(r,!0).forEach((function(e){s()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var W=function t(e,r){var n,a,o;void 0!==r&&(n=r.label,o=r.target,a=e.__emotion_forwardProp&&r.shouldForwardProp?function(t){return e.__emotion_forwardProp(t)&&r.shouldForwardProp(t)}:r.shouldForwardProp);var s=e.__emotion_real===e,l=s&&e.__emotion_base||e;"function"!=typeof a&&s&&(a=e.__emotion_forwardProp);var u=a||U(l),h=!u("as");return function(){var c=arguments,d=s&&void 0!==e.__emotion_styles?e.__emotion_styles.slice(0):[];if(void 0!==n&&d.push("label:"+n+";"),null==c[0]||void 0===c[0].raw)d.push.apply(d,c);else{0,d.push(c[0][0]);for(var f=c.length,p=1;p<f;p++)d.push(c[p],c[0][p])}var m=k((function(t,e,r){return Object(i.createElement)(D.Consumer,null,(function(n){var s=h&&t.as||l,c="",f=[],p=t;if(null==t.theme){for(var m in p={},t)p[m]=t[m];p.theme=n}"string"==typeof t.className&&(c+=y(e.registered,f,t.className));var g=R(d.concat(f),e.registered,p);b(e,g,"string"==typeof s);c+=e.key+"-"+g.name,void 0!==o&&(c+=" "+o);var v=h&&void 0===a?U(s):u,_={};for(var x in t)h&&"as"===x||v(x)&&(_[x]=t[x]);return _.className=c,_.ref=r||t.innerRef,Object(i.createElement)(s,_)}))}));return m.displayName=void 0!==n?n:"Styled("+("string"==typeof l?l:l.displayName||l.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=l,m.__emotion_styles=d,m.__emotion_forwardProp=a,Object.defineProperty(m,"toString",{value:function(){return"."+o}}),m.withComponent=function(e,i){return t(e,void 0!==i?H({},r||{},{},i):r).apply(void 0,d)},m}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(t){W[t]=W(t)}));var q=r(221),X=r.n(q);var Y=function(t){var e,r;function i(e){var r;return(r=t.call(this,e)||this).sketchRef=n.a.createRef(),r.canvas=null,r}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var a=i.prototype;return a.componentDidMount=function(){this.canvas=new X.a(this.props.sketch,this.sketchRef.current)},a.componentDidUpdate=function(){this.canvas.remove(),this.canvas=new X.a(this.props.sketch,this.sketchRef.current)},a.componentWillUnmount=function(){this.canvas.remove()},a.render=function(){return n.a.createElement("div",{ref:this.sketchRef})},i}(i.Component);var Z=function(t){var e,r;function i(){var e;return(e=t.call(this)||this).sketch=e.sketch.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)),e}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=i.prototype;return o.sketch=function(t){t.state=[],t.dispatch=function(){},t.windowResized=function(){t.resizeCanvas(t.windowWidth,t.windowHeight)},t.setup=function(){t.createCanvas(500,500),t.noFill(),t.smooth()},t.draw=function(){t.background(200),t.stroke(10,10),t.spiral(t.width/2,t.height/2,0,1e3)},t.spiral=function(e,r,i,n){for(var a=0;a<n;a+=1)t.translate(e,r),t.rotate(t.radians(10*t.noise(.001*(t.frameCount-a)*1.6180339)+100)),t.line(i,0,0,0),t.translate(-e,-r),e+=i+=1.6180339}},o.render=function(){return n.a.createElement(a.a,null,n.a.createElement(Y,{sketch:this.sketch}))},i}(n.a.Component);e.default=Z},214:function(t,e,r){"use strict";if(r(9)){var i=r(46),n=r(4),a=r(10),o=r(1),s=r(216),l=r(223),u=r(26),h=r(59),c=r(48),d=r(24),f=r(60),p=r(57),m=r(17),g=r(217),v=r(142),_=r(78),y=r(25),b=r(62),x=r(6),w=r(21),S=r(108),C=r(61),M=r(146),P=r(77).f,E=r(109),A=r(47),L=r(3),T=r(30),R=r(81),I=r(110),D=r(12),k=r(50),O=r(84),F=r(83),G=r(215),N=r(224),j=r(11),V=r(107),B=j.f,U=V.f,z=n.RangeError,H=n.TypeError,W=n.Uint8Array,q=Array.prototype,X=l.ArrayBuffer,Y=l.DataView,Z=T(0),$=T(2),Q=T(3),K=T(4),J=T(5),tt=T(6),et=R(!0),rt=R(!1),it=D.values,nt=D.keys,at=D.entries,ot=q.lastIndexOf,st=q.reduce,lt=q.reduceRight,ut=q.join,ht=q.sort,ct=q.slice,dt=q.toString,ft=q.toLocaleString,pt=L("iterator"),mt=L("toStringTag"),gt=A("typed_constructor"),vt=A("def_constructor"),_t=s.CONSTR,yt=s.TYPED,bt=s.VIEW,xt=T(1,(function(t,e){return Pt(I(t,t[vt]),e)})),wt=a((function(){return 1===new W(new Uint16Array([1]).buffer)[0]})),St=!!W&&!!W.prototype.set&&a((function(){new W(1).set({})})),Ct=function(t,e){var r=p(t);if(r<0||r%e)throw z("Wrong offset!");return r},Mt=function(t){if(x(t)&&yt in t)return t;throw H(t+" is not a typed array!")},Pt=function(t,e){if(!(x(t)&&gt in t))throw H("It is not a typed array constructor!");return new t(e)},Et=function(t,e){return At(I(t,t[vt]),e)},At=function(t,e){for(var r=0,i=e.length,n=Pt(t,i);i>r;)n[r]=e[r++];return n},Lt=function(t,e,r){B(t,e,{get:function(){return this._d[r]}})},Tt=function(t){var e,r,i,n,a,o,s=w(t),l=arguments.length,h=l>1?arguments[1]:void 0,c=void 0!==h,d=E(s);if(null!=d&&!S(d)){for(o=d.call(s),i=[],e=0;!(a=o.next()).done;e++)i.push(a.value);s=i}for(c&&l>2&&(h=u(h,arguments[2],2)),e=0,r=m(s.length),n=Pt(this,r);r>e;e++)n[e]=c?h(s[e],e):s[e];return n},Rt=function(){for(var t=0,e=arguments.length,r=Pt(this,e);e>t;)r[t]=arguments[t++];return r},It=!!W&&a((function(){ft.call(new W(1))})),Dt=function(){return ft.apply(It?ct.call(Mt(this)):Mt(this),arguments)},kt={copyWithin:function(t,e){return N.call(Mt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return K(Mt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return G.apply(Mt(this),arguments)},filter:function(t){return Et(this,$(Mt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return J(Mt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(Mt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Z(Mt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return rt(Mt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(Mt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ut.apply(Mt(this),arguments)},lastIndexOf:function(t){return ot.apply(Mt(this),arguments)},map:function(t){return xt(Mt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return st.apply(Mt(this),arguments)},reduceRight:function(t){return lt.apply(Mt(this),arguments)},reverse:function(){for(var t,e=Mt(this).length,r=Math.floor(e/2),i=0;i<r;)t=this[i],this[i++]=this[--e],this[e]=t;return this},some:function(t){return Q(Mt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ht.call(Mt(this),t)},subarray:function(t,e){var r=Mt(this),i=r.length,n=v(t,i);return new(I(r,r[vt]))(r.buffer,r.byteOffset+n*r.BYTES_PER_ELEMENT,m((void 0===e?i:v(e,i))-n))}},Ot=function(t,e){return Et(this,ct.call(Mt(this),t,e))},Ft=function(t){Mt(this);var e=Ct(arguments[1],1),r=this.length,i=w(t),n=m(i.length),a=0;if(n+e>r)throw z("Wrong length!");for(;a<n;)this[e+a]=i[a++]},Gt={entries:function(){return at.call(Mt(this))},keys:function(){return nt.call(Mt(this))},values:function(){return it.call(Mt(this))}},Nt=function(t,e){return x(t)&&t[yt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},jt=function(t,e){return Nt(t,e=_(e,!0))?c(2,t[e]):U(t,e)},Vt=function(t,e,r){return!(Nt(t,e=_(e,!0))&&x(r)&&y(r,"value"))||y(r,"get")||y(r,"set")||r.configurable||y(r,"writable")&&!r.writable||y(r,"enumerable")&&!r.enumerable?B(t,e,r):(t[e]=r.value,t)};_t||(V.f=jt,j.f=Vt),o(o.S+o.F*!_t,"Object",{getOwnPropertyDescriptor:jt,defineProperty:Vt}),a((function(){dt.call({})}))&&(dt=ft=function(){return ut.call(this)});var Bt=f({},kt);f(Bt,Gt),d(Bt,pt,Gt.values),f(Bt,{slice:Ot,set:Ft,constructor:function(){},toString:dt,toLocaleString:Dt}),Lt(Bt,"buffer","b"),Lt(Bt,"byteOffset","o"),Lt(Bt,"byteLength","l"),Lt(Bt,"length","e"),B(Bt,mt,{get:function(){return this[yt]}}),t.exports=function(t,e,r,l){var u=t+((l=!!l)?"Clamped":"")+"Array",c="get"+t,f="set"+t,p=n[u],v=p||{},_=p&&M(p),y=!p||!s.ABV,w={},S=p&&p.prototype,E=function(t,r){B(t,r,{get:function(){return function(t,r){var i=t._d;return i.v[c](r*e+i.o,wt)}(this,r)},set:function(t){return function(t,r,i){var n=t._d;l&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),n.v[f](r*e+n.o,i,wt)}(this,r,t)},enumerable:!0})};y?(p=r((function(t,r,i,n){h(t,p,u,"_d");var a,o,s,l,c=0,f=0;if(x(r)){if(!(r instanceof X||"ArrayBuffer"==(l=b(r))||"SharedArrayBuffer"==l))return yt in r?At(p,r):Tt.call(p,r);a=r,f=Ct(i,e);var v=r.byteLength;if(void 0===n){if(v%e)throw z("Wrong length!");if((o=v-f)<0)throw z("Wrong length!")}else if((o=m(n)*e)+f>v)throw z("Wrong length!");s=o/e}else s=g(r),a=new X(o=s*e);for(d(t,"_d",{b:a,o:f,l:o,e:s,v:new Y(a)});c<s;)E(t,c++)})),S=p.prototype=C(Bt),d(S,"constructor",p)):a((function(){p(1)}))&&a((function(){new p(-1)}))&&O((function(t){new p,new p(null),new p(1.5),new p(t)}),!0)||(p=r((function(t,r,i,n){var a;return h(t,p,u),x(r)?r instanceof X||"ArrayBuffer"==(a=b(r))||"SharedArrayBuffer"==a?void 0!==n?new v(r,Ct(i,e),n):void 0!==i?new v(r,Ct(i,e)):new v(r):yt in r?At(p,r):Tt.call(p,r):new v(g(r))})),Z(_!==Function.prototype?P(v).concat(P(_)):P(v),(function(t){t in p||d(p,t,v[t])})),p.prototype=S,i||(S.constructor=p));var A=S[pt],L=!!A&&("values"==A.name||null==A.name),T=Gt.values;d(p,gt,!0),d(S,yt,u),d(S,bt,!0),d(S,vt,p),(l?new p(1)[mt]==u:mt in S)||B(S,mt,{get:function(){return u}}),w[u]=p,o(o.G+o.W+o.F*(p!=v),w),o(o.S,u,{BYTES_PER_ELEMENT:e}),o(o.S+o.F*a((function(){v.of.call(p,1)})),u,{from:Tt,of:Rt}),"BYTES_PER_ELEMENT"in S||d(S,"BYTES_PER_ELEMENT",e),o(o.P,u,kt),F(u),o(o.P+o.F*St,u,{set:Ft}),o(o.P+o.F*!L,u,Gt),i||S.toString==dt||(S.toString=dt),o(o.P+o.F*a((function(){new p(1).slice()})),u,{slice:Ot}),o(o.P+o.F*(a((function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()}))||!a((function(){S.toLocaleString.call([1,2])}))),u,{toLocaleString:Dt}),k[u]=L?A:T,i||L||d(S,pt,T)}}else t.exports=function(){}},215:function(t,e,r){"use strict";var i=r(21),n=r(142),a=r(17);t.exports=function(t){for(var e=i(this),r=a(e.length),o=arguments.length,s=n(o>1?arguments[1]:void 0,r),l=o>2?arguments[2]:void 0,u=void 0===l?r:n(l,r);u>s;)e[s++]=t;return e}},216:function(t,e,r){for(var i,n=r(4),a=r(24),o=r(47),s=o("typed_array"),l=o("view"),u=!(!n.ArrayBuffer||!n.DataView),h=u,c=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");c<9;)(i=n[d[c++]])?(a(i.prototype,s,!0),a(i.prototype,l,!0)):h=!1;t.exports={ABV:u,CONSTR:h,TYPED:s,VIEW:l}},217:function(t,e,r){var i=r(57),n=r(17);t.exports=function(t){if(void 0===t)return 0;var e=i(t),r=n(e);if(e!==r)throw RangeError("Wrong length!");return r}},218:function(t,e,r){var i=r(1);i(i.S+i.F*!r(9),"Object",{defineProperties:r(145)})},219:function(t,e,r){var i=r(1),n=r(220),a=r(42),o=r(107),s=r(149);i(i.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,r,i=a(t),l=o.f,u=n(i),h={},c=0;u.length>c;)void 0!==(r=l(i,e=u[c++]))&&s(h,e,r);return h}})},220:function(t,e,r){var i=r(77),n=r(82),a=r(5),o=r(4).Reflect;t.exports=o&&o.ownKeys||function(t){var e=i.f(a(t)),r=n.f;return r?e.concat(r(t)):e}},221:function(t,e,r){var i;r(222),r(225),r(227),r(228),r(12),r(23),r(229),r(80),r(148),r(49),r(18),r(230),r(19),r(52),r(39),r(16),r(106),r(45),r(144),r(150),r(151),r(231),r(143),r(37),r(232),r(58),r(8),r(233),r(147),t.exports=function t(e,r,n){function a(s,l){if(!r[s]){if(!e[s]){if(!l&&"function"==typeof i&&i)return i(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var h=r[s]={exports:{}};e[s][0].call(h.exports,(function(t){return a(e[s][1][t]||t)}),h,h.exports,t,e,r,n)}return r[s].exports}for(var o="function"==typeof i&&i,s=0;s<n.length;s++)a(n[s]);return a}({1:[function(t,e,r){"use strict";var i;function n(t,e){return t.b===e.b&&t.a===e.a}function a(t,e){return t.b<e.b||t.b===e.b&&t.a<=e.a}function o(t,e,r){var i=e.b-t.b,n=r.b-e.b;return 0<i+n?i<n?e.a-t.a+i/(i+n)*(t.a-r.a):e.a-r.a+n/(i+n)*(r.a-t.a):0}function s(t,e,r){var i=e.b-t.b,n=r.b-e.b;return 0<i+n?(e.a-r.a)*i+(e.a-t.a)*n:0}function l(t,e){return t.a<e.a||t.a===e.a&&t.b<=e.b}function u(t,e,r){var i=e.a-t.a,n=r.a-e.a;return 0<i+n?i<n?e.b-t.b+i/(i+n)*(t.b-r.b):e.b-r.b+n/(i+n)*(r.b-t.b):0}function h(t,e,r){var i=e.a-t.a,n=r.a-e.a;return 0<i+n?(e.b-r.b)*i+(e.b-t.b)*n:0}function c(t,e,r,i){return(t=t<0?0:t)<=(r=r<0?0:r)?0===r?(e+i)/2:e+t/(t+r)*(i-e):i+r/(t+r)*(e-i)}function d(t){var e=v(t.b);return y(e,t.c),y(e.b,t.c),b(e,t.a),e}function f(t,e){var r=!1,i=!1;t!==e&&(e.a!==t.a&&(i=!0,w(e.a,t.a)),e.d!==t.d&&(r=!0,S(e.d,t.d)),_(e,t),i||(y(e,t.a),t.a.c=t),r||(b(e,t.d),t.d.a=t))}function p(t){var e=t.b,r=!1;t.d!==t.b.d&&(r=!0,S(t.d,t.b.d)),t.c===t?w(t.a,null):(t.b.d.a=K(t),t.a.c=t.c,_(t,K(t)),r||b(t,t.d)),e.c===e?(w(e.a,null),S(e.d,null)):(t.d.a=K(e),e.a.c=e.c,_(e,K(e))),x(t)}function m(t){var e=v(t),r=e.b;return _(e,t.e),e.a=t.b.a,y(r,e.a),e.d=r.d=t.d,e=e.b,_(t.b,K(t.b)),_(t.b,e),t.b.a=e.a,e.b.a.c=e.b,e.b.d=t.b.d,e.f=t.f,e.b.f=t.b.f,e}function g(t,e){var r=!1,i=v(t),n=i.b;return e.d!==t.d&&(r=!0,S(e.d,t.d)),_(i,t.e),_(n,e),i.a=t.b.a,n.a=e.a,i.d=n.d=t.d,t.d.a=n,r||b(i,t.d),i}function v(t){var e=new Q,r=new Q,i=t.b.h;return(((r.h=i).b.h=e).h=t).b.h=r,e.b=r,((e.c=e).e=r).b=e,(r.c=r).e=e}function _(t,e){var r=t.c,i=e.c;r.b.e=e,(i.b.e=t).c=i,e.c=r}function y(t,e){var r=e.f,i=new tt(e,r);for(r.e=i,r=(e.f=i).c=t;r.a=i,(r=r.c)!==t;);}function b(t,e){var r=e.d,i=new $(e,r);for(r.b=i,(e.d=i).a=t,i.c=e.c,r=t;r.d=i,(r=r.e)!==t;);}function x(t){var e=t.h;t=t.b.h,(e.b.h=t).b.h=e}function w(t,e){for(var r=t.c,i=r;i.a=e,(i=i.c)!==r;);r=t.f,((i=t.e).f=r).e=i}function S(t,e){for(var r=t.a,i=r;i.d=e,(i=i.e)!==r;);r=t.d,((i=t.b).d=r).b=i}function C(t){var e=0;return Math.abs(t[1])>Math.abs(t[0])&&(e=1),Math.abs(t[2])>Math.abs(t[e])&&(e=2),e}var M=4e150;function P(t,e){t.f+=e.f,t.b.f+=e.b.f}function E(t,e,r){return t=t.a,e=e.a,r=r.a,e.b.a===t?r.b.a===t?a(e.a,r.a)?s(r.b.a,e.a,r.a)<=0:0<=s(e.b.a,r.a,e.a):s(r.b.a,t,r.a)<=0:r.b.a===t?0<=s(e.b.a,t,e.a):(e=o(e.b.a,t,e.a),(t=o(r.b.a,t,r.a))<=e)}function A(t){t.a.i=null;var e=t.e;e.a.c=e.c,e.c.a=e.a,t.e=null}function L(t,e){p(t.a),t.c=!1,(t.a=e).i=t}function T(t){for(var e=t.a.a;(t=dt(t)).a.a===e;);return t.c&&(L(t,e=g(ct(t).a.b,t.a.e)),t=dt(t)),t}function R(t,e,r){var i=new ht;return i.a=r,i.e=W(t.f,e.e,i),r.i=i}function I(t,e){switch(t.s){case 100130:return 0!=(1&e);case 100131:return 0!==e;case 100132:return 0<e;case 100133:return e<0;case 100134:return 2<=e||e<=-2}return!1}function D(t){var e=t.a,r=e.d;r.c=t.d,r.a=e,A(t)}function k(t,e,r){for(e=(t=e).a;t!==r;){t.c=!1;var i=ct(t),n=i.a;if(n.a!==e.a){if(!i.c){D(t);break}L(i,n=g(e.c.b,n.b))}e.c!==n&&(f(K(n),n),f(e,n)),D(t),e=i.a,t=i}return e}function O(t,e,r,i,n,a){for(var o=!0;R(t,e,r.b),(r=r.c)!==i;);for(null===n&&(n=ct(e).a.b.c);(r=(i=ct(e)).a.b).a===n.a;)r.c!==n&&(f(K(r),r),f(K(n),r)),i.f=e.f-r.f,i.d=I(t,i.f),e.b=!0,!o&&j(t,e)&&(P(r,n),A(e),p(n)),o=!1,e=i,n=r;e.b=!0,a&&B(t,e)}function F(t,e,r,i,n){var a=[e.g[0],e.g[1],e.g[2]];e.d=null,e.d=t.o&&t.o(a,r,i,t.c)||null,null===e.d&&(n?t.n||(Z(t,100156),t.n=!0):e.d=r[0])}function G(t,e,r){var i=[null,null,null,null];i[0]=e.a.d,i[1]=r.a.d,F(t,e.a,i,[.5,.5,0,0],!1),f(e,r)}function N(t,e,r,i,n){var a=Math.abs(e.b-t.b)+Math.abs(e.a-t.a),o=Math.abs(r.b-t.b)+Math.abs(r.a-t.a),s=n+1;i[n]=.5*o/(a+o),i[s]=.5*a/(a+o),t.g[0]+=i[n]*e.g[0]+i[s]*r.g[0],t.g[1]+=i[n]*e.g[1]+i[s]*r.g[1],t.g[2]+=i[n]*e.g[2]+i[s]*r.g[2]}function j(t,e){var r=ct(e),i=e.a,o=r.a;if(a(i.a,o.a)){if(0<s(o.b.a,i.a,o.a))return!1;if(n(i.a,o.a)){if(i.a!==o.a){r=t.e;var l=i.a.h;if(0<=l){var u=(r=r.b).d,h=r.e,c=r.c,d=c[l];u[d]=u[r.a],(c[u[d]]=d)<=--r.a&&(d<=1?lt(r,d):a(h[u[d>>1]],h[u[d]])?lt(r,d):ut(r,d)),h[l]=null,c[l]=r.b,r.b=l}else for(r.c[-(l+1)]=null;0<r.a&&null===r.c[r.d[r.a-1]];)--r.a;G(t,K(o),i)}}else m(o.b),f(i,K(o)),e.b=r.b=!0}else{if(s(i.b.a,o.a,i.a)<0)return!1;dt(e).b=e.b=!0,m(i.b),f(K(o),i)}return!0}function V(t,e){var r=ct(e),i=e.a,d=r.a,p=i.a,g=d.a,v=i.b.a,_=d.b.a,y=new tt;if(s(v,t.a,p),s(_,t.a,g),p===g||Math.min(p.a,v.a)>Math.max(g.a,_.a))return!1;if(a(p,g)){if(0<s(_,p,g))return!1}else if(s(v,g,p)<0)return!1;var b,x,w=v,S=p,C=_,M=g;if(a(w,S)||(b=w,w=S,S=b),a(C,M)||(b=C,C=M,M=b),a(w,C)||(b=w,w=C,C=b,b=S,S=M,M=b),a(C,S)?a(S,M)?((b=o(w,C,S))+(x=o(C,S,M))<0&&(b=-b,x=-x),y.b=c(b,C.b,x,S.b)):((b=s(w,C,S))+(x=-s(w,M,S))<0&&(b=-b,x=-x),y.b=c(b,C.b,x,M.b)):y.b=(C.b+S.b)/2,l(w,S)||(b=w,w=S,S=b),l(C,M)||(b=C,C=M,M=b),l(w,C)||(b=w,w=C,C=b,b=S,S=M,M=b),l(C,S)?l(S,M)?((b=u(w,C,S))+(x=u(C,S,M))<0&&(b=-b,x=-x),y.a=c(b,C.a,x,S.a)):((b=h(w,C,S))+(x=-h(w,M,S))<0&&(b=-b,x=-x),y.a=c(b,C.a,x,M.a)):y.a=(C.a+S.a)/2,a(y,t.a)&&(y.b=t.a.b,y.a=t.a.a),a(w=a(p,g)?p:g,y)&&(y.b=w.b,y.a=w.a),n(y,p)||n(y,g))return j(t,e),!1;if(!n(v,t.a)&&0<=s(v,t.a,y)||!n(_,t.a)&&s(_,t.a,y)<=0){if(_===t.a)return m(i.b),f(d.b,i),i=ct(e=T(e)).a,k(t,ct(e),r),O(t,e,K(i),i,i,!0),!0;if(v!==t.a)return 0<=s(v,t.a,y)&&(dt(e).b=e.b=!0,m(i.b),i.a.b=t.a.b,i.a.a=t.a.a),s(_,t.a,y)<=0&&(e.b=r.b=!0,m(d.b),d.a.b=t.a.b,d.a.a=t.a.a),!1;for(m(d.b),f(i.e,K(d)),g=(p=r=e).a.b.a;(p=dt(p)).a.b.a===g;);return p=ct(e=p).a.b.c,r.a=K(d),O(t,e,(d=k(t,r,null)).c,i.b.c,p,!0),!0}return m(i.b),m(d.b),f(K(d),i),i.a.b=y.b,i.a.a=y.a,i.a.h=rt(t.e,i.a),i=i.a,d=[0,0,0,0],y=[p.d,v.d,g.d,_.d],i.g[0]=i.g[1]=i.g[2]=0,N(i,p,v,d,0),N(i,g,_,d,2),F(t,i,y,d,!0),dt(e).b=e.b=r.b=!0,!1}function B(t,e){for(var r=ct(e);;){for(;r.b;)r=ct(e=r);if(!(e.b||null!==(e=dt(r=e))&&e.b))break;e.b=!1;var i,n=e.a,o=r.a;if(i=n.b.a!==o.b.a)t:{var l=ct(i=e),u=i.a,h=l.a,c=void 0;if(a(u.b.a,h.b.a)){if(s(u.b.a,h.b.a,u.a)<0){i=!1;break t}dt(i).b=i.b=!0,c=m(u),f(h.b,c),c.d.c=i.d}else{if(0<s(h.b.a,u.b.a,h.a)){i=!1;break t}i.b=l.b=!0,c=m(h),f(u.e,h.b),c.b.d.c=i.d}i=!0}if(i&&(r.c?(A(r),p(o),o=(r=ct(e)).a):e.c&&(A(e),p(n),n=(e=dt(r)).a)),n.a!==o.a)if(n.b.a===o.b.a||e.c||r.c||n.b.a!==t.a&&o.b.a!==t.a)j(t,e);else if(V(t,e))break;n.a===o.a&&n.b.a===o.b.a&&(P(o,n),A(e),p(n),e=dt(r))}}function U(t,e){for(var r=(t.a=e).c;null===r.i;)if((r=r.c)===e.c){r=t;var i=e;(u=new ht).a=i.c.b;for(var o=(c=r.f).a;null!==(o=o.a).b&&!c.c(c.b,u,o.b););var l=ct(c=o.b),u=c.a;if(o=l.a,0===s(u.b.a,i,u.a))n((u=c.a).a,i)||n(u.b.a,i)||(m(u.b),c.c&&(p(u.c),c.c=!1),f(i.c,u),U(r,i));else{var h=a(o.b.a,u.b.a)?c:l;l=void 0,c.d||h.c?(l=h===c?g(i.c.b,u.e):g(o.b.c.b,i.c).b,h.c?L(h,l):((c=R(u=r,c,l)).f=dt(c).f+c.a.f,c.d=I(u,c.f)),U(r,i)):O(r,c,i.c,i.c,null,!0)}return}if(c=(u=ct(r=T(r.i))).a,(u=k(t,u,null)).c===c){u=(c=u).c,o=ct(r),l=r.a,h=o.a;var c,d=!1;l.b.a!==h.b.a&&V(t,r),n(l.a,t.a)&&(f(K(u),l),u=ct(r=T(r)).a,k(t,ct(r),o),d=!0),n(h.a,t.a)&&(f(c,K(h)),c=k(t,o,null),d=!0),d?O(t,r,c.c,u,u,!0):(i=a(h.a,l.a)?K(h):l,O(t,r,i=g(c.c.b,i),i.c,i.c,!1),i.b.i.c=!0,B(t,r))}else O(t,r,u.c,c,c,!0)}function z(t,e){var r=new ht,i=d(t.b);i.a.b=M,i.a.a=e,i.b.a.b=-M,i.b.a.a=e,t.a=i.b.a,r.a=i,r.f=0,r.d=!1,r.c=!1,r.h=!0,r.b=!1,i=W(i=t.f,i.a,r),r.e=i}function H(t){this.a=new q,this.b=t,this.c=E}function W(t,e,r){for(;null!==(e=e.c).b&&!t.c(t.b,e.b,r););return t=new q(r,e.a,e),e.a.c=t,e.a=t}function q(t,e,r){this.b=t||null,this.a=e||this,this.c=r||this}function X(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function Y(t,e){if(t.d!==e)for(;t.d!==e;)if(t.d<e)switch(t.d){case 0:Z(t,100151),t.u(null);break;case 1:Z(t,100152),t.t()}else switch(t.d){case 2:Z(t,100154),t.v();break;case 1:Z(t,100153),t.w()}}function Z(t,e){t.p&&t.p(e,t.c)}function $(t,e){this.b=t||this,this.d=e||this,this.a=null,this.c=!1}function Q(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function K(t){return t.b.e}function J(){this.c=new tt,this.a=new $,this.b=new Q,this.d=new Q,this.b.b=this.d,this.d.b=this.b}function tt(t,e){this.e=t||this,this.f=e||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function et(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new nt}function rt(t,e){if(t.e){var r,i=t.b,n=++i.a;return 2*n>i.f&&(i.f*=2,i.c=at(i.c,i.f+1)),0===i.b?r=n:(r=i.b,i.b=i.c[i.b]),i.e[r]=e,i.c[r]=n,i.d[n]=r,i.h&&ut(i,n),r}return i=t.a++,t.c[i]=e,-(i+1)}function it(t){if(0===t.a)return st(t.b);var e=t.c[t.d[t.a-1]];if(0!==t.b.a&&a(ot(t.b),e))return st(t.b);for(;--t.a,0<t.a&&null===t.c[t.d[t.a-1]];);return e}function nt(){this.d=at([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function at(t,e){for(var r=Array(e),i=0;i<t.length;i++)r[i]=t[i];for(;i<e;i++)r[i]=0;return r}function ot(t){return t.e[t.d[1]]}function st(t){var e=t.d,r=t.e,i=t.c,n=e[1],a=r[n];return 0<t.a&&(e[1]=e[t.a],i[e[1]]=1,r[n]=null,i[n]=t.b,t.b=n,0<--t.a&&lt(t,1)),a}function lt(t,e){for(var r=t.d,i=t.e,n=t.c,o=e,s=r[o];;){var l=o<<1;l<t.a&&a(i[r[l+1]],i[r[l]])&&(l+=1);var u=r[l];if(l>t.a||a(i[s],i[u])){n[r[o]=s]=o;break}n[r[o]=u]=o,o=l}}function ut(t,e){for(var r=t.d,i=t.e,n=t.c,o=e,s=r[o];;){var l=o>>1,u=r[l];if(0===l||a(i[u],i[s])){n[r[o]=s]=o;break}n[r[o]=u]=o,o=l}}function ht(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function ct(t){return t.e.c.b}function dt(t){return t.e.a.b}(i=X.prototype).x=function(){Y(this,0)},i.B=function(t,e){switch(t){case 100142:return;case 100140:switch(e){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=e)}break;case 100141:return void(this.m=!!e);default:return void Z(this,100900)}Z(this,100901)},i.y=function(t){switch(t){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:Z(this,100900)}return!1},i.A=function(t,e,r){this.j[0]=t,this.j[1]=e,this.j[2]=r},i.z=function(t,e){var r=e||null;switch(t){case 100100:case 100106:this.h=r;break;case 100104:case 100110:this.l=r;break;case 100101:case 100107:this.k=r;break;case 100102:case 100108:this.i=r;break;case 100103:case 100109:this.p=r;break;case 100105:case 100111:this.o=r;break;case 100112:this.r=r;break;default:Z(this,100900)}},i.C=function(t,e){var r=!1,i=[0,0,0];Y(this,2);for(var n=0;n<3;++n){var a=t[n];a<-1e150&&(a=-1e150,r=!0),1e150<a&&(a=1e150,r=!0),i[n]=a}r&&Z(this,100155),null===(r=this.q)?f(r=d(this.b),r.b):(m(r),r=r.e),r.a.d=e,r.a.g[0]=i[0],r.a.g[1]=i[1],r.a.g[2]=i[2],r.f=1,r.b.f=-1,this.q=r},i.u=function(t){Y(this,0),this.d=1,this.b=new J,this.c=t},i.t=function(){Y(this,1),this.d=2,this.q=null},i.v=function(){Y(this,2),this.d=1},i.w=function(){Y(this,1),this.d=0;var t,e,r=!1,i=[c=this.j[0],o=this.j[1],u=this.j[2]];if(0===c&&0===o&&0===u){for(var o=[-2e150,-2e150,-2e150],l=[2e150,2e150,2e150],u=[],h=[],c=(r=this.b.c).e;c!==r;c=c.e)for(var d=0;d<3;++d){var f=c.g[d];f<l[d]&&(l[d]=f,h[d]=c),f>o[d]&&(o[d]=f,u[d]=c)}if(c=0,o[1]-l[1]>o[0]-l[0]&&(c=1),o[2]-l[2]>o[c]-l[c]&&(c=2),l[c]>=o[c])i[0]=0,i[1]=0,i[2]=1;else{for(o=0,l=h[c],u=u[c],h=[0,0,0],l=[l.g[0]-u.g[0],l.g[1]-u.g[1],l.g[2]-u.g[2]],d=[0,0,0],c=r.e;c!==r;c=c.e)d[0]=c.g[0]-u.g[0],d[1]=c.g[1]-u.g[1],d[2]=c.g[2]-u.g[2],h[0]=l[1]*d[2]-l[2]*d[1],h[1]=l[2]*d[0]-l[0]*d[2],h[2]=l[0]*d[1]-l[1]*d[0],o<(f=h[0]*h[0]+h[1]*h[1]+h[2]*h[2])&&(o=f,i[0]=h[0],i[1]=h[1],i[2]=h[2]);o<=0&&(i[0]=i[1]=i[2]=0,i[C(l)]=1)}r=!0}for(h=C(i),c=this.b.c,o=(h+1)%3,u=(h+2)%3,h=0<i[h]?1:-1,i=c.e;i!==c;i=i.e)i.b=i.g[o],i.a=h*i.g[u];if(r){for(i=0,c=(r=this.b.a).b;c!==r;c=c.b)if(!((o=c.a).f<=0))for(;i+=(o.a.b-o.b.a.b)*(o.a.a+o.b.a.a),(o=o.e)!==c.a;);if(i<0)for(r=(i=this.b.c).e;r!==i;r=r.e)r.a=-r.a}for(this.n=!1,c=(i=this.b.b).h;c!==i;c=r)r=c.h,o=c.e,n(c.a,c.b.a)&&c.e.e!==c&&(G(this,o,c),p(c),o=(c=o).e),o.e===c&&(o!==c&&(o!==r&&o!==r.b||(r=r.h),p(o)),c!==r&&c!==r.b||(r=r.h),p(c));for(this.e=i=new et,c=(r=this.b.c).e;c!==r;c=c.e)c.h=rt(i,c);for(function(t){t.d=[];for(var e=0;e<t.a;e++)t.d[e]=e;var r;t.d.sort((r=t.c,function(t,e){return a(r[t],r[e])?1:-1})),t.e=!0,function(t){for(var e=t.a;1<=e;--e)lt(t,e);t.h=!0}(t.b)}(i),this.f=new H(this),z(this,-M),z(this,M);null!==(i=it(this.e));){for(;;){t:if(c=this.e,0===c.a)r=ot(c.b);else if(r=c.c[c.d[c.a-1]],0!==c.b.a&&(c=ot(c.b),a(c,r))){r=c;break t}if(null===r||!n(r,i))break;r=it(this.e),G(this,i.c,r.c)}U(this,i)}for(this.a=this.f.a.a.b.a.a,i=0;null!==(r=this.f.a.a.b);)r.h||++i,A(r);for(this.f=null,(i=this.e).b=null,i.d=null,this.e=i.c=null,c=(i=this.b).a.b;c!==i.a;c=r)r=c.b,(c=c.a).e.e===c&&(P(c.c,c),p(c));if(!this.n){if(i=this.b,this.m)for(c=i.b.h;c!==i.b;c=r)r=c.h,c.b.d.c!==c.d.c?c.f=c.d.c?1:-1:p(c);else for(c=i.a.b;c!==i.a;c=r)if(r=c.b,c.c){for(c=c.a;a(c.b.a,c.a);c=c.c.b);for(;a(c.a,c.b.a);c=c.e);for(o=c.c.b,u=void 0;c.e!==o;)if(a(c.b.a,o.a)){for(;o.e!==c&&(a((e=o.e).b.a,e.a)||s(o.a,o.b.a,o.e.b.a)<=0);)o=(u=g(o.e,o)).b;o=o.c.b}else{for(;o.e!==c&&(a((t=c.c.b).a,t.b.a)||0<=s(c.b.a,c.a,c.c.b.a));)c=(u=g(c,c.c.b)).b;c=c.e}for(;o.e.e!==c;)o=(u=g(o.e,o)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(r=(i=this.b).a.b;r!==i.a;r=r.b)if(r.c){for(this.h&&this.h(2,this.c),c=r.a;this.k&&this.k(c.a.d,this.c),(c=c.e)!==r.a;);this.i&&this.i(this.c)}}else{for(i=this.b,r=!!this.l,c=!1,o=-1,u=i.a.d;u!==i.a;u=u.d)if(u.c)for(c||(this.h&&this.h(4,this.c),c=!0),h=u.a;r&&o!==(l=h.b.d.c?0:1)&&(o=l,this.l&&this.l(!!o,this.c)),this.k&&this.k(h.a.d,this.c),(h=h.e)!==u.a;);c&&this.i&&this.i(this.c)}if(this.r){for(c=(i=this.b).a.b;c!==i.a;c=r)if(r=c.b,!c.c){for(u=(o=c.a).e,h=void 0;u=(h=u).e,(h.d=null)===h.b.d&&(h.c===h?w(h.a,null):(h.a.c=h.c,_(h,K(h))),(l=h.b).c===l?w(l.a,null):(l.a.c=l.c,_(l,K(l))),x(h)),h!==o;);o=c.d,((c=c.b).d=o).b=c}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:X,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},X.prototype.gluDeleteTess=X.prototype.x,X.prototype.gluTessProperty=X.prototype.B,X.prototype.gluGetTessProperty=X.prototype.y,X.prototype.gluTessNormal=X.prototype.A,X.prototype.gluTessCallback=X.prototype.z,X.prototype.gluTessVertex=X.prototype.C,X.prototype.gluTessBeginPolygon=X.prototype.u,X.prototype.gluTessBeginContour=X.prototype.t,X.prototype.gluTessEndContour=X.prototype.v,X.prototype.gluTessEndPolygon=X.prototype.w,void 0!==e&&(e.exports=this.libtess)},{}],2:[function(t,e,r){"use strict";function i(t,e,r,i){for(var n=t[e++],a=1<<n,o=a+1,s=o+1,l=n+1,u=(1<<l)-1,h=0,c=0,d=0,f=t[e++],p=new Int32Array(4096),m=null;;){for(;h<16&&0!==f;)c|=t[e++]<<h,h+=8,1===f?f=t[e++]:--f;if(h<l)break;var g=c&u;if(c>>=l,h-=l,g!==a){if(g===o)break;for(var v=g<s?g:m,_=0,y=v;a<y;)y=p[y]>>8,++_;var b=y;if(i<d+_+(v!==g?1:0))return void console.log("Warning, gif stream longer than expected.");r[d++]=b;var x=d+=_;for(v!==g&&(r[d++]=b),y=v;_--;)y=p[y],r[--x]=255&y,y>>=8;null!==m&&s<4096&&(p[s++]=m<<8|b,u+1<=s&&l<12&&(++l,u=u<<1|1)),m=g}else s=o+1,u=(1<<(l=n+1))-1,m=null}return d!==i&&console.log("Warning, gif stream shorter than expected."),r}try{r.GifWriter=function(t,e,r,i){var n=0,a=void 0===(i=void 0===i?{}:i).loop?null:i.loop,o=void 0===i.palette?null:i.palette;if(e<=0||r<=0||65535<e||65535<r)throw new Error("Width/Height invalid.");function s(t){var e=t.length;if(e<2||256<e||e&e-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return e}t[n++]=71,t[n++]=73,t[n++]=70,t[n++]=56,t[n++]=57,t[n++]=97;var l=0,u=0;if(null!==o){for(var h=s(o);h>>=1;)++l;if(h=1<<l,--l,void 0!==i.background){if(h<=(u=i.background))throw new Error("Background index out of range.");if(0===u)throw new Error("Background index explicitly passed as 0.")}}if(t[n++]=255&e,t[n++]=e>>8&255,t[n++]=255&r,t[n++]=r>>8&255,t[n++]=(null!==o?128:0)|l,t[n++]=u,t[n++]=0,null!==o)for(var c=0,d=o.length;c<d;++c){var f=o[c];t[n++]=f>>16&255,t[n++]=f>>8&255,t[n++]=255&f}if(null!==a){if(a<0||65535<a)throw new Error("Loop count invalid.");t[n++]=33,t[n++]=255,t[n++]=11,t[n++]=78,t[n++]=69,t[n++]=84,t[n++]=83,t[n++]=67,t[n++]=65,t[n++]=80,t[n++]=69,t[n++]=50,t[n++]=46,t[n++]=48,t[n++]=3,t[n++]=1,t[n++]=255&a,t[n++]=a>>8&255,t[n++]=0}var p=!1;this.addFrame=function(e,r,i,a,l,u){if(!0===p&&(--n,p=!1),u=void 0===u?{}:u,e<0||r<0||65535<e||65535<r)throw new Error("x/y invalid.");if(i<=0||a<=0||65535<i||65535<a)throw new Error("Width/Height invalid.");if(l.length<i*a)throw new Error("Not enough pixels for the frame size.");var h=!0,c=u.palette;if(null==c&&(h=!1,c=o),null==c)throw new Error("Must supply either a local or global palette.");for(var d=s(c),f=0;d>>=1;)++f;d=1<<f;var m=void 0===u.delay?0:u.delay,g=void 0===u.disposal?0:u.disposal;if(g<0||3<g)throw new Error("Disposal out of range.");var v=!1,_=0;if(void 0!==u.transparent&&null!==u.transparent&&(v=!0,(_=u.transparent)<0||d<=_))throw new Error("Transparent color index.");if((0!==g||v||0!==m)&&(t[n++]=33,t[n++]=249,t[n++]=4,t[n++]=g<<2|(!0===v?1:0),t[n++]=255&m,t[n++]=m>>8&255,t[n++]=_,t[n++]=0),t[n++]=44,t[n++]=255&e,t[n++]=e>>8&255,t[n++]=255&r,t[n++]=r>>8&255,t[n++]=255&i,t[n++]=i>>8&255,t[n++]=255&a,t[n++]=a>>8&255,t[n++]=!0===h?128|f-1:0,!0===h)for(var y=0,b=c.length;y<b;++y){var x=c[y];t[n++]=x>>16&255,t[n++]=x>>8&255,t[n++]=255&x}return n=function(t,e,r,i){t[e++]=r;var n=e++,a=1<<r,o=a-1,s=a+1,l=s+1,u=r+1,h=0,c=0;function d(r){for(;r<=h;)t[e++]=255&c,c>>=8,h-=8,e===n+256&&(t[n]=255,n=e++)}function f(t){c|=t<<h,h+=u,d(8)}var p=i[0]&o,m={};f(a);for(var g=1,v=i.length;g<v;++g){var _=i[g]&o,y=p<<8|_,b=m[y];if(void 0===b){for(c|=p<<h,h+=u;8<=h;)t[e++]=255&c,c>>=8,h-=8,e===n+256&&(t[n]=255,n=e++);4096===l?(f(a),l=s+1,u=r+1,m={}):(1<<u<=l&&++u,m[y]=l++),p=_}else p=b}return f(p),f(s),d(1),n+1===e?t[n]=0:(t[n]=e-n-1,t[e++]=0),e}(t,n,f<2?2:f,l)},this.end=function(){return!1===p&&(t[n++]=59,p=!0),n},this.getOutputBuffer=function(){return t},this.setOutputBuffer=function(e){t=e},this.getOutputBufferPosition=function(){return n},this.setOutputBufferPosition=function(t){n=t}},r.GifReader=function(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||56!=(t[e++]+1&253)||97!==t[e++])throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],o=a>>7,s=1<<1+(7&a);t[e++],t[e++];var l=null,u=null;o&&(l=e,e+=3*(u=s));var h=!0,c=[],d=0,f=null,p=0,m=null;for(this.width=r,this.height=n;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,m=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!(0<=(E=t[e++])))throw Error("Invalid block size");if(0===E)break;e+=E}break;case 249:if(4!==t[e++]||0!==t[e+4])throw new Error("Invalid graphics extension block.");var g=t[e++];d=t[e++]|t[e++]<<8,f=t[e++],0==(1&g)&&(f=null),p=g>>2&7,e++;break;case 254:for(;;){if(!(0<=(E=t[e++])))throw Error("Invalid block size");if(0===E)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var v=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,x=t[e++],w=x>>6&1,S=l,C=u,M=!1;x>>7&&(M=!0,S=e,e+=3*(C=1<<1+(7&x)));var P=e;for(e++;;){var E;if(!(0<=(E=t[e++])))throw Error("Invalid block size");if(0===E)break;e+=E}c.push({x:v,y:_,width:y,height:b,has_local_palette:M,palette_offset:S,palette_size:C,data_offset:P,data_length:e-P,transparent_index:f,interlaced:!!w,delay:d,disposal:p});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return m},this.frameInfo=function(t){if(t<0||t>=c.length)throw new Error("Frame index out of range.");return c[t]},this.decodeAndBlitFrameBGRA=function(e,n){var a=this.frameInfo(e),o=a.width*a.height,s=new Uint8Array(o);i(t,a.data_offset,s,o);var l=a.palette_offset,u=a.transparent_index;null===u&&(u=256);var h=a.width,c=r-h,d=h,f=4*(a.y*r+a.x),p=4*((a.y+a.height)*r+a.x),m=f,g=4*c;!0===a.interlaced&&(g+=4*r*7);for(var v=8,_=0,y=s.length;_<y;++_){var b=s[_];if(0===d&&(d=h,p<=(m+=g)&&(g=4*c+4*r*(v-1),m=f+(h+c)*(v<<1),v>>=1)),b===u)m+=4;else{var x=t[l+3*b],w=t[l+3*b+1],S=t[l+3*b+2];n[m++]=S,n[m++]=w,n[m++]=x,n[m++]=255}--d}},this.decodeAndBlitFrameRGBA=function(e,n){var a=this.frameInfo(e),o=a.width*a.height,s=new Uint8Array(o);i(t,a.data_offset,s,o);var l=a.palette_offset,u=a.transparent_index;null===u&&(u=256);var h=a.width,c=r-h,d=h,f=4*(a.y*r+a.x),p=4*((a.y+a.height)*r+a.x),m=f,g=4*c;!0===a.interlaced&&(g+=4*r*7);for(var v=8,_=0,y=s.length;_<y;++_){var b=s[_];if(0===d&&(d=h,p<=(m+=g)&&(g=4*c+4*r*(v-1),m=f+(h+c)*(v<<1),v>>=1)),b===u)m+=4;else{var x=t[l+3*b],w=t[l+3*b+1],S=t[l+3*b+2];n[m++]=x,n[m++]=w,n[m++]=S,n[m++]=255}--d}}}}catch(t){}},{}],3:[function(t,e,r){(function(t){function e(t,e){for(var r=0,i=t.length-1;0<=i;i--){var n=t[i];"."===n?t.splice(i,1):".."===n?(t.splice(i,1),r++):r&&(t.splice(i,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function i(t,e){if(t.filter)return t.filter(e);for(var r=[],i=0;i<t.length;i++)e(t[i],i,t)&&r.push(t[i]);return r}r.resolve=function(){for(var r="",n=!1,a=arguments.length-1;-1<=a&&!n;a--){var o=0<=a?arguments[a]:t.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(r=o+"/"+r,n="/"===o.charAt(0))}return(n?"/":"")+(r=e(i(r.split("/"),(function(t){return!!t})),!n).join("/"))||"."},r.normalize=function(t){var a=r.isAbsolute(t),o="/"===n(t,-1);return(t=e(i(t.split("/"),(function(t){return!!t})),!a).join("/"))||a||(t="."),t&&o&&(t+="/"),(a?"/":"")+t},r.isAbsolute=function(t){return"/"===t.charAt(0)},r.join=function(){var t=Array.prototype.slice.call(arguments,0);return r.normalize(i(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},r.relative=function(t,e){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;0<=r&&""===t[r];r--);return r<e?[]:t.slice(e,r-e+1)}t=r.resolve(t).substr(1),e=r.resolve(e).substr(1);for(var n=i(t.split("/")),a=i(e.split("/")),o=Math.min(n.length,a.length),s=o,l=0;l<o;l++)if(n[l]!==a[l]){s=l;break}var u=[];for(l=s;l<n.length;l++)u.push("..");return(u=u.concat(a.slice(s))).join("/")},r.sep="/",r.delimiter=":",r.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),r=47===e,i=-1,n=!0,a=t.length-1;1<=a;--a)if(47===(e=t.charCodeAt(a))){if(!n){i=a;break}}else n=!1;return-1===i?r?"/":".":r&&1===i?"/":t.slice(0,i)},r.basename=function(t,e){var r=function(t){"string"!=typeof t&&(t+="");var e,r=0,i=-1,n=!0;for(e=t.length-1;0<=e;--e)if(47===t.charCodeAt(e)){if(!n){r=e+1;break}}else-1===i&&(n=!1,i=e+1);return-1===i?"":t.slice(r,i)}(t);return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},r.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,r=0,i=-1,n=!0,a=0,o=t.length-1;0<=o;--o){var s=t.charCodeAt(o);if(47===s){if(n)continue;r=o+1;break}-1===i&&(n=!1,i=o+1),46===s?-1===e?e=o:1!==a&&(a=1):-1!==e&&(a=-1)}return-1===e||-1===i||0===a||1===a&&e===i-1&&e===r+1?"":t.slice(e,i)};var n="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,t("_process"))},{_process:4}],4:[function(t,e,r){var i,n,a=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(t){i=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var u,h=[],c=!1,d=-1;function f(){c&&u&&(c=!1,u.length?h=u.concat(h):d=-1,h.length&&p())}function p(){if(!c){var t=l(f);c=!0;for(var e=h.length;e;){for(u=h,h=[];++d<e;)u&&u[d].run();d=-1,e=h.length}u=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function g(){}a.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new m(t,e)),1!==h.length||c||l(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=g,a.addListener=g,a.once=g,a.off=g,a.removeListener=g,a.removeAllListeners=g,a.emit=g,a.prependListener=g,a.prependOnceListener=g,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],5:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("../core/main"))&&i.__esModule?i:{default:i};n.default.ColorConversion={},n.default.ColorConversion._hsbaToHSLA=function(t){var e=t[0],r=t[1],i=t[2],n=(2-r)*i/2;return 0!==n&&(1===n?r=0:n<.5?r/=2-r:r=r*i/(2-2*n)),[e,r,n,t[3]]},n.default.ColorConversion._hsbaToRGBA=function(t){var e=6*t[0],r=t[1],i=t[2],n=[];if(0===r)n=[i,i,i,t[3]];else{var a,o,s,l=Math.floor(e),u=i*(1-r),h=i*(1-r*(e-l)),c=i*(1-r*(1+l-e));s=1===l?(a=h,o=i,u):2===l?(a=u,o=i,c):3===l?(a=u,o=h,i):4===l?(a=c,o=u,i):5===l?(a=i,o=u,h):(a=i,o=c,u),n=[a,o,s,t[3]]}return n},n.default.ColorConversion._hslaToHSBA=function(t){var e,r=t[0],i=t[1],n=t[2];return[r,i=2*((e=n<.5?(1+i)*n:n+i-n*i)-n)/e,e,t[3]]},n.default.ColorConversion._hslaToRGBA=function(t){var e=6*t[0],r=t[1],i=t[2],n=[];if(0===r)n=[i,i,i,t[3]];else{var a,o=2*i-(a=i<.5?(1+r)*i:i+r-i*r),s=function(t,e,r){return t<0?t+=6:6<=t&&(t-=6),t<1?e+(r-e)*t:t<3?r:t<4?e+(r-e)*(4-t):e};n=[s(e+2,o,a),s(e,o,a),s(e-2,o,a),t[3]]}return n},n.default.ColorConversion._rgbaToHSBA=function(t){var e,r,i=t[0],n=t[1],a=t[2],o=Math.max(i,n,a),s=o-Math.min(i,n,a);return 0===s?r=e=0:(r=s/o,i===o?e=(n-a)/s:n===o?e=2+(a-i)/s:a===o&&(e=4+(i-n)/s),e<0?e+=6:6<=e&&(e-=6)),[e/6,r,o,t[3]]},n.default.ColorConversion._rgbaToHSLA=function(t){var e,r,i=t[0],n=t[1],a=t[2],o=Math.max(i,n,a),s=Math.min(i,n,a),l=o+s,u=o-s;return 0===u?r=e=0:(r=l<1?u/l:u/(2-l),i===o?e=(n-a)/u:n===o?e=2+(a-i)/u:a===o&&(e=4+(i-n)/u),e<0?e+=6:6<=e&&(e-=6)),[e/6,r,l/2,t[3]]};var a=n.default.ColorConversion;r.default=a},{"../core/main":15}],6:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("../core/main"))&&i.__esModule?i:{default:i},a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}(t("../core/constants"));t("./p5.Color"),t("../core/error_helpers"),n.default.prototype.alpha=function(t){return n.default._validateParameters("alpha",arguments),this.color(t)._getAlpha()},n.default.prototype.blue=function(t){return n.default._validateParameters("blue",arguments),this.color(t)._getBlue()},n.default.prototype.brightness=function(t){return n.default._validateParameters("brightness",arguments),this.color(t)._getBrightness()},n.default.prototype.color=function(){if(n.default._validateParameters("color",arguments),arguments[0]instanceof n.default.Color)return arguments[0];var t=arguments[0]instanceof Array?arguments[0]:arguments;return new n.default.Color(this,t)},n.default.prototype.green=function(t){return n.default._validateParameters("green",arguments),this.color(t)._getGreen()},n.default.prototype.hue=function(t){return n.default._validateParameters("hue",arguments),this.color(t)._getHue()},n.default.prototype.lerpColor=function(t,e,r){n.default._validateParameters("lerpColor",arguments);var i,o,s,l,u,h,c=this._colorMode,d=this._colorMaxes;if(c===a.RGB)u=t.levels.map((function(t){return t/255})),h=e.levels.map((function(t){return t/255}));else if(c===a.HSB)t._getBrightness(),e._getBrightness(),u=t.hsba,h=e.hsba;else{if(c!==a.HSL)throw new Error("".concat(c,"cannot be used for interpolation."));t._getLightness(),e._getLightness(),u=t.hsla,h=e.hsla}return r=Math.max(Math.min(r,1),0),void 0===this.lerp&&(this.lerp=function(t,e,r){return r*(e-t)+t}),i=this.lerp(u[0],h[0],r),o=this.lerp(u[1],h[1],r),s=this.lerp(u[2],h[2],r),l=this.lerp(u[3],h[3],r),i*=d[c][0],o*=d[c][1],s*=d[c][2],l*=d[c][3],this.color(i,o,s,l)},n.default.prototype.lightness=function(t){return n.default._validateParameters("lightness",arguments),this.color(t)._getLightness()},n.default.prototype.red=function(t){return n.default._validateParameters("red",arguments),this.color(t)._getRed()},n.default.prototype.saturation=function(t){return n.default._validateParameters("saturation",arguments),this.color(t)._getSaturation()};var o=n.default;r.default=o},{"../core/constants":9,"../core/error_helpers":11,"../core/main":15,"./p5.Color":7}],7:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(t("../core/main")),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}(t("../core/constants")),a=o(t("./color_conversion"));function o(t){return t&&t.__esModule?t:{default:t}}i.default.Color=function(t,e){if(this._storeModeAndMaxes(t._colorMode,t._colorMaxes),this.mode!==n.RGB&&this.mode!==n.HSL&&this.mode!==n.HSB)throw new Error("".concat(this.mode," is an invalid colorMode."));return this._array=i.default.Color._parseInputs.apply(this,e),this._calculateLevels(),this},i.default.Color.prototype.toString=function(t){var e=this.levels,r=this._array,i=r[3];switch(t){case"#rrggbb":return"#".concat(e[0]<16?"0".concat(e[0].toString(16)):e[0].toString(16),e[1]<16?"0".concat(e[1].toString(16)):e[1].toString(16),e[2]<16?"0".concat(e[2].toString(16)):e[2].toString(16));case"#rrggbbaa":return"#".concat(e[0]<16?"0".concat(e[0].toString(16)):e[0].toString(16),e[1]<16?"0".concat(e[1].toString(16)):e[1].toString(16),e[2]<16?"0".concat(e[2].toString(16)):e[2].toString(16),e[3]<16?"0".concat(e[2].toString(16)):e[3].toString(16));case"#rgb":return"#".concat(Math.round(15*r[0]).toString(16),Math.round(15*r[1]).toString(16),Math.round(15*r[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*r[0]).toString(16),Math.round(15*r[1]).toString(16),Math.round(15*r[2]).toString(16),Math.round(15*r[3]).toString(16));case"rgb":return"rgb(".concat(e[0],", ",e[1],", ",e[2],")");case"rgb%":return"rgb(".concat((100*r[0]).toPrecision(3),"%, ",(100*r[1]).toPrecision(3),"%, ",(100*r[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*r[0]).toPrecision(3),"%, ",(100*r[1]).toPrecision(3),"%, ",(100*r[2]).toPrecision(3),"%, ",(100*r[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=a.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[n.HSB][0],", ",this.hsba[1]*this.maxes[n.HSB][1],", ",this.hsba[2]*this.maxes[n.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=a.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=a.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[n.HSB][0],", ",this.hsba[1]*this.maxes[n.HSB][1],", ",this.hsba[2]*this.maxes[n.HSB][2],", ",i,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=a.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*i).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=a.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[n.HSL][0],", ",this.hsla[1]*this.maxes[n.HSL][1],", ",this.hsla[2]*this.maxes[n.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=a.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=a.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[n.HSL][0],", ",this.hsla[1]*this.maxes[n.HSL][1],", ",this.hsla[2]*this.maxes[n.HSL][2],", ",i,")");case"hsla%":return this.hsla||(this.hsla=a.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*i).toPrecision(3),"%)");case"rgba":default:return"rgba(".concat(e[0],",",e[1],",",e[2],",",i,")")}},i.default.Color.prototype.setRed=function(t){this._array[0]=t/this.maxes[n.RGB][0],this._calculateLevels()},i.default.Color.prototype.setGreen=function(t){this._array[1]=t/this.maxes[n.RGB][1],this._calculateLevels()},i.default.Color.prototype.setBlue=function(t){this._array[2]=t/this.maxes[n.RGB][2],this._calculateLevels()},i.default.Color.prototype.setAlpha=function(t){this._array[3]=t/this.maxes[this.mode][3],this._calculateLevels()},i.default.Color.prototype._calculateLevels=function(){for(var t=this._array,e=this.levels=new Array(t.length),r=t.length-1;0<=r;--r)e[r]=Math.round(255*t[r])},i.default.Color.prototype._getAlpha=function(){return this._array[3]*this.maxes[this.mode][3]},i.default.Color.prototype._storeModeAndMaxes=function(t,e){this.mode=t,this.maxes=e},i.default.Color.prototype._getMode=function(){return this.mode},i.default.Color.prototype._getMaxes=function(){return this.maxes},i.default.Color.prototype._getBlue=function(){return this._array[2]*this.maxes[n.RGB][2]},i.default.Color.prototype._getBrightness=function(){return this.hsba||(this.hsba=a.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[n.HSB][2]},i.default.Color.prototype._getGreen=function(){return this._array[1]*this.maxes[n.RGB][1]},i.default.Color.prototype._getHue=function(){return this.mode===n.HSB?(this.hsba||(this.hsba=a.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[n.HSB][0]):(this.hsla||(this.hsla=a.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[n.HSL][0])},i.default.Color.prototype._getLightness=function(){return this.hsla||(this.hsla=a.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[n.HSL][2]},i.default.Color.prototype._getRed=function(){return this._array[0]*this.maxes[n.RGB][0]},i.default.Color.prototype._getSaturation=function(){return this.mode===n.HSB?(this.hsba||(this.hsba=a.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[n.HSB][1]):(this.hsla||(this.hsla=a.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[n.HSL][1])};var s={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},l=/\s*/,u=/(\d{1,3})/,h=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,c=new RegExp("".concat(h.source,"%")),d={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",u.source,",",u.source,",",u.source,"\\)$"].join(l.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",c.source,",",c.source,",",c.source,"\\)$"].join(l.source),"i"),RGBA:new RegExp(["^rgba\\(",u.source,",",u.source,",",u.source,",",h.source,"\\)$"].join(l.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",c.source,",",c.source,",",c.source,",",h.source,"\\)$"].join(l.source),"i"),HSL:new RegExp(["^hsl\\(",u.source,",",c.source,",",c.source,"\\)$"].join(l.source),"i"),HSLA:new RegExp(["^hsla\\(",u.source,",",c.source,",",c.source,",",h.source,"\\)$"].join(l.source),"i"),HSB:new RegExp(["^hsb\\(",u.source,",",c.source,",",c.source,"\\)$"].join(l.source),"i"),HSBA:new RegExp(["^hsba\\(",u.source,",",c.source,",",c.source,",",h.source,"\\)$"].join(l.source),"i")};i.default.Color._parseInputs=function(t,e,r,o){var l,u=arguments.length,h=this.mode,c=this.maxes[h],f=[];if(3<=u){for(f[0]=t/c[0],f[1]=e/c[1],f[2]=r/c[2],f[3]="number"==typeof o?o/c[3]:1,l=f.length-1;0<=l;--l){var p=f[l];p<0?f[l]=0:1<p&&(f[l]=1)}return h===n.HSL?a.default._hslaToRGBA(f):h===n.HSB?a.default._hsbaToRGBA(f):f}if(1===u&&"string"==typeof t){var m=t.trim().toLowerCase();if(s[m])return i.default.Color._parseInputs.call(this,s[m]);if(d.HEX3.test(m))return(f=d.HEX3.exec(m).slice(1).map((function(t){return parseInt(t+t,16)/255})))[3]=1,f;if(d.HEX6.test(m))return(f=d.HEX6.exec(m).slice(1).map((function(t){return parseInt(t,16)/255})))[3]=1,f;if(d.HEX4.test(m))return d.HEX4.exec(m).slice(1).map((function(t){return parseInt(t+t,16)/255}));if(d.HEX8.test(m))return d.HEX8.exec(m).slice(1).map((function(t){return parseInt(t,16)/255}));if(d.RGB.test(m))return(f=d.RGB.exec(m).slice(1).map((function(t){return t/255})))[3]=1,f;if(d.RGB_PERCENT.test(m))return(f=d.RGB_PERCENT.exec(m).slice(1).map((function(t){return parseFloat(t)/100})))[3]=1,f;if(d.RGBA.test(m))return d.RGBA.exec(m).slice(1).map((function(t,e){return 3===e?parseFloat(t):t/255}));if(d.RGBA_PERCENT.test(m))return d.RGBA_PERCENT.exec(m).slice(1).map((function(t,e){return 3===e?parseFloat(t):parseFloat(t)/100}));if(d.HSL.test(m)?(f=d.HSL.exec(m).slice(1).map((function(t,e){return 0===e?parseInt(t,10)/360:parseInt(t,10)/100})))[3]=1:d.HSLA.test(m)&&(f=d.HSLA.exec(m).slice(1).map((function(t,e){return 0===e?parseInt(t,10)/360:3===e?parseFloat(t):parseInt(t,10)/100}))),(f=f.map((function(t){return Math.max(Math.min(t,1),0)}))).length)return a.default._hslaToRGBA(f);if(d.HSB.test(m)?(f=d.HSB.exec(m).slice(1).map((function(t,e){return 0===e?parseInt(t,10)/360:parseInt(t,10)/100})))[3]=1:d.HSBA.test(m)&&(f=d.HSBA.exec(m).slice(1).map((function(t,e){return 0===e?parseInt(t,10)/360:3===e?parseFloat(t):parseInt(t,10)/100}))),f.length){for(l=f.length-1;0<=l;--l)f[l]=Math.max(Math.min(f[l],1),0);return a.default._hsbaToRGBA(f)}f=[1,1,1,1]}else{if(1!==u&&2!==u||"number"!=typeof t)throw new Error("".concat(arguments,"is not a valid color representation."));f[0]=t/c[2],f[1]=t/c[2],f[2]=t/c[2],f[3]="number"==typeof e?e/c[3]:1,f=f.map((function(t){return Math.max(Math.min(t,1),0)}))}return f};var f=i.default.Color;r.default=f},{"../core/constants":9,"../core/main":15,"./color_conversion":5}],8:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("../core/main"))&&i.__esModule?i:{default:i},a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}(t("../core/constants"));t("./p5.Color"),n.default.prototype.background=function(){var t;return(t=this._renderer).background.apply(t,arguments),this},n.default.prototype.clear=function(){return this._renderer.clear(),this},n.default.prototype.colorMode=function(t,e,r,i,o){if(n.default._validateParameters("colorMode",arguments),t===a.RGB||t===a.HSB||t===a.HSL){this._colorMode=t;var s=this._colorMaxes[t];2===arguments.length?(s[0]=e,s[1]=e,s[2]=e,s[3]=e):4===arguments.length?(s[0]=e,s[1]=r,s[2]=i):5===arguments.length&&(s[0]=e,s[1]=r,s[2]=i,s[3]=o)}return this},n.default.prototype.fill=function(){var t;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(t=this._renderer).fill.apply(t,arguments),this},n.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},n.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},n.default.prototype.stroke=function(){var t;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(t=this._renderer).stroke.apply(t,arguments),this},n.default.prototype.erase=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:255;return this._renderer.erase(t,e),this},n.default.prototype.noErase=function(){return this._renderer.noErase(),this};var o=n.default;r.default=o},{"../core/constants":9,"../core/main":15,"./p5.Color":7}],9:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TEXTURE=r.FILL=r.STROKE=r.CURVE=r.BEZIER=r.QUADRATIC=r.LINEAR=r._CTX_MIDDLE=r._DEFAULT_LEADMULT=r._DEFAULT_TEXT_FILL=r.BOLDITALIC=r.BOLD=r.ITALIC=r.NORMAL=r.BLUR=r.ERODE=r.DILATE=r.POSTERIZE=r.INVERT=r.OPAQUE=r.GRAY=r.THRESHOLD=r.BURN=r.DODGE=r.SOFT_LIGHT=r.HARD_LIGHT=r.OVERLAY=r.REPLACE=r.SCREEN=r.MULTIPLY=r.EXCLUSION=r.SUBTRACT=r.DIFFERENCE=r.LIGHTEST=r.DARKEST=r.ADD=r.REMOVE=r.BLEND=r.UP_ARROW=r.TAB=r.SHIFT=r.RIGHT_ARROW=r.RETURN=r.OPTION=r.LEFT_ARROW=r.ESCAPE=r.ENTER=r.DOWN_ARROW=r.DELETE=r.CONTROL=r.BACKSPACE=r.ALT=r.AUTO=r.HSL=r.HSB=r.RGB=r.MITER=r.BEVEL=r.ROUND=r.SQUARE=r.PROJECT=r.PIE=r.CHORD=r.OPEN=r.CLOSE=r.QUAD_STRIP=r.QUADS=r.TRIANGLE_STRIP=r.TRIANGLE_FAN=r.TRIANGLES=r.LINE_LOOP=r.LINE_STRIP=r.LINES=r.POINTS=r.BASELINE=r.BOTTOM=r.TOP=r.CENTER=r.LEFT=r.RIGHT=r.RADIUS=r.CORNERS=r.CORNER=r.RAD_TO_DEG=r.DEG_TO_RAD=r.RADIANS=r.DEGREES=r.TWO_PI=r.TAU=r.QUARTER_PI=r.PI=r.HALF_PI=r.WAIT=r.TEXT=r.MOVE=r.HAND=r.CROSS=r.ARROW=r.WEBGL=r.P2D=void 0,r.AXES=r.GRID=r._DEFAULT_FILL=r._DEFAULT_STROKE=r.PORTRAIT=r.LANDSCAPE=r.MIRROR=r.CLAMP=r.REPEAT=r.NEAREST=r.IMAGE=r.IMMEDIATE=void 0;var i=Math.PI;r.P2D="p2d",r.WEBGL="webgl",r.ARROW="default",r.CROSS="crosshair",r.HAND="pointer",r.MOVE="move",r.TEXT="text",r.WAIT="wait";var n=i/2;r.HALF_PI=n;var a=i;r.PI=a;var o=i/4;r.QUARTER_PI=o;var s=2*i;r.TAU=s;var l=2*i;r.TWO_PI=l,r.DEGREES="degrees",r.RADIANS="radians";var u=i/180;r.DEG_TO_RAD=u;var h=180/i;r.RAD_TO_DEG=h,r.CORNER="corner",r.CORNERS="corners",r.RADIUS="radius",r.RIGHT="right",r.LEFT="left",r.CENTER="center",r.TOP="top",r.BOTTOM="bottom",r.BASELINE="alphabetic",r.POINTS=0,r.LINES=1,r.LINE_STRIP=3,r.LINE_LOOP=2,r.TRIANGLES=4,r.TRIANGLE_FAN=6,r.TRIANGLE_STRIP=5,r.QUADS="quads",r.QUAD_STRIP="quad_strip",r.CLOSE="close",r.OPEN="open",r.CHORD="chord",r.PIE="pie",r.PROJECT="square",r.SQUARE="butt",r.ROUND="round",r.BEVEL="bevel",r.MITER="miter",r.RGB="rgb",r.HSB="hsb",r.HSL="hsl",r.AUTO="auto",r.ALT=18,r.BACKSPACE=8,r.CONTROL=17,r.DELETE=46,r.DOWN_ARROW=40,r.ENTER=13,r.ESCAPE=27,r.LEFT_ARROW=37,r.OPTION=18,r.RETURN=13,r.RIGHT_ARROW=39,r.SHIFT=16,r.TAB=9,r.UP_ARROW=38,r.BLEND="source-over",r.REMOVE="destination-out",r.ADD="lighter",r.DARKEST="darken",r.LIGHTEST="lighten",r.DIFFERENCE="difference",r.SUBTRACT="subtract",r.EXCLUSION="exclusion",r.MULTIPLY="multiply",r.SCREEN="screen",r.REPLACE="copy",r.OVERLAY="overlay",r.HARD_LIGHT="hard-light",r.SOFT_LIGHT="soft-light",r.DODGE="color-dodge",r.BURN="color-burn",r.THRESHOLD="threshold",r.GRAY="gray",r.OPAQUE="opaque",r.INVERT="invert",r.POSTERIZE="posterize",r.DILATE="dilate",r.ERODE="erode",r.BLUR="blur",r.NORMAL="normal",r.ITALIC="italic",r.BOLD="bold",r.BOLDITALIC="bold italic",r._DEFAULT_TEXT_FILL="#000000",r._DEFAULT_LEADMULT=1.25,r._CTX_MIDDLE="middle",r.LINEAR="linear",r.QUADRATIC="quadratic",r.BEZIER="bezier",r.CURVE="curve",r.STROKE="stroke",r.FILL="fill",r.TEXTURE="texture",r.IMMEDIATE="immediate",r.IMAGE="image",r.NEAREST="nearest",r.REPEAT="repeat",r.CLAMP="clamp",r.MIRROR="mirror",r.LANDSCAPE="landscape",r.PORTRAIT="portrait",r._DEFAULT_STROKE="#000000",r._DEFAULT_FILL="#FFFFFF",r.GRID="grid",r.AXES="axes"},{}],10:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("./main"))&&i.__esModule?i:{default:i},a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}(t("./constants")),o=[a.ARROW,a.CROSS,a.HAND,a.MOVE,a.TEXT,a.WAIT];n.default.prototype._frameRate=0,n.default.prototype._lastFrameTime=window.performance.now(),n.default.prototype._targetFrameRate=60;var s=window.print;function l(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function u(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}n.default.prototype.print=function(){var t;arguments.length?(t=console).log.apply(t,arguments):s()},n.default.prototype.frameCount=0,n.default.prototype.deltaTime=0,n.default.prototype.focused=document.hasFocus(),n.default.prototype.cursor=function(t,e,r){var i="auto",n=this._curElement.elt;if(o.includes(t))i=t;else if("string"==typeof t){var a="";e&&r&&"number"==typeof e&&"number"==typeof r&&(a="".concat(e," ").concat(r)),i="http://"===t.substring(0,7)||"https://"===t.substring(0,8)?"url(".concat(t,") ").concat(a,", auto"):/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(t)?"url(".concat(t,") ").concat(a,", auto"):t}n.style.cursor=i},n.default.prototype.frameRate=function(t){return n.default._validateParameters("frameRate",arguments),"number"!=typeof t||t<0?this._frameRate:(this._setProperty("_targetFrameRate",t),0===t&&this._setProperty("_frameRate",t),this)},n.default.prototype.getFrameRate=function(){return this.frameRate()},n.default.prototype.setFrameRate=function(t){return this.frameRate(t)},n.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},n.default.prototype.displayWidth=screen.width,n.default.prototype.displayHeight=screen.height,n.default.prototype.windowWidth=l(),n.default.prototype.windowHeight=u(),n.default.prototype._onresize=function(t){this._setProperty("windowWidth",l()),this._setProperty("windowHeight",u());var e,r=this._isGlobal?window:this;"function"==typeof r.windowResized&&(void 0===(e=r.windowResized(t))||e||t.preventDefault())},n.default.prototype.width=0,n.default.prototype.height=0,n.default.prototype.fullscreen=function(t){if(n.default._validateParameters("fullscreen",arguments),void 0===t)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;t?function(t){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}(document.documentElement):document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},n.default.prototype.pixelDensity=function(t){var e;return n.default._validateParameters("pixelDensity",arguments),"number"==typeof t?(t!==this._pixelDensity&&(this._pixelDensity=t,this._pixelsDirty=!0),(e=this).resizeCanvas(this.width,this.height,!0)):e=this._pixelDensity,e},n.default.prototype.displayDensity=function(){return window.devicePixelRatio},n.default.prototype.getURL=function(){return location.href},n.default.prototype.getURLPath=function(){return location.pathname.split("/").filter((function(t){return""!==t}))},n.default.prototype.getURLParams=function(){for(var t,e=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,r={};null!=(t=e.exec(location.search));)t.index===e.lastIndex&&e.lastIndex++,r[t[1]]=t[2];return r};var h=n.default;r.default=h},{"./constants":9,"./main":15}],11:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("./main"))&&i.__esModule?i:{default:i};!function(t){if(!t||!t.__esModule){var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}e.default=t}}(t("./constants")),n.default._validateParameters=n.default._friendlyFileLoadError=n.default._friendlyError=function(){};var a=null,o=function(e,r){var i,o;r||(r=console.log.bind(console)),a||(i={},(a=[].concat((o=function(t){return Object.getOwnPropertyNames(t).filter((function(t){return"_"!==t[0]&&!(t in i)&&(i[t]=!0)})).map((function(e){var r;return r="function"==typeof t[e]?"function":e===e.toUpperCase()?"constant":"variable",{name:e,type:r}}))})(n.default.prototype),o(t("./constants")))).sort((function(t,e){return e.name.length-t.name.length}))),a.some((function(t){if(e.message&&null!==e.message.match("\\W?".concat(t.name,"\\W")))return r("Did you just try to use p5.js's ".concat(t.name).concat("function"===t.type?"() ":" ").concat(t.type,"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: ").concat("https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup")),!0}))};n.default.prototype._helpForMisusedAtTopLevelCode=o,"complete"!==document.readyState&&(window.addEventListener("error",o,!1),window.addEventListener("load",(function(){window.removeEventListener("error",o,!1)})));var s=n.default;r.default=s},{"../../docs/reference/data.json":void 0,"./constants":9,"./main":15}],12:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}(t("./constants")),n={modeAdjust:function(t,e,r,n,a){return a===i.CORNER?{x:t,y:e,w:r,h:n}:a===i.CORNERS?{x:t,y:e,w:r-t,h:n-e}:a===i.RADIUS?{x:t-r,y:e-n,w:2*r,h:2*n}:a===i.CENTER?{x:t-.5*r,y:e-.5*n,w:r,h:n}:void 0}};r.default=n},{"./constants":9}],13:[function(t,e,r){"use strict";var i,n=(i=t("../core/main"))&&i.__esModule?i:{default:i},a=function(){window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!n.default.instance&&new n.default};"complete"===document.readyState?a():window.addEventListener("load",a,!1)},{"../core/main":15}],14:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("./main"))&&i.__esModule?i:{default:i};n.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},n.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},n.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},n.default.prototype.printMatrix=function(){throw new Error("printMatrix() is not implemented in p5.js, refer to [https://simonsarris.com/a-transformation-class-for-canvas-to-keep-track-of-the-transformation-matrix/] to add your own implementation.")},n.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")};var a=n.default;r.default=a},{"./main":15}],15:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,t("./shim");var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}(t("./constants"));function n(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=function(){function t(e,r,i){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._setupDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=r,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var a=Object.getOwnPropertyNames(t.prototype._registeredMethods),o=!0,s=!1,l=void 0;try{for(var u,h=a[Symbol.iterator]();!(o=(u=h.next()).done);o=!0){var c=u.value;this._registeredMethods[c]=t.prototype._registeredMethods[c].slice()}}catch(e){s=!0,l=e}finally{try{o||null==h.return||h.return()}finally{if(s)throw l}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){n._userNode&&"string"==typeof n._userNode&&(n._userNode=document.getElementById(n._userNode));var e=(n._isGlobal?window:n).preload;if(e){var r=document.getElementById(n._loadingScreenId);r||((r=document.createElement("div")).innerHTML="Loading...",r.style.position="absolute",r.id=n._loadingScreenId,(n._userNode||document.body).appendChild(r));var i=n._preloadMethods;for(var a in i){i[a]=i[a]||t;var o=i[a];o!==t.prototype&&o!==t||(n._isGlobal&&(window[a]=n._wrapPreload(n,a)),o=n),n._registeredPreloadMethods[a]=o[a],o[a]=n._wrapPreload(o,a)}e(),n._runIfPreloadsAreDone()}else n._setup(),n._draw()},this._runIfPreloadsAreDone=function(){var t=this._isGlobal?window:this;if(0===t._preloadCount){var e=document.getElementById(t._loadingScreenId);e&&e.parentNode.removeChild(e),this._lastFrameTime=window.performance.now(),t._setup(),t._draw()}},this._decrementPreload=function(){var t=this._isGlobal?window:this;"function"==typeof t.preload&&(t._setProperty("_preloadCount",t._preloadCount-1),t._runIfPreloadsAreDone())},this._wrapPreload=function(t,e){var r=this;return function(){r._incrementPreload();for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return r._registeredPreloadMethods[e].apply(t,n)}},this._incrementPreload=function(){var t=this._isGlobal?window:this;t._setProperty("_preloadCount",t._preloadCount+1)},this._setup=function(){n.createCanvas(n._defaultCanvasSize.width,n._defaultCanvasSize.height,"p2d");var t=n._isGlobal?window:n;if("function"==typeof t.preload)for(var e in n._preloadMethods)t[e]=n._preloadMethods[e][e],t[e]&&n&&(t[e]=t[e].bind(n));"function"==typeof t.setup&&t.setup();var r=document.getElementsByTagName("canvas"),i=!0,a=!1,o=void 0;try{for(var s,l=r[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;"true"===u.dataset.hidden&&(u.style.visibility="",delete u.dataset.hidden)}}catch(t){a=!0,o=t}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}n._lastFrameTime=window.performance.now(),n._setupDone=!0},this._draw=function(){var t=window.performance.now(),e=t-n._lastFrameTime,r=1e3/n._targetFrameRate;(!n._loop||r-5<=e)&&(n.redraw(),n._frameRate=1e3/(t-n._lastFrameTime),n.deltaTime=t-n._lastFrameTime,n._setProperty("deltaTime",n.deltaTime),n._lastFrameTime=t,void 0!==n._updateMouseCoords&&(n._updateMouseCoords(),n._setProperty("movedX",0),n._setProperty("movedY",0))),n._loop&&(n._requestAnimId=window.requestAnimationFrame(n._draw))},this._setProperty=function(t,e){n[t]=e,n._isGlobal&&(window[t]=e)},this.remove=function(){var e=document.getElementById(n._loadingScreenId);if(e&&(e.parentNode.removeChild(e),n._incrementPreload()),n._curElement){for(var r in n._loop=!1,n._requestAnimId&&window.cancelAnimationFrame(n._requestAnimId),n._events)window.removeEventListener(r,n._events[r]);var i=!0,a=!1,o=void 0;try{for(var s,l=n._elements[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;for(var h in u.elt&&u.elt.parentNode&&u.elt.parentNode.removeChild(u.elt),u._events)u.elt.removeEventListener(h,u._events[h])}}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}var c=n;n._registeredMethods.remove.forEach((function(t){void 0!==t&&t.call(c)}))}if(n._isGlobal){for(var d in t.prototype)try{delete window[d]}catch(e){window[d]=void 0}for(var f in n)if(n.hasOwnProperty(f))try{delete window[f]}catch(e){window[f]=void 0}t.instance=null}},this._registeredMethods.init.forEach((function(t){void 0!==t&&t.call(this)}),this),this._setupPromisePreloads();var d=this._createFriendlyGlobalFunctionBinder();if(e)e(this);else{for(var f in this._isGlobal=!0,t.instance=this,t.prototype)if("function"==typeof t.prototype[f]){var p=f.substring(2);this._events.hasOwnProperty(p)||(Math.hasOwnProperty(f)&&Math[f]===t.prototype[f]?d(f,t.prototype[f]):d(f,t.prototype[f].bind(this)))}else d(f,t.prototype[f]);for(var m in this)this.hasOwnProperty(m)&&d(m,this[m])}for(var g in this._events){var v=this["_on".concat(g)];if(v){var _=v.bind(this);window.addEventListener(g,_,{passive:!1}),this._events[g]=_}}var y=function(){n._setProperty("focused",!0)},b=function(){n._setProperty("focused",!1)};window.addEventListener("focus",y),window.addEventListener("blur",b),this.registerMethod("remove",(function(){window.removeEventListener("focus",y),window.removeEventListener("blur",b)})),"complete"===document.readyState?this._start():window.addEventListener("load",this._start.bind(this),!1)}var e,r;return e=t,(r=[{key:"_initializeInstanceVariables",value:function(){this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=i.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._pixelsDirty=!0,this._downKeys={}}},{key:"registerPreloadMethod",value:function(e,r){t.prototype._preloadMethods.hasOwnProperty(e)||(t.prototype._preloadMethods[e]=r)}},{key:"registerMethod",value:function(e,r){var i=this||t.prototype;i._registeredMethods.hasOwnProperty(e)||(i._registeredMethods[e]=[]),i._registeredMethods[e].push(r)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.globalObject||window;return t.log||console.log.bind(console),function(t,r){e[t]=r}}}])&&n(e.prototype,r),t}();for(var o in a.instance=null,a.disableFriendlyErrors=!1,i)a.prototype[o]=i[o];a.prototype._preloadMethods={loadJSON:a.prototype,loadImage:a.prototype,loadStrings:a.prototype,loadXML:a.prototype,loadBytes:a.prototype,loadTable:a.prototype,loadFont:a.prototype,loadModel:a.prototype,loadShader:a.prototype},a.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},a.prototype._registeredPreloadMethods={};var s=a;r.default=s},{"./constants":9,"./shim":26}],16:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("./main"))&&i.__esModule?i:{default:i};n.default.Element=function(t,e){this.elt=t,this._pInst=this._pixelsState=e,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight},n.default.Element.prototype.parent=function(t){return void 0===t?this.elt.parentNode:("string"==typeof t?("#"===t[0]&&(t=t.substring(1)),t=document.getElementById(t)):t instanceof n.default.Element&&(t=t.elt),t.appendChild(this.elt),this)},n.default.Element.prototype.id=function(t){return void 0===t?this.elt.id:(this.elt.id=t,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)},n.default.Element.prototype.class=function(t){return void 0===t?this.elt.className:(this.elt.className=t,this)},n.default.Element.prototype.mousePressed=function(t){return n.default.Element._adjustListener("mousedown",(function(e){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(e),t.call(this)}),this),this},n.default.Element.prototype.doubleClicked=function(t){return n.default.Element._adjustListener("dblclick",t,this),this},n.default.Element.prototype.mouseWheel=function(t){return n.default.Element._adjustListener("wheel",t,this),this},n.default.Element.prototype.mouseReleased=function(t){return n.default.Element._adjustListener("mouseup",t,this),this},n.default.Element.prototype.mouseClicked=function(t){return n.default.Element._adjustListener("click",t,this),this},n.default.Element.prototype.mouseMoved=function(t){return n.default.Element._adjustListener("mousemove",t,this),this},n.default.Element.prototype.mouseOver=function(t){return n.default.Element._adjustListener("mouseover",t,this),this},n.default.Element.prototype.mouseOut=function(t){return n.default.Element._adjustListener("mouseout",t,this),this},n.default.Element.prototype.touchStarted=function(t){return n.default.Element._adjustListener("touchstart",t,this),this},n.default.Element.prototype.touchMoved=function(t){return n.default.Element._adjustListener("touchmove",t,this),this},n.default.Element.prototype.touchEnded=function(t){return n.default.Element._adjustListener("touchend",t,this),this},n.default.Element.prototype.dragOver=function(t){return n.default.Element._adjustListener("dragover",t,this),this},n.default.Element.prototype.dragLeave=function(t){return n.default.Element._adjustListener("dragleave",t,this),this},n.default.Element._adjustListener=function(t,e,r){return!1===e?n.default.Element._detachListener(t,r):n.default.Element._attachListener(t,e,r),this},n.default.Element._attachListener=function(t,e,r){r._events[t]&&n.default.Element._detachListener(t,r);var i=e.bind(r);r.elt.addEventListener(t,i,!1),r._events[t]=i},n.default.Element._detachListener=function(t,e){var r=e._events[t];e.elt.removeEventListener(t,r,!1),e._events[t]=null},n.default.Element.prototype._setProperty=function(t,e){this[t]=e};var a=n.default.Element;r.default=a},{"./main":15}],17:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("./main"))&&i.__esModule?i:{default:i},a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}(t("./constants"));n.default.Graphics=function(t,e,r,i){var o=r||a.P2D;this.canvas=document.createElement("canvas");var s=i._userNode||document.body;for(var l in s.appendChild(this.canvas),n.default.Element.call(this,this.canvas,i),n.default.prototype)this[l]||("function"==typeof n.default.prototype[l]?this[l]=n.default.prototype[l].bind(this):this[l]=n.default.prototype[l]);return n.default.prototype._initializeInstanceVariables.apply(this),this.width=t,this.height=e,this._pixelDensity=i._pixelDensity,o===a.WEBGL?this._renderer=new n.default.RendererGL(this.canvas,this,!1):this._renderer=new n.default.Renderer2D(this.canvas,this,!1),i._elements.push(this),this._renderer.resize(t,e),this._renderer._applyDefaults(),this},n.default.Graphics.prototype=Object.create(n.default.Element.prototype),n.default.Graphics.prototype.reset=function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()},n.default.Graphics.prototype.remove=function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var t=this._pInst._elements.indexOf(this);for(var e in-1!==t&&this._pInst._elements.splice(t,1),this._events)this.elt.removeEventListener(e,this._events[e])};var o=n.default.Graphics;r.default=o},{"./constants":9,"./main":15}],18:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("./main"))&&i.__esModule?i:{default:i},a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}(t("../core/constants"));function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t){var e=0,r=0;if(t.offsetParent)for(;e+=t.offsetLeft,r+=t.offsetTop,t=t.offsetParent;);else e+=t.offsetLeft,r+=t.offsetTop;return[e,r]}n.default.Renderer=function(t,e,r){n.default.Element.call(this,t,e),this.canvas=t,this._pixelsState=e,r?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)):(this.canvas.style.display="none",this._styles=[]),this._textSize=12,this._textLeading=15,this._textFont="sans-serif",this._textStyle=a.NORMAL,this._textAscent=null,this._textDescent=null,this._textAlign=a.LEFT,this._textBaseline=a.BASELINE,this._rectMode=a.CORNER,this._ellipseMode=a.CENTER,this._curveTightness=0,this._imageMode=a.CORNER,this._tint=null,this._doStroke=!0,this._doFill=!0,this._strokeSet=!1,this._fillSet=!1},n.default.Renderer.prototype=Object.create(n.default.Element.prototype),n.default.Renderer.prototype.push=function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle}}},n.default.Renderer.prototype.pop=function(t){t.properties&&Object.assign(this,t.properties)},n.default.Renderer.prototype.resize=function(t,e){this.width=t,this.height=e,this.elt.width=t*this._pInst._pixelDensity,this.elt.height=e*this._pInst._pixelDensity,this.elt.style.width="".concat(t,"px"),this.elt.style.height="".concat(e,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))},n.default.Renderer.prototype.get=function(t,e,r,i){var a=this._pixelsState,o=a._pixelDensity,s=this.canvas;if(void 0===t&&void 0===e)t=e=0,r=a.width,i=a.height;else if(t*=o,e*=o,void 0===r&&void 0===i)return t<0||e<0||t>=s.width||e>=s.height?[0,0,0,0]:this._getPixel(t,e);var l=new n.default.Image(r,i);return l.canvas.getContext("2d").drawImage(s,t,e,r*o,i*o,0,0,r,i),l},n.default.Renderer.prototype.textLeading=function(t){return"number"==typeof t?(this._setProperty("_textLeading",t),this._pInst):this._textLeading},n.default.Renderer.prototype.textSize=function(t){return"number"==typeof t?(this._setProperty("_textSize",t),this._setProperty("_textLeading",t*a._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},n.default.Renderer.prototype.textStyle=function(t){return t?(t!==a.NORMAL&&t!==a.ITALIC&&t!==a.BOLD&&t!==a.BOLDITALIC||this._setProperty("_textStyle",t),this._applyTextProperties()):this._textStyle},n.default.Renderer.prototype.textAscent=function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent},n.default.Renderer.prototype.textDescent=function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent},n.default.Renderer.prototype.textAlign=function(t,e){return void 0!==t?(this._setProperty("_textAlign",t),void 0!==e&&this._setProperty("_textBaseline",e),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}},n.default.Renderer.prototype.text=function(t,e,r,i,n){var o,s,l,u,h,c,d,f,p=this._pInst,m=Number.MAX_VALUE;if((this._doFill||this._doStroke)&&void 0!==t){if("string"!=typeof t&&(t=t.toString()),o=(t=t.replace(/(\t)/g,"  ")).split("\n"),void 0!==i){for(l=f=0;l<o.length;l++)for(h="",d=o[l].split(" "),s=0;s<d.length;s++)c="".concat(h+d[s]," "),i<this.textWidth(c)?(h="".concat(d[s]," "),f+=p.textLeading()):h=c;switch(this._rectMode===a.CENTER&&(e-=i/2,r-=n/2),this._textAlign){case a.CENTER:e+=i/2;break;case a.RIGHT:e+=i}var g=!1;if(void 0!==n){switch(this._textBaseline){case a.BOTTOM:r+=n-f;break;case a.CENTER:r+=(n-f)/2;break;case a.BASELINE:g=!0,this._textBaseline=a.TOP}m=r+n-p.textAscent()}for(l=0;l<o.length;l++){for(h="",d=o[l].split(" "),s=0;s<d.length;s++)c="".concat(h+d[s]," "),i<this.textWidth(c)&&0<h.length?(this._renderText(p,h,e,r,m),h="".concat(d[s]," "),r+=p.textLeading()):h=c;this._renderText(p,h,e,r,m),r+=p.textLeading(),g&&(this._textBaseline=a.BASELINE)}}else{var v=0,_=p.textAlign().vertical;for(_===a.CENTER?v=(o.length-1)*p.textLeading()/2:_===a.BOTTOM&&(v=(o.length-1)*p.textLeading()),u=0;u<o.length;u++)this._renderText(p,o[u],e,r-v,m),r+=p.textLeading()}return p}},n.default.Renderer.prototype._applyDefaults=function(){return this},n.default.Renderer.prototype._isOpenType=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._textFont;return"object"===o(t)&&t.font&&t.font.supported},n.default.Renderer.prototype._updateTextMetrics=function(){if(this._isOpenType())return this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent()),this;var t=document.createElement("span");t.style.fontFamily=this._textFont,t.style.fontSize="".concat(this._textSize,"px"),t.innerHTML="ABCjgq|";var e=document.createElement("div");e.style.display="inline-block",e.style.width="1px",e.style.height="0px";var r=document.createElement("div");r.appendChild(t),r.appendChild(e),r.style.height="0px",r.style.overflow="hidden",document.body.appendChild(r),e.style.verticalAlign="baseline";var i=s(e),n=s(t),a=i[1]-n[1];e.style.verticalAlign="bottom",i=s(e),n=s(t);var o=i[1]-n[1]-a;return document.body.removeChild(r),this._setProperty("_textAscent",a),this._setProperty("_textDescent",o),this};var l=n.default.Renderer;r.default=l},{"../core/constants":9,"./main":15}],19:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(t("./main")),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}(t("./constants")),a=o(t("../image/filters"));function o(t){return t&&t.__esModule?t:{default:t}}t("./p5.Renderer");var s="rgba(0,0,0,0)";i.default.Renderer2D=function(t,e,r){return i.default.Renderer.call(this,t,e,r),this.drawingContext=this.canvas.getContext("2d"),this._pInst._setProperty("drawingContext",this.drawingContext),this},i.default.Renderer2D.prototype=Object.create(i.default.Renderer.prototype),i.default.Renderer2D.prototype._applyDefaults=function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=n.BLEND,this._setFill(n._DEFAULT_FILL),this._setStroke(n._DEFAULT_STROKE),this.drawingContext.lineCap=n.ROUND,this.drawingContext.font="normal 12px sans-serif"},i.default.Renderer2D.prototype.resize=function(t,e){i.default.Renderer.prototype.resize.call(this,t,e),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)},i.default.Renderer2D.prototype.background=function(){if(this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof i.default.Image)this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height);else{var t,e=this._getFill(),r=(t=this._pInst).color.apply(t,arguments).toString();this._setFill(r),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(e),this._isErasing&&this._pInst.erase()}this.drawingContext.restore(),this._pixelsState._pixelsDirty=!0},i.default.Renderer2D.prototype.clear=function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore(),this._pixelsState._pixelsDirty=!0},i.default.Renderer2D.prototype.fill=function(){var t,e=(t=this._pInst).color.apply(t,arguments);this._setFill(e.toString())},i.default.Renderer2D.prototype.stroke=function(){var t,e=(t=this._pInst).color.apply(t,arguments);this._setStroke(e.toString())},i.default.Renderer2D.prototype.erase=function(t,e){if(!this._isErasing){this._cachedFillStyle=this.drawingContext.fillStyle;var r=this._pInst.color(255,t).toString();this.drawingContext.fillStyle=r,this._cachedStrokeStyle=this.drawingContext.strokeStyle;var i=this._pInst.color(255,e).toString();this.drawingContext.strokeStyle=i;var a=this._cachedBlendMode;this.blendMode(n.REMOVE),this._cachedBlendMode=a,this._isErasing=!0}},i.default.Renderer2D.prototype.noErase=function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)},i.default.Renderer2D.prototype.image=function(t,e,r,n,a,o,s,l,u){var h;t.gifProperties&&t._animateGif(this._pInst);try{this._tint&&(i.default.MediaElement&&t instanceof i.default.MediaElement&&t.loadPixels(),t.canvas&&(h=this._getTintedImageCanvas(t))),h||(h=t.canvas||t.elt);var c=1;t.width&&0<t.width&&(c=h.width/t.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(h,c*e,c*r,c*n,c*a,o,s,l,u),this._isErasing&&this._pInst.erase()}catch(t){if("NS_ERROR_NOT_AVAILABLE"!==t.name)throw t}this._pixelsState._pixelsDirty=!0},i.default.Renderer2D.prototype._getTintedImageCanvas=function(t){if(!t.canvas)return t;var e=a.default._toPixels(t.canvas),r=document.createElement("canvas");r.width=t.canvas.width,r.height=t.canvas.height;for(var i=r.getContext("2d"),n=i.createImageData(t.canvas.width,t.canvas.height),o=n.data,s=0;s<e.length;s+=4){var l=e[s],u=e[s+1],h=e[s+2],c=e[s+3];o[s]=l*this._tint[0]/255,o[s+1]=u*this._tint[1]/255,o[s+2]=h*this._tint[2]/255,o[s+3]=c*this._tint[3]/255}return i.putImageData(n,0,0),r},i.default.Renderer2D.prototype.blendMode=function(t){if(t===n.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(t!==n.BLEND&&t!==n.REMOVE&&t!==n.DARKEST&&t!==n.LIGHTEST&&t!==n.DIFFERENCE&&t!==n.MULTIPLY&&t!==n.EXCLUSION&&t!==n.SCREEN&&t!==n.REPLACE&&t!==n.OVERLAY&&t!==n.HARD_LIGHT&&t!==n.SOFT_LIGHT&&t!==n.DODGE&&t!==n.BURN&&t!==n.ADD)throw new Error("Mode ".concat(t," not recognized."));this._cachedBlendMode=t,this.drawingContext.globalCompositeOperation=t}},i.default.Renderer2D.prototype.blend=function(){for(var t=this.drawingContext.globalCompositeOperation,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[r.length-1],o=Array.prototype.slice.call(r,0,r.length-1);this.drawingContext.globalCompositeOperation=a,i.default.prototype.copy.apply(this,o),this.drawingContext.globalCompositeOperation=t},i.default.Renderer2D.prototype._getPixel=function(t,e){var r,i,n=this._pixelsState;return i=n._pixelsDirty?(r=this.drawingContext.getImageData(t,e,1,1).data,0):(r=n.pixels,4*(Math.floor(t)+Math.floor(e)*this.canvas.width)),[r[i+0],r[i+1],r[i+2],r[i+3]]},i.default.Renderer2D.prototype.loadPixels=function(){var t=this._pixelsState;if(t._pixelsDirty){t._pixelsDirty=!1;var e=t._pixelDensity,r=this.width*e,i=this.height*e,n=this.drawingContext.getImageData(0,0,r,i);t._setProperty("imageData",n),t._setProperty("pixels",n.data)}},i.default.Renderer2D.prototype.set=function(t,e,r){t=Math.floor(t),e=Math.floor(e);var n=this._pixelsState;if(r instanceof i.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(n._pixelDensity,n._pixelDensity),this.drawingContext.drawImage(r.canvas,t,e),this.drawingContext.restore(),n._pixelsDirty=!0;else{var a=0,o=0,s=0,l=0,u=4*(e*n._pixelDensity*(this.width*n._pixelDensity)+t*n._pixelDensity);if(n.imageData&&!n._pixelsDirty||n.loadPixels.call(n),"number"==typeof r)u<n.pixels.length&&(s=o=a=r,l=255);else if(r instanceof Array){if(r.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");u<n.pixels.length&&(a=r[0],o=r[1],s=r[2],l=r[3])}else r instanceof i.default.Color&&u<n.pixels.length&&(a=r.levels[0],o=r.levels[1],s=r.levels[2],l=r.levels[3]);for(var h=0;h<n._pixelDensity;h++)for(var c=0;c<n._pixelDensity;c++)u=4*((e*n._pixelDensity+c)*this.width*n._pixelDensity+(t*n._pixelDensity+h)),n.pixels[u]=a,n.pixels[u+1]=o,n.pixels[u+2]=s,n.pixels[u+3]=l}},i.default.Renderer2D.prototype.updatePixels=function(t,e,r,i){var n=this._pixelsState,a=n._pixelDensity;void 0===t&&void 0===e&&void 0===r&&void 0===i&&(e=t=0,r=this.width,i=this.height),t*=a,e*=a,r*=a,i*=a,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex]=n.imageData),this.drawingContext.putImageData(n.imageData,t,e,0,0,r,i),0===t&&0===e&&r===this.width&&i===this.height||(n._pixelsDirty=!0)},i.default.Renderer2D.prototype._acuteArcToBezier=function(t,e){var r=e/2,i=Math.cos(r),n=Math.sin(r),a=1/Math.tan(r),o=t+r,s=Math.cos(o),l=Math.sin(o),u=(4-i)/3,h=n+(i-u)*a;return{ax:Math.cos(t).toFixed(7),ay:Math.sin(t).toFixed(7),bx:(u*s+h*l).toFixed(7),by:(u*l-h*s).toFixed(7),cx:(u*s-h*l).toFixed(7),cy:(u*l+h*s).toFixed(7),dx:Math.cos(t+e).toFixed(7),dy:Math.sin(t+e).toFixed(7)}},i.default.Renderer2D.prototype.arc=function(t,e,r,i,a,o,s){var l=this.drawingContext,u=r/2,h=i/2,c=0,d=[];for(t+=u,e+=h;1e-5<=o-a;)c=Math.min(o-a,n.HALF_PI),d.push(this._acuteArcToBezier(a,c)),a+=c;return this._doFill&&(l.beginPath(),d.forEach((function(r,i){0===i&&l.moveTo(t+r.ax*u,e+r.ay*h),l.bezierCurveTo(t+r.bx*u,e+r.by*h,t+r.cx*u,e+r.cy*h,t+r.dx*u,e+r.dy*h)})),s!==n.PIE&&null!=s||l.lineTo(t,e),l.closePath(),l.fill(),this._pixelsState._pixelsDirty=!0),this._doStroke&&(l.beginPath(),d.forEach((function(r,i){0===i&&l.moveTo(t+r.ax*u,e+r.ay*h),l.bezierCurveTo(t+r.bx*u,e+r.by*h,t+r.cx*u,e+r.cy*h,t+r.dx*u,e+r.dy*h)})),s===n.PIE?(l.lineTo(t,e),l.closePath()):s===n.CHORD&&l.closePath(),l.stroke(),this._pixelsState._pixelsDirty=!0),this},i.default.Renderer2D.prototype.ellipse=function(t){var e=this.drawingContext,r=this._doFill,i=this._doStroke,n=parseFloat(t[0]),a=parseFloat(t[1]),o=parseFloat(t[2]),l=parseFloat(t[3]);if(r&&!i){if(this._getFill()===s)return this}else if(!r&&i&&this._getStroke()===s)return this;var u=.5522847498,h=o/2*u,c=l/2*u,d=n+o,f=a+l,p=n+o/2,m=a+l/2;e.beginPath(),e.moveTo(n,m),e.bezierCurveTo(n,m-c,p-h,a,p,a),e.bezierCurveTo(p+h,a,d,m-c,d,m),e.bezierCurveTo(d,m+c,p+h,f,p,f),e.bezierCurveTo(p-h,f,n,m+c,n,m),e.closePath(),r&&(e.fill(),this._pixelsState._pixelsDirty=!0),i&&(e.stroke(),this._pixelsState._pixelsDirty=!0)},i.default.Renderer2D.prototype.line=function(t,e,r,i){var n=this.drawingContext;return this._doStroke&&(this._getStroke()===s||(n.beginPath(),n.moveTo(t,e),n.lineTo(r,i),n.stroke(),this._pixelsState._pixelsDirty=!0)),this},i.default.Renderer2D.prototype.point=function(t,e){var r=this.drawingContext;if(!this._doStroke)return this;if(this._getStroke()===s)return this;var i=this._getStroke(),a=this._getFill();t=Math.round(t),e=Math.round(e),this._setFill(i),1<r.lineWidth?(r.beginPath(),r.arc(t,e,r.lineWidth/2,0,n.TWO_PI,!1),r.fill()):r.fillRect(t,e,1,1),this._setFill(a),this._pixelsState._pixelsDirty=!0},i.default.Renderer2D.prototype.quad=function(t,e,r,i,n,a,o,l){var u=this.drawingContext,h=this._doFill,c=this._doStroke;if(h&&!c){if(this._getFill()===s)return this}else if(!h&&c&&this._getStroke()===s)return this;return u.beginPath(),u.moveTo(t,e),u.lineTo(r,i),u.lineTo(n,a),u.lineTo(o,l),u.closePath(),h&&u.fill(),c&&u.stroke(),this._pixelsState._pixelsDirty=!0,this},i.default.Renderer2D.prototype.rect=function(t){var e=t[0],r=t[1],i=t[2],n=t[3],a=t[4],o=t[5],l=t[6],u=t[7],h=this.drawingContext,c=this._doFill,d=this._doStroke;if(c&&!d){if(this._getFill()===s)return this}else if(!c&&d&&this._getStroke()===s)return this;if(h.beginPath(),void 0===a)h.rect(e,r,i,n);else{void 0===o&&(o=a),void 0===l&&(l=o),void 0===u&&(u=l);var f=Math.abs(i),p=Math.abs(n),m=f/2,g=p/2;f<2*a&&(a=m),p<2*a&&(a=g),f<2*o&&(o=m),p<2*o&&(o=g),f<2*l&&(l=m),p<2*l&&(l=g),f<2*u&&(u=m),p<2*u&&(u=g),h.beginPath(),h.moveTo(e+a,r),h.arcTo(e+i,r,e+i,r+n,o),h.arcTo(e+i,r+n,e,r+n,l),h.arcTo(e,r+n,e,r,u),h.arcTo(e,r,e+i,r,a),h.closePath()}return this._doFill&&h.fill(),this._doStroke&&h.stroke(),this._pixelsState._pixelsDirty=!0,this},i.default.Renderer2D.prototype.triangle=function(t){var e=this.drawingContext,r=this._doFill,i=this._doStroke,n=t[0],a=t[1],o=t[2],l=t[3],u=t[4],h=t[5];if(r&&!i){if(this._getFill()===s)return this}else if(!r&&i&&this._getStroke()===s)return this;e.beginPath(),e.moveTo(n,a),e.lineTo(o,l),e.lineTo(u,h),e.closePath(),r&&(e.fill(),this._pixelsState._pixelsDirty=!0),i&&(e.stroke(),this._pixelsState._pixelsDirty=!0)},i.default.Renderer2D.prototype.endShape=function(t,e,r,i,a,o,s){if(0===e.length)return this;if(!this._doStroke&&!this._doFill)return this;var l,u,h,c=t===n.CLOSE;c&&!o&&e.push(e[0]);var d=e.length;if(!r||s!==n.POLYGON&&null!==s)if(!i||s!==n.POLYGON&&null!==s)if(!a||s!==n.POLYGON&&null!==s)if(s===n.POINTS)for(u=0;u<d;u++)l=e[u],this._doStroke&&this._pInst.stroke(l[6]),this._pInst.point(l[0],l[1]);else if(s===n.LINES)for(u=0;u+1<d;u+=2)l=e[u],this._doStroke&&this._pInst.stroke(e[u+1][6]),this._pInst.line(l[0],l[1],e[u+1][0],e[u+1][1]);else if(s===n.TRIANGLES)for(u=0;u+2<d;u+=3)l=e[u],this.drawingContext.beginPath(),this.drawingContext.moveTo(l[0],l[1]),this.drawingContext.lineTo(e[u+1][0],e[u+1][1]),this.drawingContext.lineTo(e[u+2][0],e[u+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(e[u+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(e[u+2][6]),this.drawingContext.stroke());else if(s===n.TRIANGLE_STRIP)for(u=0;u+1<d;u++)l=e[u],this.drawingContext.beginPath(),this.drawingContext.moveTo(e[u+1][0],e[u+1][1]),this.drawingContext.lineTo(l[0],l[1]),this._doStroke&&this._pInst.stroke(e[u+1][6]),this._doFill&&this._pInst.fill(e[u+1][5]),u+2<d&&(this.drawingContext.lineTo(e[u+2][0],e[u+2][1]),this._doStroke&&this._pInst.stroke(e[u+2][6]),this._doFill&&this._pInst.fill(e[u+2][5])),this._doFillStrokeClose(c);else if(s===n.TRIANGLE_FAN){if(2<d){for(this.drawingContext.beginPath(),u=2;u<d;u++)l=e[u],this.drawingContext.moveTo(e[0][0],e[0][1]),this.drawingContext.lineTo(e[u-1][0],e[u-1][1]),this.drawingContext.lineTo(l[0],l[1]),this.drawingContext.lineTo(e[0][0],e[0][1]),u<d-1&&(this._doFill&&l[5]!==e[u+1][5]||this._doStroke&&l[6]!==e[u+1][6])&&(this._doFill&&(this._pInst.fill(l[5]),this.drawingContext.fill(),this._pInst.fill(e[u+1][5])),this._doStroke&&(this._pInst.stroke(l[6]),this.drawingContext.stroke(),this._pInst.stroke(e[u+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(c)}}else if(s===n.QUADS)for(u=0;u+3<d;u+=4){for(l=e[u],this.drawingContext.beginPath(),this.drawingContext.moveTo(l[0],l[1]),h=1;h<4;h++)this.drawingContext.lineTo(e[u+h][0],e[u+h][1]);this.drawingContext.lineTo(l[0],l[1]),this._doFill&&this._pInst.fill(e[u+3][5]),this._doStroke&&this._pInst.stroke(e[u+3][6]),this._doFillStrokeClose(c)}else if(s===n.QUAD_STRIP){if(3<d)for(u=0;u+1<d;u+=2)l=e[u],this.drawingContext.beginPath(),u+3<d?(this.drawingContext.moveTo(e[u+2][0],e[u+2][1]),this.drawingContext.lineTo(l[0],l[1]),this.drawingContext.lineTo(e[u+1][0],e[u+1][1]),this.drawingContext.lineTo(e[u+3][0],e[u+3][1]),this._doFill&&this._pInst.fill(e[u+3][5]),this._doStroke&&this._pInst.stroke(e[u+3][6])):(this.drawingContext.moveTo(l[0],l[1]),this.drawingContext.lineTo(e[u+1][0],e[u+1][1])),this._doFillStrokeClose(c)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(e[0][0],e[0][1]),u=1;u<d;u++)(l=e[u]).isVert&&(l.moveTo?this.drawingContext.moveTo(l[0],l[1]):this.drawingContext.lineTo(l[0],l[1]));this._doFillStrokeClose(c)}else{for(this.drawingContext.beginPath(),u=0;u<d;u++)e[u].isVert?e[u].moveTo?this.drawingContext.moveTo(e[u][0],e[u][1]):this.drawingContext.lineTo(e[u][0],e[u][1]):this.drawingContext.quadraticCurveTo(e[u][0],e[u][1],e[u][2],e[u][3]);this._doFillStrokeClose(c)}else{for(this.drawingContext.beginPath(),u=0;u<d;u++)e[u].isVert?e[u].moveTo?this.drawingContext.moveTo(e[u][0],e[u][1]):this.drawingContext.lineTo(e[u][0],e[u][1]):this.drawingContext.bezierCurveTo(e[u][0],e[u][1],e[u][2],e[u][3],e[u][4],e[u][5]);this._doFillStrokeClose(c)}else if(3<d){var f=[],p=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(e[1][0],e[1][1]),u=1;u+2<d;u++)l=e[u],f[0]=[l[0],l[1]],f[1]=[l[0]+(p*e[u+1][0]-p*e[u-1][0])/6,l[1]+(p*e[u+1][1]-p*e[u-1][1])/6],f[2]=[e[u+1][0]+(p*e[u][0]-p*e[u+2][0])/6,e[u+1][1]+(p*e[u][1]-p*e[u+2][1])/6],f[3]=[e[u+1][0],e[u+1][1]],this.drawingContext.bezierCurveTo(f[1][0],f[1][1],f[2][0],f[2][1],f[3][0],f[3][1]);c&&this.drawingContext.lineTo(e[u+1][0],e[u+1][1]),this._doFillStrokeClose(c)}return o=a=i=r=!1,c&&e.pop(),this._pixelsState._pixelsDirty=!0,this},i.default.Renderer2D.prototype.strokeCap=function(t){return t!==n.ROUND&&t!==n.SQUARE&&t!==n.PROJECT||(this.drawingContext.lineCap=t),this},i.default.Renderer2D.prototype.strokeJoin=function(t){return t!==n.ROUND&&t!==n.BEVEL&&t!==n.MITER||(this.drawingContext.lineJoin=t),this},i.default.Renderer2D.prototype.strokeWeight=function(t){return this.drawingContext.lineWidth=void 0===t||0===t?1e-4:t,this},i.default.Renderer2D.prototype._getFill=function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle},i.default.Renderer2D.prototype._setFill=function(t){t!==this._cachedFillStyle&&(this.drawingContext.fillStyle=t,this._cachedFillStyle=t)},i.default.Renderer2D.prototype._getStroke=function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle},i.default.Renderer2D.prototype._setStroke=function(t){t!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=t,this._cachedStrokeStyle=t)},i.default.Renderer2D.prototype.bezier=function(t,e,r,i,n,a,o,s){return this._pInst.beginShape(),this._pInst.vertex(t,e),this._pInst.bezierVertex(r,i,n,a,o,s),this._pInst.endShape(),this},i.default.Renderer2D.prototype.curve=function(t,e,r,i,n,a,o,s){return this._pInst.beginShape(),this._pInst.curveVertex(t,e),this._pInst.curveVertex(r,i),this._pInst.curveVertex(n,a),this._pInst.curveVertex(o,s),this._pInst.endShape(),this},i.default.Renderer2D.prototype._doFillStrokeClose=function(t){t&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke(),this._pixelsState._pixelsDirty=!0},i.default.Renderer2D.prototype.applyMatrix=function(t,e,r,i,n,a){this.drawingContext.transform(t,e,r,i,n,a)},i.default.Renderer2D.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this},i.default.Renderer2D.prototype.rotate=function(t){this.drawingContext.rotate(t)},i.default.Renderer2D.prototype.scale=function(t,e){return this.drawingContext.scale(t,e),this},i.default.Renderer2D.prototype.translate=function(t,e){return t instanceof i.default.Vector&&(e=t.y,t=t.x),this.drawingContext.translate(t,e),this},i.default.Renderer2D.prototype.text=function(t,e,r,a,o){var s;void 0!==a&&this.drawingContext.textBaseline===n.BASELINE&&(s=!0,this.drawingContext.textBaseline=n.TOP);var l=i.default.Renderer.prototype.text.apply(this,arguments);return s&&(this.drawingContext.textBaseline=n.BASELINE),l},i.default.Renderer2D.prototype._renderText=function(t,e,r,i,a){if(!(a<=i))return t.push(),this._isOpenType()?this._textFont._renderPath(e,r,i,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(e,r,i),this._doFill&&(this._fillSet||this._setFill(n._DEFAULT_TEXT_FILL),this.drawingContext.fillText(e,r,i))),t.pop(),this._pixelsState._pixelsDirty=!0,t},i.default.Renderer2D.prototype.textWidth=function(t){return this._isOpenType()?this._textFont._textWidth(t,this._textSize):this.drawingContext.measureText(t).width},i.default.Renderer2D.prototype._applyTextProperties=function(){var t,e=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),t=this._textFont,this._isOpenType()&&(t=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(t||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===n.CENTER?this.drawingContext.textBaseline=n._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,e},i.default.Renderer2D.prototype.push=function(){return this.drawingContext.save(),i.default.Renderer.prototype.push.apply(this)},i.default.Renderer2D.prototype.pop=function(t){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,i.default.Renderer.prototype.pop.call(this,t)};var l=i.default.Renderer2D;r.default=l},{"../image/filters":29,"./constants":9,"./main":15,"./p5.Renderer":18}],20:[function(t,e,r){"use strict";var i,n=(i=t("./main"))&&i.__esModule?i:{default:i};n.default.prototype._promisePreloads=[];var a=!(n.default.prototype.registerPromisePreload=function(t){n.default.prototype._promisePreloads.push(t)});n.default.prototype._setupPromisePreloads=function(){var t=!0,e=!1,r=void 0;try{for(var i,o=this._promisePreloads[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value,l=this,u=s.method,h=s.addCallbacks,c=s.legacyPreloadSetup,d=s.target||this,f=d[u].bind(d);if(d===n.default.prototype){if(a)continue;l=null,f=d[u]}d[u]=this._wrapPromisePreload(l,f,h),c&&(d[c.method]=this._legacyPreloadGenerator(l,c,d[u]))}}catch(t){e=!0,r=t}finally{try{t||null==o.return||o.return()}finally{if(e)throw r}}a=!0},n.default.prototype._wrapPromisePreload=function(t,e,r){var i=function(){var t=this;this._incrementPreload();for(var i=null,n=null,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];if(r)for(var l=o.length-1;0<=l&&!n&&"function"==typeof o[l];l--)n=i,i=o.pop();var u=Promise.resolve(e.apply(this,o));return i&&u.then(i),n&&u.catch(n),u.then((function(){return t._decrementPreload()})),u};return t&&(i=i.bind(t)),i};var o=function(){return{}};n.default.prototype._legacyPreloadGenerator=function(t,e,r){var i=e.createBaseObject||o,n=function(){var t=this;this._incrementPreload();var e=i.apply(this,arguments);return r.apply(this,arguments).then((function(r){Object.assign(e,r),t._decrementPreload()})),e};return t&&(n=n.bind(t)),n}},{"./main":15}],21:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("./main"))&&i.__esModule?i:{default:i},a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}(t("./constants"));function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var s="defaultCanvas0",l="p5Canvas";n.default.prototype.createCanvas=function(t,e,r){n.default._validateParameters("createCanvas",arguments);var i,o=r||a.P2D;if(o===a.WEBGL){if(i=document.getElementById(s)){i.parentNode.removeChild(i);var u=this._renderer;this._elements=this._elements.filter((function(t){return t!==u}))}(i=document.createElement("canvas")).id=s,i.classList.add(l)}else if(this._defaultGraphicsCreated)i=this.canvas;else{i=document.createElement("canvas");for(var h=0;document.getElementById("defaultCanvas".concat(h));)h++;s="defaultCanvas".concat(h),i.id=s,i.classList.add(l)}return this._setupDone||(i.dataset.hidden=!0,i.style.visibility="hidden"),this._userNode?this._userNode.appendChild(i):document.body.appendChild(i),o===a.WEBGL?(this._setProperty("_renderer",new n.default.RendererGL(i,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new n.default.Renderer2D(i,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(t,e),this._renderer._applyDefaults(),this._renderer},n.default.prototype.resizeCanvas=function(t,e,r){if(n.default._validateParameters("resizeCanvas",arguments),this._renderer){var i={};for(var a in this.drawingContext){var s=this.drawingContext[a];"object"!==o(s)&&"function"!=typeof s&&(i[a]=s)}for(var l in this._renderer.resize(t,e),this.width=t,this.height=e,i)try{this.drawingContext[l]=i[l]}catch(t){}r||this.redraw()}},n.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},n.default.prototype.createGraphics=function(t,e,r){return n.default._validateParameters("createGraphics",arguments),new n.default.Graphics(t,e,r,this)},n.default.prototype.blendMode=function(t){n.default._validateParameters("blendMode",arguments),t===a.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),t=a.BLEND),this._renderer.blendMode(t)};var u=n.default;r.default=u},{"../webgl/p5.RendererGL":42,"./constants":9,"./main":15,"./p5.Graphics":17,"./p5.Renderer2D":19}],22:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(t("../main")),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}(t("../constants")),a=o(t("../helpers"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("../error_helpers"),i.default.prototype._normalizeArcAngles=function(t,e,r,i,a){var o;return t-=n.TWO_PI*Math.floor(t/n.TWO_PI),e-=n.TWO_PI*Math.floor(e/n.TWO_PI),o=Math.min(Math.abs(t-e),n.TWO_PI-Math.abs(t-e)),a&&(t=t<=n.HALF_PI?Math.atan(r/i*Math.tan(t)):t>n.HALF_PI&&t<=3*n.HALF_PI?Math.atan(r/i*Math.tan(t))+n.PI:Math.atan(r/i*Math.tan(t))+n.TWO_PI,e=e<=n.HALF_PI?Math.atan(r/i*Math.tan(e)):e>n.HALF_PI&&e<=3*n.HALF_PI?Math.atan(r/i*Math.tan(e))+n.PI:Math.atan(r/i*Math.tan(e))+n.TWO_PI),e<t&&(e+=n.TWO_PI),{start:t,stop:e,correspondToSamePoint:o<1e-5}},i.default.prototype.arc=function(t,e,r,n,o,s,l,u){if(i.default._validateParameters("arc",arguments),!this._renderer._doStroke&&!this._renderer._doFill)return this;o=this._toRadians(o),s=this._toRadians(s),r=Math.abs(r),n=Math.abs(n);var h=a.default.modeAdjust(t,e,r,n,this._renderer._ellipseMode),c=this._normalizeArcAngles(o,s,h.w,h.h,!0);return c.correspondToSamePoint?this._renderer.ellipse([h.x,h.y,h.w,h.h,u]):this._renderer.arc(h.x,h.y,h.w,h.h,c.start,c.stop,l,u),this},i.default.prototype.ellipse=function(t,e,r,n,o){if(i.default._validateParameters("ellipse",arguments),!this._renderer._doStroke&&!this._renderer._doFill)return this;r<0&&(r=Math.abs(r)),void 0===n?n=r:n<0&&(n=Math.abs(n));var s=a.default.modeAdjust(t,e,r,n,this._renderer._ellipseMode);return this._renderer.ellipse([s.x,s.y,s.w,s.h,o]),this},i.default.prototype.circle=function(){var t=Array.prototype.slice.call(arguments,0,2);return t.push(arguments[2]),t.push(arguments[2]),this.ellipse.apply(this,s(t))},i.default.prototype.line=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n;return i.default._validateParameters("line",e),this._renderer._doStroke&&(n=this._renderer).line.apply(n,e),this},i.default.prototype.point=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n;return i.default._validateParameters("point",e),this._renderer._doStroke&&(n=this._renderer).point.apply(n,e),this},i.default.prototype.quad=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n;return i.default._validateParameters("quad",e),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&12!==e.length?this._renderer.quad.call(this._renderer,e[0],e[1],0,e[2],e[3],0,e[4],e[5],0,e[6],e[7],0):(n=this._renderer).quad.apply(n,e)),this},i.default.prototype.rect=function(){if(i.default._validateParameters("rect",arguments),this._renderer._doStroke||this._renderer._doFill){for(var t=a.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),e=[t.x,t.y,t.w,t.h],r=4;r<arguments.length;r++)e[r]=arguments[r];this._renderer.rect(e)}return this},i.default.prototype.square=function(t,e,r,i,n,a,o){return this.rect(t,e,r,r,i,n,a,o)},i.default.prototype.triangle=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return i.default._validateParameters("triangle",e),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(e),this};var l=i.default;r.default=l},{"../constants":9,"../error_helpers":11,"../helpers":12,"../main":15}],23:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("../main"))&&i.__esModule?i:{default:i},a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}(t("../constants"));n.default.prototype.ellipseMode=function(t){return n.default._validateParameters("ellipseMode",arguments),t!==a.CORNER&&t!==a.CORNERS&&t!==a.RADIUS&&t!==a.CENTER||(this._renderer._ellipseMode=t),this},n.default.prototype.noSmooth=function(){return this.setAttributes("antialias",!1),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},n.default.prototype.rectMode=function(t){return n.default._validateParameters("rectMode",arguments),t!==a.CORNER&&t!==a.CORNERS&&t!==a.RADIUS&&t!==a.CENTER||(this._renderer._rectMode=t),this},n.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},n.default.prototype.strokeCap=function(t){return n.default._validateParameters("strokeCap",arguments),t!==a.ROUND&&t!==a.SQUARE&&t!==a.PROJECT||this._renderer.strokeCap(t),this},n.default.prototype.strokeJoin=function(t){return n.default._validateParameters("strokeJoin",arguments),t!==a.ROUND&&t!==a.BEVEL&&t!==a.MITER||this._renderer.strokeJoin(t),this},n.default.prototype.strokeWeight=function(t){return n.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(t),this};var o=n.default;r.default=o},{"../constants":9,"../main":15}],24:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("../main"))&&i.__esModule?i:{default:i};t("../error_helpers"),n.default.prototype.bezier=function(){for(var t,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return n.default._validateParameters("bezier",r),(this._renderer._doStroke||this._renderer._doFill)&&(t=this._renderer).bezier.apply(t,r),this},n.default.prototype.bezierDetail=function(t){return n.default._validateParameters("bezierDetail",arguments),this._bezierDetail=t,this},n.default.prototype.bezierPoint=function(t,e,r,i,a){n.default._validateParameters("bezierPoint",arguments);var o=1-a;return Math.pow(o,3)*t+3*Math.pow(o,2)*a*e+3*o*Math.pow(a,2)*r+Math.pow(a,3)*i},n.default.prototype.bezierTangent=function(t,e,r,i,a){n.default._validateParameters("bezierTangent",arguments);var o=1-a;return 3*i*Math.pow(a,2)-3*r*Math.pow(a,2)+6*r*o*a-6*e*o*a+3*e*Math.pow(o,2)-3*t*Math.pow(o,2)},n.default.prototype.curve=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i;return n.default._validateParameters("curve",e),this._renderer._doStroke&&(i=this._renderer).curve.apply(i,e),this},n.default.prototype.curveDetail=function(t){return n.default._validateParameters("curveDetail",arguments),this._curveDetail=t<3?3:t,this},n.default.prototype.curveTightness=function(t){return n.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=t,this},n.default.prototype.curvePoint=function(t,e,r,i,a){n.default._validateParameters("curvePoint",arguments);var o=a*a*a,s=a*a;return t*(-.5*o+s-.5*a)+e*(1.5*o-2.5*s+1)+r*(-1.5*o+2*s+.5*a)+i*(.5*o-.5*s)},n.default.prototype.curveTangent=function(t,e,r,i,a){n.default._validateParameters("curveTangent",arguments);var o=a*a;return t*(-3*o/2+2*a-.5)+e*(9*o/2-5*a)+r*(-9*o/2+4*a+.5)+i*(3*o/2-a)};var a=n.default;r.default=a},{"../error_helpers":11,"../main":15}],25:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("../main"))&&i.__esModule?i:{default:i},a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}(t("../constants")),o=null,s=[],l=[],u=!1,h=!1,c=!1,d=!1,f=!0;n.default.prototype.beginContour=function(){return l=[],d=!0,this},n.default.prototype.beginShape=function(t){var e;return n.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(e=this._renderer).beginShape.apply(e,arguments):(o=t===a.POINTS||t===a.LINES||t===a.TRIANGLES||t===a.TRIANGLE_FAN||t===a.TRIANGLE_STRIP||t===a.QUADS||t===a.QUAD_STRIP?t:null,s=[],l=[]),this},n.default.prototype.bezierVertex=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i;if(n.default._validateParameters("bezierVertex",e),this._renderer.isP3D)(i=this._renderer).bezierVertex.apply(i,e);else if(0===s.length)n.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{u=!0;for(var a=[],o=0;o<e.length;o++)a[o]=e[o];a.isVert=!1,d?l.push(a):s.push(a)}return this},n.default.prototype.curveVertex=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i;return n.default._validateParameters("curveVertex",e),this._renderer.isP3D?(i=this._renderer).curveVertex.apply(i,e):(h=!0,this.vertex(e[0],e[1])),this},n.default.prototype.endContour=function(){var t=l[0].slice();t.isVert=l[0].isVert,t.moveTo=!1,l.push(t),f&&(s.push(s[0]),f=!1);for(var e=0;e<l.length;e++)s.push(l[e]);return this},n.default.prototype.endShape=function(t){if(n.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(t,h,u,c,d,o);else{if(0===s.length)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var e=t===a.CLOSE;e&&!d&&s.push(s[0]),this._renderer.endShape(t,s,h,u,c,d,o),f=!(d=c=u=h=!1),e&&s.pop()}return this},n.default.prototype.quadraticVertex=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(n.default._validateParameters("quadraticVertex",e),this._renderer.isP3D){var i;(i=this._renderer).quadraticVertex.apply(i,e)}else{if(this._contourInited){var o={};return o.x=e[0],o.y=e[1],o.x3=e[2],o.y3=e[3],o.type=a.QUADRATIC,this._contourVertices.push(o),this}if(0<s.length){c=!0;for(var u=[],h=0;h<e.length;h++)u[h]=e[h];u.isVert=!1,d?l.push(u):s.push(u)}else n.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},n.default.prototype.vertex=function(t,e,r,i,n){if(this._renderer.isP3D){var a;(a=this._renderer).vertex.apply(a,arguments)}else{var o=[];o.isVert=!0,o[0]=t,o[1]=e,o[2]=0,o[3]=0,o[4]=0,o[5]=this._renderer._getFill(),o[6]=this._renderer._getStroke(),r&&(o.moveTo=r),d?(0===l.length&&(o.moveTo=!0),l.push(o)):s.push(o)}return this};var p=n.default;r.default=p},{"../constants":9,"../main":15}],26:[function(t,e,r){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){window.setTimeout(t,1e3/60)},"undefined"==typeof Uint8ClampedArray||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),function(){if(!Object.assign){var t=Object.keys,e=Object.defineProperty,r="function"==typeof Symbol&&"symbol"===i(Symbol()),n=Object.prototype.propertyIsEnumerable,a=function(t){return function(e){return n.call(t,e)}};e(Object,"assign",{value:function(e,i){if(null==e)throw new TypeError("target must be an object");var n,o,s,l,u=Object(e);for(n=1;n<arguments.length;++n)for(o=Object(arguments[n]),l=t(o),r&&Object.getOwnPropertySymbols&&l.push.apply(l,Object.getOwnPropertySymbols(o).filter(a(o))),s=0;s<l.length;++s)u[l[s]]=o[l[s]];return u},configurable:!0,enumerable:!1,writable:!0})}}()},{}],27:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("./main"))&&i.__esModule?i:{default:i};n.default.prototype.noLoop=function(){this._loop=!1},n.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},n.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},n.default.prototype.pop=function(){var t=this._styles.pop();t?(this._renderer.pop(t.renderer),Object.assign(this,t.props)):console.warn("pop() was called without matching push()")},n.default.prototype.redraw=function(t){if(!this._inUserDraw&&this._setupDone){var e=parseInt(t);(isNaN(e)||e<1)&&(e=1);var r=this._isGlobal?window:this,i=r.setup,n=r.draw;if("function"==typeof n){void 0===i&&r.scale(r._pixelDensity,r._pixelDensity);for(var a=function(t){t.call(r)},o=0;o<e;o++){r.resetMatrix(),r._renderer.isP3D&&r._renderer._update(),r._setProperty("frameCount",r.frameCount+1),r._registeredMethods.pre.forEach(a),this._inUserDraw=!0;try{n()}finally{this._inUserDraw=!1}r._registeredMethods.post.forEach(a)}}}};var a=n.default;r.default=a},{"./main":15}],28:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("./main"))&&i.__esModule?i:{default:i};n.default.prototype.applyMatrix=function(t,e,r,i,n,a){var o;return(o=this._renderer).applyMatrix.apply(o,arguments),this},n.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},n.default.prototype.rotate=function(t,e){return n.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(t),e),this},n.default.prototype.rotateX=function(t){return this._assert3d("rotateX"),n.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(t)),this},n.default.prototype.rotateY=function(t){return this._assert3d("rotateY"),n.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(t)),this},n.default.prototype.rotateZ=function(t){return this._assert3d("rotateZ"),n.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(t)),this},n.default.prototype.scale=function(t,e,r){if(n.default._validateParameters("scale",arguments),t instanceof n.default.Vector){var i=t;t=i.x,e=i.y,r=i.z}else if(t instanceof Array){var a=t;t=a[0],e=a[1],r=a[2]||1}return isNaN(e)?e=r=t:isNaN(r)&&(r=1),this._renderer.scale.call(this._renderer,t,e,r),this},n.default.prototype.shearX=function(t){n.default._validateParameters("shearX",arguments);var e=this._toRadians(t);return this._renderer.applyMatrix(1,0,Math.tan(e),1,0,0),this},n.default.prototype.shearY=function(t){n.default._validateParameters("shearY",arguments);var e=this._toRadians(t);return this._renderer.applyMatrix(1,Math.tan(e),0,1,0,0),this},n.default.prototype.translate=function(t,e,r){return n.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(t,e,r):this._renderer.translate(t,e),this};var a=n.default;r.default=a},{"./main":15}],29:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n,a,o,s={_toPixels:function(t){return t instanceof ImageData?t.data:t.getContext("2d").getImageData(0,0,t.width,t.height).data},_getARGB:function(t,e){var r=4*e;return t[r+3]<<24&4278190080|t[r]<<16&16711680|t[r+1]<<8&65280|255&t[r+2]},_setPixels:function(t,e){for(var r=0,i=0,n=t.length;i<n;i++)t[0+(r=4*i)]=(16711680&e[i])>>>16,t[r+1]=(65280&e[i])>>>8,t[r+2]=255&e[i],t[r+3]=(4278190080&e[i])>>>24},_toImageData:function(t){return t instanceof ImageData?t:t.getContext("2d").getImageData(0,0,t.width,t.height)},_createImageData:function(t,e){return s._tmpCanvas=document.createElement("canvas"),s._tmpCtx=s._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(t,e)},apply:function(t,e,r){var i=t.getContext("2d"),n=i.getImageData(0,0,t.width,t.height),a=e(n,r);a instanceof ImageData?i.putImageData(a,0,0,0,0,t.width,t.height):i.putImageData(n,0,0,0,0,t.width,t.height)},threshold:function(t,e){var r=s._toPixels(t);void 0===e&&(e=.5);for(var i=Math.floor(255*e),n=0;n<r.length;n+=4){var a;a=i<=.2126*r[n]+.7152*r[n+1]+.0722*r[n+2]?255:0,r[n]=r[n+1]=r[n+2]=a}},gray:function(t){for(var e=s._toPixels(t),r=0;r<e.length;r+=4){var i=.2126*e[r]+.7152*e[r+1]+.0722*e[r+2];e[r]=e[r+1]=e[r+2]=i}},opaque:function(t){for(var e=s._toPixels(t),r=0;r<e.length;r+=4)e[r+3]=255;return e},invert:function(t){for(var e=s._toPixels(t),r=0;r<e.length;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]},posterize:function(t,e){var r=s._toPixels(t);if(e<2||255<e)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var i=e-1,n=0;n<r.length;n+=4){var a=r[n],o=r[n+1],l=r[n+2];r[n]=255*(a*e>>8)/i,r[n+1]=255*(o*e>>8)/i,r[n+2]=255*(l*e>>8)/i}},dilate:function(t){for(var e,r,i,n,a,o,l,u,h,c,d,f,p,m,g,v,_,y=s._toPixels(t),b=0,x=y.length?y.length/4:0,w=new Int32Array(x);b<x;)for(r=(e=b)+t.width;b<r;)i=n=s._getARGB(y,b),(l=b-1)<e&&(l=b),r<=(o=b+1)&&(o=b),(u=b-t.width)<0&&(u=0),x<=(h=b+t.width)&&(h=b),f=s._getARGB(y,u),d=s._getARGB(y,l),p=s._getARGB(y,h),(a=77*(i>>16&255)+151*(i>>8&255)+28*(255&i))<(g=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))&&(n=d,a=g),a<(m=77*((c=s._getARGB(y,o))>>16&255)+151*(c>>8&255)+28*(255&c))&&(n=c,a=m),a<(v=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))&&(n=f,a=v),a<(_=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))&&(n=p,a=_),w[b++]=n;s._setPixels(y,w)},erode:function(t){for(var e,r,i,n,a,o,l,u,h,c,d,f,p,m,g,v,_,y=s._toPixels(t),b=0,x=y.length?y.length/4:0,w=new Int32Array(x);b<x;)for(r=(e=b)+t.width;b<r;)i=n=s._getARGB(y,b),(l=b-1)<e&&(l=b),r<=(o=b+1)&&(o=b),(u=b-t.width)<0&&(u=0),x<=(h=b+t.width)&&(h=b),f=s._getARGB(y,u),d=s._getARGB(y,l),p=s._getARGB(y,h),(g=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))<(a=77*(i>>16&255)+151*(i>>8&255)+28*(255&i))&&(n=d,a=g),(m=77*((c=s._getARGB(y,o))>>16&255)+151*(c>>8&255)+28*(255&c))<a&&(n=c,a=m),(v=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))<a&&(n=f,a=v),(_=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))<a&&(n=p,a=_),w[b++]=n;s._setPixels(y,w)},blur:function(t,e){!function(t,e){for(var r,l,u,h,c,d,f,p,m,g,v=s._toPixels(t),_=t.width,y=t.height,b=_*y,x=new Int32Array(b),w=0;w<b;w++)x[w]=s._getARGB(v,w);var S,C,M,P,E=new Int32Array(b),A=new Int32Array(b),L=new Int32Array(b),T=new Int32Array(b),R=0;for(function(t){var e=3.5*t|0;if(i!==(e=e<1?1:e<248?e:248)){n=1+(i=e)<<1,a=new Int32Array(n),o=new Array(n);for(var r=0;r<n;r++)o[r]=new Int32Array(256);for(var s,l,u,h,c=1,d=e-1;c<e;c++){a[e+c]=a[d]=l=d*d,u=o[e+c],h=o[d--];for(var f=0;f<256;f++)u[f]=h[f]=l*f}s=a[e]=e*e,u=o[e];for(var p=0;p<256;p++)u[p]=s*p}}(e),C=0;C<y;C++){for(S=0;S<_;S++){if(h=u=l=c=r=0,(d=S-i)<0)g=-d,d=0;else{if(_<=d)break;g=0}for(M=g;M<n&&!(_<=d);M++){var I=x[d+R];c+=(P=o[M])[(-16777216&I)>>>24],l+=P[(16711680&I)>>16],u+=P[(65280&I)>>8],h+=P[255&I],r+=a[M],d++}E[f=R+S]=c/r,A[f]=l/r,L[f]=u/r,T[f]=h/r}R+=_}for(m=(p=-i)*_,C=R=0;C<y;C++){for(S=0;S<_;S++){if(h=u=l=c=r=0,p<0)g=f=-p,d=S;else{if(y<=p)break;g=0,f=p,d=S+m}for(M=g;M<n&&!(y<=f);M++)c+=(P=o[M])[E[d]],l+=P[A[d]],u+=P[L[d]],h+=P[T[d]],r+=a[M],f++,d+=_;x[S+R]=c/r<<24|l/r<<16|u/r<<8|h/r}R+=_,m+=_,p++}s._setPixels(v,x)}(t,e)}},l=s;r.default=l},{}],30:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(t("../core/main")),n=a(t("omggif"));function a(t){return t&&t.__esModule?t:{default:t}}var o=[];i.default.prototype.createImage=function(t,e){return i.default._validateParameters("createImage",arguments),new i.default.Image(t,e)},i.default.prototype.saveCanvas=function(){i.default._validateParameters("saveCanvas",arguments);var t,e,r,n,a=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(t=arguments[0],a.shift()):arguments[0]instanceof i.default.Element?(t=arguments[0].elt,a.shift()):t=this._curElement&&this._curElement.elt,1<=a.length&&(e=a[0]),2<=a.length&&(r=a[1]),r=r||i.default.prototype._checkFileExtension(e,r)[1]||"png"){default:n="image/png";break;case"jpeg":case"jpg":n="image/jpeg"}t.toBlob((function(t){i.default.prototype.downloadFile(t,e,r)}),n)},i.default.prototype.saveGif=function(t,e){var r=t.gifProperties,a=r.loopLimit;1===a?a=null:null===a&&(a=0);for(var o=r.delay/10,s={loop:a,delay:o},l=new Uint8Array(t.width*t.height*r.numFrames*o),u=new n.default.GifWriter(l,t.width,t.height,s),h=[],c=0;c<r.numFrames;c++){for(var d=new Uint8Array(t.width*t.height),f=r.frames[c].data,p=f.length,m=0,g=0;m<p;m+=4,g++){var v=f[m+0]<<16|f[m+1]<<8|f[m+2]<<0,_=h.indexOf(v);-1===_?(d[g]=h.length,h.push(v)):d[g]=_}for(var y=1;y<h.length;)y<<=1;h.length=y,s.palette=new Uint32Array(h),u.addFrame(0,0,t.width,t.height,d,s)}u.end();var b=new Blob([l],{type:"image/gif"});i.default.prototype.downloadFile(b,e,"gif")},i.default.prototype.saveFrames=function(t,e,r,n,a){i.default._validateParameters("saveFrames",arguments);var s=r||3;s=i.default.prototype.constrain(s,0,15),s*=1e3;var l=n||15;l=i.default.prototype.constrain(l,0,22);var u=0,h=i.default.prototype._makeFrame,c=this._curElement.elt,d=setInterval((function(){h(t+u,e,c),u++}),1e3/l);setTimeout((function(){if(clearInterval(d),a)a(o);else for(var t=o,e=0;e<t.length;e++){var r=t[e];i.default.prototype.downloadFile(r.imageData,r.filename,r.ext)}o=[]}),s+.01)},i.default.prototype._makeFrame=function(t,e,r){var i,n;if(i=this?this._curElement.elt:r,e)switch(e.toLowerCase()){case"png":n="image/png";break;case"jpeg":case"jpg":n="image/jpeg";break;default:n="image/png"}else e="png",n="image/png";var a=i.toDataURL(n);a=a.replace(n,"image/octet-stream");var s={};s.imageData=a,s.filename=t,s.ext=e,o.push(s)};var s=i.default;r.default=s},{"../core/main":15,omggif:2}],31:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=l(t("../core/main")),n=l(t("./filters")),a=l(t("../core/helpers")),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}(t("../core/constants")),s=l(t("omggif"));function l(t){return t&&t.__esModule?t:{default:t}}function u(t,e){return 0<t&&t<e?t:e}t("../core/error_helpers"),i.default.prototype.loadImage=function(t,e,r){i.default._validateParameters("loadImage",arguments);var n=new i.default.Image(1,1,this),a=this,o=new Request(t,{method:"GET",mode:"cors"});return fetch(t,o).then((function(o){if(o.headers.get("content-type").includes("image/gif"))o.arrayBuffer().then((function(t){t&&function(t,e,r,n,a){var o=new s.default.GifReader(t);e.width=e.canvas.width=o.width,e.height=e.canvas.height=o.height;var l=[],u=o.numFrames(),h=new Uint8ClampedArray(e.width*e.height*4),c=0;if(1<u){for(var d=function(t,r){try{r.decodeAndBlitFrameRGBA(t,h)}catch(t){i.default._friendlyFileLoadError(8,e.src),"function"==typeof n?n(t):console.error(t)}},f=0;f<u;f++){c+=o.frameInfo(f).delay,1===o.frameInfo(f).disposal&&0<f?e.drawingContext.putImageData(l[f-1],0,0):(e.drawingContext.clearRect(0,0,e.width,e.height),h=new Uint8ClampedArray(e.width*e.height*4)),d(f,o);var p=new ImageData(h,e.width,e.height);e.drawingContext.putImageData(p,0,0),l.push(e.drawingContext.getImageData(0,0,e.width,e.height))}var m=o.loopCount();null===m?m=1:0===m&&(m=null),c/=u,e.gifProperties={displayIndex:0,delay:10*c,loopLimit:m,loopCount:0,frames:l,numFrames:u,playing:!0,timeDisplayed:0}}"function"==typeof r&&r(e),a()}(new Uint8Array(t),n,e,r,function(t){a._decrementPreload()}.bind(a))}),(function(t){"function"==typeof r?r(t):console.error(t)}));else{var l=new Image;l.onload=function(){n.width=n.canvas.width=l.width,n.height=n.canvas.height=l.height,n.drawingContext.drawImage(l,0,0),n.modified=!0,"function"==typeof e&&e(n),a._decrementPreload()},l.onerror=function(t){i.default._friendlyFileLoadError(0,l.src),"function"==typeof r?r(t):console.error(t)},0!==t.indexOf("data:image/")&&(l.crossOrigin="Anonymous"),l.src=t}n.modified=!0})),n},i.default.prototype.image=function(t,e,r,n,o,s,l,h,c){i.default._validateParameters("image",arguments);var d=t.width,f=t.height;t.elt&&t.elt.videoWidth&&!t.canvas&&(d=t.elt.videoWidth,f=t.elt.videoHeight);var p=e,m=r,g=n||d,v=o||f,_=s||0,y=l||0,b=h||d,x=c||f;b=u(b,d),x=u(x,f);var w=1;t.elt&&!t.canvas&&t.elt.style.width&&(w=t.elt.videoWidth&&!n?t.elt.videoWidth:t.elt.width,w/=parseInt(t.elt.style.width,10)),_*=w,y*=w,x*=w,b*=w;var S=a.default.modeAdjust(p,m,g,v,this._renderer._imageMode);this._renderer.image(t,_,y,b,x,S.x,S.y,S.w,S.h)},i.default.prototype.tint=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];i.default._validateParameters("tint",e);var n=this.color.apply(this,e);this._renderer._tint=n.levels},i.default.prototype.noTint=function(){this._renderer._tint=null},i.default.prototype._getTintedImageCanvas=function(t){if(!t.canvas)return t;var e=n.default._toPixels(t.canvas),r=document.createElement("canvas");r.width=t.canvas.width,r.height=t.canvas.height;for(var i=r.getContext("2d"),a=i.createImageData(t.canvas.width,t.canvas.height),o=a.data,s=0;s<e.length;s+=4){var l=e[s],u=e[s+1],h=e[s+2],c=e[s+3];o[s]=l*this._renderer._tint[0]/255,o[s+1]=u*this._renderer._tint[1]/255,o[s+2]=h*this._renderer._tint[2]/255,o[s+3]=c*this._renderer._tint[3]/255}return i.putImageData(a,0,0),r},i.default.prototype.imageMode=function(t){i.default._validateParameters("imageMode",arguments),t!==o.CORNER&&t!==o.CORNERS&&t!==o.CENTER||(this._renderer._imageMode=t)};var h=i.default;r.default=h},{"../core/constants":9,"../core/error_helpers":11,"../core/helpers":12,"../core/main":15,"./filters":29,omggif:2}],32:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(t("../core/main")),n=a(t("./filters"));function a(t){return t&&t.__esModule?t:{default:t}}i.default.Image=function(t,e){this.width=t,this.height=e,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this._pixelsDirty=!0,this.gifProperties=null,this._modified=!1,this.pixels=[]},i.default.Image.prototype._animateGif=function(t){var e=this.gifProperties;if(e.playing&&(e.timeDisplayed+=t.deltaTime),e.timeDisplayed>=e.delay){var r=Math.floor(e.timeDisplayed/e.delay);if(e.timeDisplayed=0,e.displayIndex+=r,e.loopCount=Math.floor(e.displayIndex/e.numFrames),null!==e.loopLimit&&e.loopCount>=e.loopLimit)e.playing=!1;else{var i=e.displayIndex%e.numFrames;this.drawingContext.putImageData(e.frames[i],0,0),e.displayIndex=i,this._pixelsDirty=!0,this.setModified(!0)}}},i.default.Image.prototype._setProperty=function(t,e){this[t]=e,this.setModified(!0)},i.default.Image.prototype.loadPixels=function(){i.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)},i.default.Image.prototype.updatePixels=function(t,e,r,n){i.default.Renderer2D.prototype.updatePixels.call(this,t,e,r,n),this.setModified(!0)},i.default.Image.prototype.get=function(t,e,r,n){return i.default._validateParameters("p5.Image.get",arguments),i.default.Renderer2D.prototype.get.apply(this,arguments)},i.default.Image.prototype._getPixel=i.default.Renderer2D.prototype._getPixel,i.default.Image.prototype.set=function(t,e,r){i.default.Renderer2D.prototype.set.call(this,t,e,r),this.setModified(!0)},i.default.Image.prototype.resize=function(t,e){0===t&&0===e?(t=this.canvas.width,e=this.canvas.height):0===t?t=this.canvas.width*e/this.canvas.height:0===e&&(e=this.canvas.height*t/this.canvas.width),t=Math.floor(t),e=Math.floor(e);var r=document.createElement("canvas");if(r.width=t,r.height=e,this.gifProperties)for(var i=this.gifProperties,n=function(t,e){for(var r=0,i=0;i<e.height;i++)for(var n=0;n<e.width;n++){var a=Math.floor(n*t.width/e.width),o=4*(Math.floor(i*t.height/e.height)*t.width+a);e.data[r++]=t.data[o++],e.data[r++]=t.data[o++],e.data[r++]=t.data[o++],e.data[r++]=t.data[o++]}},a=0;a<i.numFrames;a++){var o=this.drawingContext.createImageData(t,e);n(i.frames[a],o),i.frames[a]=o}r.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,r.width,r.height),this.canvas.width=this.width=t,this.canvas.height=this.height=e,this.drawingContext.drawImage(r,0,0,t,e,0,0,t,e),0<this.pixels.length&&this.loadPixels(),this.setModified(!0),this._pixelsDirty=!0},i.default.Image.prototype.copy=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];i.default.prototype.copy.apply(this,e)},i.default.Image.prototype.mask=function(t){void 0===t&&(t=this);var e=this.drawingContext.globalCompositeOperation,r=1;t instanceof i.default.Renderer&&(r=t._pInst._pixelDensity);var n=[t,0,0,r*t.width,r*t.height,0,0,this.width,this.height];this.drawingContext.globalCompositeOperation="destination-in",i.default.Image.prototype.copy.apply(this,n),this.drawingContext.globalCompositeOperation=e,this.setModified(!0)},i.default.Image.prototype.filter=function(t,e){n.default.apply(this.canvas,n.default[t],e),this.setModified(!0)},i.default.Image.prototype.blend=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];i.default.prototype.blend.apply(this,e),this.setModified(!0)},i.default.Image.prototype.setModified=function(t){this._modified=t},i.default.Image.prototype.isModified=function(){return this._modified},i.default.Image.prototype.save=function(t,e){this.gifProperties?i.default.prototype.saveGif(this,t):i.default.prototype.saveCanvas(this.canvas,t,e)},i.default.Image.prototype.reset=function(){if(this.gifProperties){var t=this.gifProperties;t.playing=!0,t.timeSinceStart=0,t.timeDisplayed=0,t.loopCount=0,t.displayIndex=0,this.drawingContext.putImageData(t.frames[0],0,0)}},i.default.Image.prototype.getCurrentFrame=function(){if(this.gifProperties){var t=this.gifProperties;return t.displayIndex%t.numFrames}},i.default.Image.prototype.setFrame=function(t){if(this.gifProperties){var e=this.gifProperties;t<e.numFrames&&0<=t?(e.timeDisplayed=0,e.displayIndex=t,this.drawingContext.putImageData(e.frames[t],0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero.")}},i.default.Image.prototype.numFrames=function(){if(this.gifProperties)return this.gifProperties.numFrames},i.default.Image.prototype.play=function(){this.gifProperties&&(this.gifProperties.playing=!0)},i.default.Image.prototype.pause=function(){this.gifProperties&&(this.gifProperties.playing=!1)},i.default.Image.prototype.delay=function(t){this.gifProperties&&(this.gifProperties.delay=t)};var o=i.default.Image;r.default=o},{"../core/main":15,"./filters":29}],33:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(t("../core/main")),n=a(t("./filters"));function a(t){return t&&t.__esModule?t:{default:t}}t("../color/p5.Color"),i.default.prototype.pixels=[],i.default.prototype.blend=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n;i.default._validateParameters("blend",e),this._renderer?(n=this._renderer).blend.apply(n,e):i.default.Renderer2D.prototype.blend.apply(this,e)},i.default.prototype.copy=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,a,o,s,l,u,h,c,d;if(i.default._validateParameters("copy",e),9===e.length)n=e[0],a=e[1],o=e[2],s=e[3],l=e[4],u=e[5],h=e[6],c=e[7],d=e[8];else{if(8!==e.length)throw new Error("Signature not supported");n=this,a=e[0],o=e[1],s=e[2],l=e[3],u=e[4],h=e[5],c=e[6],d=e[7]}i.default.prototype._copyHelper(this,n,a,o,s,l,u,h,c,d),this._pixelsDirty=!0},i.default.prototype._copyHelper=function(t,e,r,n,a,o,s,l,u,h){e.loadPixels();var c=e.canvas.width/e.width,d=0,f=0;e._renderer&&e._renderer.isP3D&&(d=e.width/2,f=e.height/2),t._renderer&&t._renderer.isP3D?i.default.RendererGL.prototype.image.call(t._renderer,e,r+d,n+f,a,o,s,l,u,h):t.drawingContext.drawImage(e.canvas,c*(r+d),c*(n+f),c*a,c*o,s,l,u,h)},i.default.prototype.filter=function(t,e){i.default._validateParameters("filter",arguments),void 0!==this.canvas?n.default.apply(this.canvas,n.default[t],e):n.default.apply(this.elt,n.default[t],e)},i.default.prototype.get=function(t,e,r,n){var a;return i.default._validateParameters("get",arguments),(a=this._renderer).get.apply(a,arguments)},i.default.prototype.loadPixels=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];i.default._validateParameters("loadPixels",e),this._renderer.loadPixels()},i.default.prototype.set=function(t,e,r){this._renderer.set(t,e,r)},i.default.prototype.updatePixels=function(t,e,r,n){i.default._validateParameters("updatePixels",arguments),0!==this.pixels.length&&this._renderer.updatePixels(t,e,r,n)};var o=i.default;r.default=o},{"../color/p5.Color":7,"../core/main":15,"./filters":29}],34:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("../core/main"))&&i.__esModule?i:{default:i};function a(t,e,r){if("function"==typeof Math.hypot)return Math.hypot.apply(null,arguments);for(var i=arguments.length,n=[],a=0,o=0;o<i;o++){var s=arguments[o];if((s=+s)==1/0||s===-1/0)return 1/0;a<(s=Math.abs(s))&&(a=s),n[o]=s}0===a&&(a=1);for(var l=0,u=0,h=0;h<i;h++){var c=n[h]/a,d=c*c-u,f=l+d;u=f-l-d,l=f}return Math.sqrt(l)*a}n.default.prototype.abs=Math.abs,n.default.prototype.ceil=Math.ceil,n.default.prototype.constrain=function(t,e,r){return n.default._validateParameters("constrain",arguments),Math.max(Math.min(t,r),e)},n.default.prototype.dist=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.default._validateParameters("dist",e),4===e.length?a(e[2]-e[0],e[3]-e[1]):6===e.length?a(e[3]-e[0],e[4]-e[1],e[5]-e[2]):void 0},n.default.prototype.exp=Math.exp,n.default.prototype.floor=Math.floor,n.default.prototype.lerp=function(t,e,r){return n.default._validateParameters("lerp",arguments),r*(e-t)+t},n.default.prototype.log=Math.log,n.default.prototype.mag=function(t,e){return n.default._validateParameters("mag",arguments),a(t,e)},n.default.prototype.map=function(t,e,r,i,a,o){n.default._validateParameters("map",arguments);var s=(t-e)/(r-e)*(a-i)+i;return o?i<a?this.constrain(s,i,a):this.constrain(s,a,i):s},n.default.prototype.max=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.default._validateParameters("max",e),e[0]instanceof Array?Math.max.apply(null,e[0]):Math.max.apply(null,e)},n.default.prototype.min=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.default._validateParameters("min",e),e[0]instanceof Array?Math.min.apply(null,e[0]):Math.min.apply(null,e)},n.default.prototype.norm=function(t,e,r){return n.default._validateParameters("norm",arguments),this.map(t,e,r,0,1)},n.default.prototype.pow=Math.pow,n.default.prototype.round=Math.round,n.default.prototype.sq=function(t){return t*t},n.default.prototype.sqrt=Math.sqrt;var o=n.default;r.default=o},{"../core/main":15}],35:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("../core/main"))&&i.__esModule?i:{default:i};n.default.prototype.createVector=function(t,e,r){return this instanceof n.default?new n.default.Vector(this,arguments):new n.default.Vector(t,e,r)};var a=n.default;r.default=a},{"../core/main":15}],36:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n,a=(i=t("../core/main"))&&i.__esModule?i:{default:i},o=4095,s=4,l=.5,u=function(t){return.5*(1-Math.cos(t*Math.PI))};a.default.prototype.noise=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null==n){n=new Array(4096);for(var i=0;i<4096;i++)n[i]=Math.random()}t<0&&(t=-t),e<0&&(e=-e),r<0&&(r=-r);for(var a,h,c,d,f,p=Math.floor(t),m=Math.floor(e),g=Math.floor(r),v=t-p,_=e-m,y=r-g,b=0,x=.5,w=0;w<s;w++){var S=p+(m<<4)+(g<<8);a=u(v),h=u(_),c=n[S&o],c+=a*(n[S+1&o]-c),d=n[S+16&o],c+=h*((d+=a*(n[S+16+1&o]-d))-c),d=n[(S+=256)&o],d+=a*(n[S+1&o]-d),f=n[S+16&o],d+=h*((f+=a*(n[S+16+1&o]-f))-d),b+=(c+=u(y)*(d-c))*x,x*=l,p<<=1,m<<=1,g<<=1,1<=(v*=2)&&(p++,v--),1<=(_*=2)&&(m++,_--),1<=(y*=2)&&(g++,y--)}return b},a.default.prototype.noiseDetail=function(t,e){0<t&&(s=t),0<e&&(l=e)},a.default.prototype.noiseSeed=function(t){var e,r,i,a=(i=4294967296,{setSeed:function(t){r=e=(null==t?Math.random()*i:t)>>>0},getSeed:function(){return e},rand:function(){return(r=(1664525*r+1013904223)%i)/i}});a.setSeed(t),n=new Array(4096);for(var o=0;o<4096;o++)n[o]=a.rand()};var h=a.default;r.default=h},{"../core/main":15}],37:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("../core/main"))&&i.__esModule?i:{default:i},a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}(t("../core/constants"));n.default.Vector=function(){var t,e,r;r=arguments[0]instanceof n.default?(this.p5=arguments[0],t=arguments[1][0]||0,e=arguments[1][1]||0,arguments[1][2]||0):(t=arguments[0]||0,e=arguments[1]||0,arguments[2]||0),this.x=t,this.y=e,this.z=r},n.default.Vector.prototype.toString=function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")},n.default.Vector.prototype.set=function(t,e,r){return t instanceof n.default.Vector?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0):t instanceof Array?(this.x=t[0]||0,this.y=t[1]||0,this.z=t[2]||0):(this.x=t||0,this.y=e||0,this.z=r||0),this},n.default.Vector.prototype.copy=function(){return this.p5?new n.default.Vector(this.p5,[this.x,this.y,this.z]):new n.default.Vector(this.x,this.y,this.z)},n.default.Vector.prototype.add=function(t,e,r){return t instanceof n.default.Vector?(this.x+=t.x||0,this.y+=t.y||0,this.z+=t.z||0):t instanceof Array?(this.x+=t[0]||0,this.y+=t[1]||0,this.z+=t[2]||0):(this.x+=t||0,this.y+=e||0,this.z+=r||0),this},n.default.Vector.prototype.sub=function(t,e,r){return t instanceof n.default.Vector?(this.x-=t.x||0,this.y-=t.y||0,this.z-=t.z||0):t instanceof Array?(this.x-=t[0]||0,this.y-=t[1]||0,this.z-=t[2]||0):(this.x-=t||0,this.y-=e||0,this.z-=r||0),this},n.default.Vector.prototype.mult=function(t){return"number"==typeof t&&isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):console.warn("p5.Vector.prototype.mult:","n is undefined or not a finite number"),this},n.default.Vector.prototype.div=function(t){return"number"==typeof t&&isFinite(t)?0===t?console.warn("p5.Vector.prototype.div:","divide by 0"):(this.x/=t,this.y/=t,this.z/=t):console.warn("p5.Vector.prototype.div:","n is undefined or not a finite number"),this},n.default.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())},n.default.Vector.prototype.magSq=function(){var t=this.x,e=this.y,r=this.z;return t*t+e*e+r*r},n.default.Vector.prototype.dot=function(t,e,r){return t instanceof n.default.Vector?this.dot(t.x,t.y,t.z):this.x*(t||0)+this.y*(e||0)+this.z*(r||0)},n.default.Vector.prototype.cross=function(t){var e=this.y*t.z-this.z*t.y,r=this.z*t.x-this.x*t.z,i=this.x*t.y-this.y*t.x;return this.p5?new n.default.Vector(this.p5,[e,r,i]):new n.default.Vector(e,r,i)},n.default.Vector.prototype.dist=function(t){return t.copy().sub(this).mag()},n.default.Vector.prototype.normalize=function(){var t=this.mag();return 0!==t&&this.mult(1/t),this},n.default.Vector.prototype.limit=function(t){var e=this.magSq();return t*t<e&&this.div(Math.sqrt(e)).mult(t),this},n.default.Vector.prototype.setMag=function(t){return this.normalize().mult(t)},n.default.Vector.prototype.heading=function(){var t=Math.atan2(this.y,this.x);return this.p5?this.p5._fromRadians(t):t},n.default.Vector.prototype.rotate=function(t){var e=this.heading()+t;this.p5&&(e=this.p5._toRadians(e));var r=this.mag();return this.x=Math.cos(e)*r,this.y=Math.sin(e)*r,this},n.default.Vector.prototype.angleBetween=function(t){var e=this.dot(t)/(this.mag()*t.mag()),r=Math.acos(Math.min(1,Math.max(-1,e)));return this.p5?this.p5._fromRadians(r):r},n.default.Vector.prototype.lerp=function(t,e,r,i){return t instanceof n.default.Vector?this.lerp(t.x,t.y,t.z,e):(this.x+=(t-this.x)*i||0,this.y+=(e-this.y)*i||0,this.z+=(r-this.z)*i||0,this)},n.default.Vector.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},n.default.Vector.prototype.equals=function(t,e,r){var i,a,o;return o=t instanceof n.default.Vector?(i=t.x||0,a=t.y||0,t.z||0):t instanceof Array?(i=t[0]||0,a=t[1]||0,t[2]||0):(i=t||0,a=e||0,r||0),this.x===i&&this.y===a&&this.z===o},n.default.Vector.fromAngle=function(t,e){return void 0===e&&(e=1),new n.default.Vector(e*Math.cos(t),e*Math.sin(t),0)},n.default.Vector.fromAngles=function(t,e,r){void 0===r&&(r=1);var i=Math.cos(e),a=Math.sin(e),o=Math.cos(t),s=Math.sin(t);return new n.default.Vector(r*s*a,-r*o,r*s*i)},n.default.Vector.random2D=function(){return this.fromAngle(Math.random()*a.TWO_PI)},n.default.Vector.random3D=function(){var t=Math.random()*a.TWO_PI,e=2*Math.random()-1,r=Math.sqrt(1-e*e),i=r*Math.cos(t),o=r*Math.sin(t);return new n.default.Vector(i,o,e)},n.default.Vector.add=function(t,e,r){return r?r.set(t):r=t.copy(),r.add(e),r},n.default.Vector.sub=function(t,e,r){return r?r.set(t):r=t.copy(),r.sub(e),r},n.default.Vector.mult=function(t,e,r){return r?r.set(t):r=t.copy(),r.mult(e),r},n.default.Vector.div=function(t,e,r){return r?r.set(t):r=t.copy(),r.div(e),r},n.default.Vector.dot=function(t,e){return t.dot(e)},n.default.Vector.cross=function(t,e){return t.cross(e)},n.default.Vector.dist=function(t,e){return t.dist(e)},n.default.Vector.lerp=function(t,e,r,i){return i?i.set(t):i=t.copy(),i.lerp(e,r),i},n.default.Vector.mag=function(t){var e=t.x,r=t.y,i=t.z,n=e*e+r*r+i*i;return Math.sqrt(n)};var o=n.default.Vector;r.default=o},{"../core/constants":9,"../core/main":15}],38:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("../core/main"))&&i.__esModule?i:{default:i},a="_lcg_random_state",o=4294967296,s=0;n.default.prototype._lcg=function(t){return this[t]=(1664525*this[t]+1013904223)%o,this[t]/o},n.default.prototype._lcgSetSeed=function(t,e){this[t]=(null==e?Math.random()*o:e)>>>0},n.default.prototype.randomSeed=function(t){this._lcgSetSeed(a,t),this._gaussian_previous=!1},n.default.prototype.random=function(t,e){var r;if(n.default._validateParameters("random",arguments),r=null!=this[a]?this._lcg(a):Math.random(),void 0===t)return r;if(void 0===e)return t instanceof Array?t[Math.floor(r*t.length)]:r*t;if(e<t){var i=t;t=e,e=i}return r*(e-t)+t},n.default.prototype.randomGaussian=function(t,e){var r,i,n,a;if(this._gaussian_previous)r=s,this._gaussian_previous=!1;else{for(;1<=(a=(i=this.random(2)-1)*i+(n=this.random(2)-1)*n););r=i*(a=Math.sqrt(-2*Math.log(a)/a)),s=n*a,this._gaussian_previous=!0}return r*(e||1)+(t||0)};var l=n.default;r.default=l},{"../core/main":15}],39:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("../core/main"))&&i.__esModule?i:{default:i},a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}(t("../core/constants"));n.default.prototype._angleMode=a.RADIANS,n.default.prototype.acos=function(t){return this._fromRadians(Math.acos(t))},n.default.prototype.asin=function(t){return this._fromRadians(Math.asin(t))},n.default.prototype.atan=function(t){return this._fromRadians(Math.atan(t))},n.default.prototype.atan2=function(t,e){return this._fromRadians(Math.atan2(t,e))},n.default.prototype.cos=function(t){return Math.cos(this._toRadians(t))},n.default.prototype.sin=function(t){return Math.sin(this._toRadians(t))},n.default.prototype.tan=function(t){return Math.tan(this._toRadians(t))},n.default.prototype.degrees=function(t){return t*a.RAD_TO_DEG},n.default.prototype.radians=function(t){return t*a.DEG_TO_RAD},n.default.prototype.angleMode=function(t){t!==a.DEGREES&&t!==a.RADIANS||(this._angleMode=t)},n.default.prototype._toRadians=function(t){return this._angleMode===a.DEGREES?t*a.DEG_TO_RAD:t},n.default.prototype._toDegrees=function(t){return this._angleMode===a.RADIANS?t*a.RAD_TO_DEG:t},n.default.prototype._fromRadians=function(t){return this._angleMode===a.DEGREES?t*a.RAD_TO_DEG:t};var o=n.default;r.default=o},{"../core/constants":9,"../core/main":15}],40:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("../core/main"))&&i.__esModule?i:{default:i};n.default.prototype.camera=function(){var t;this._assert3d("camera");for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return n.default._validateParameters("camera",r),(t=this._renderer._curCamera).camera.apply(t,r),this},n.default.prototype.perspective=function(){var t;this._assert3d("perspective");for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return n.default._validateParameters("perspective",r),(t=this._renderer._curCamera).perspective.apply(t,r),this},n.default.prototype.ortho=function(){var t;this._assert3d("ortho");for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return n.default._validateParameters("ortho",r),(t=this._renderer._curCamera).ortho.apply(t,r),this},n.default.prototype.frustum=function(){var t;this._assert3d("frustum");for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return n.default._validateParameters("frustum",r),(t=this._renderer._curCamera).frustum.apply(t,r),this},n.default.prototype.createCamera=function(){this._assert3d("createCamera");var t=new n.default.Camera(this._renderer);return t._computeCameraDefaultSettings(),t._setDefaultCamera(),this._renderer._curCamera=t},n.default.Camera=function(t){this._renderer=t,this.cameraType="default",this.cameraMatrix=new n.default.Matrix,this.projMatrix=new n.default.Matrix},n.default.Camera.prototype.perspective=function(t,e,r,i){this.cameraType=0<arguments.length?"custom":"default",this.cameraFOV=void 0===t?t=this.defaultCameraFOV:this._renderer._pInst._toRadians(t),void 0===e&&(e=this.defaultAspectRatio),void 0===r&&(r=this.defaultCameraNear),void 0===i&&(i=this.defaultCameraFar),r<=1e-4&&(r=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),i<r&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=e,this.cameraNear=r,this.cameraFar=i,this.projMatrix=n.default.Matrix.identity();var a=1/Math.tan(this.cameraFOV/2),o=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(a/e,0,0,0,0,-a,0,0,0,0,(i+r)*o,-1,0,0,2*i*r*o,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])},n.default.Camera.prototype.ortho=function(t,e,r,i,a,o){void 0===t&&(t=-this._renderer.width/2),void 0===e&&(e=+this._renderer.width/2),void 0===r&&(r=-this._renderer.height/2),void 0===i&&(i=+this._renderer.height/2),void 0===a&&(a=0),void 0===o&&(o=Math.max(this._renderer.width,this._renderer.height));var s=e-t,l=i-r,u=o-a,h=2/s,c=2/l,d=-2/u,f=-(e+t)/s,p=-(i+r)/l,m=-(o+a)/u;this.projMatrix=n.default.Matrix.identity(),this.projMatrix.set(h,0,0,0,0,-c,0,0,0,0,d,0,f,p,m,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},n.default.Camera.prototype.frustum=function(t,e,r,i,a,o){void 0===t&&(t=-this._renderer.width/2),void 0===e&&(e=+this._renderer.width/2),void 0===r&&(r=-this._renderer.height/2),void 0===i&&(i=+this._renderer.height/2),void 0===a&&(a=0),void 0===o&&(o=Math.max(this._renderer.width,this._renderer.height));var s=e-t,l=i-r,u=o-a,h=2*a/s,c=2*a/l,d=-2*o*a/u,f=(e+t)/s,p=(i+r)/l,m=-(o+a)/u;this.projMatrix=n.default.Matrix.identity(),this.projMatrix.set(h,0,0,0,0,c,0,0,f,p,m,-1,0,0,d,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},n.default.Camera.prototype._rotateView=function(t,e,r,i){var a=this.centerX,o=this.centerY,s=this.centerZ;a-=this.eyeX,o-=this.eyeY,s-=this.eyeZ;var l=n.default.Matrix.identity(this._renderer._pInst);l.rotate(this._renderer._pInst._toRadians(t),e,r,i);var u=[a*l.mat4[0]+o*l.mat4[4]+s*l.mat4[8],a*l.mat4[1]+o*l.mat4[5]+s*l.mat4[9],a*l.mat4[2]+o*l.mat4[6]+s*l.mat4[10]];u[0]+=this.eyeX,u[1]+=this.eyeY,u[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,u[0],u[1],u[2],this.upX,this.upY,this.upZ)},n.default.Camera.prototype.pan=function(t){var e=this._getLocalAxes();this._rotateView(t,e.y[0],e.y[1],e.y[2])},n.default.Camera.prototype.tilt=function(t){var e=this._getLocalAxes();this._rotateView(t,e.x[0],e.x[1],e.x[2])},n.default.Camera.prototype.lookAt=function(t,e,r){this.camera(this.eyeX,this.eyeY,this.eyeZ,t,e,r,this.upX,this.upY,this.upZ)},n.default.Camera.prototype.camera=function(t,e,r,i,n,a,o,s,l){void 0===t&&(t=this.defaultEyeX,e=this.defaultEyeY,r=this.defaultEyeZ,i=t,n=e,s=1,l=o=a=0),this.eyeX=t,this.eyeY=e,this.eyeZ=r,this.centerX=i,this.centerY=n,this.centerZ=a,this.upX=o,this.upY=s,this.upZ=l;var u=this._getLocalAxes();this.cameraMatrix.set(u.x[0],u.y[0],u.z[0],0,u.x[1],u.y[1],u.z[1],0,u.x[2],u.y[2],u.z[2],0,0,0,0,1);var h=-t,c=-e,d=-r;return this.cameraMatrix.translate([h,c,d]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this},n.default.Camera.prototype.move=function(t,e,r){var i=this._getLocalAxes(),n=[i.x[0]*t,i.x[1]*t,i.x[2]*t],a=[i.y[0]*e,i.y[1]*e,i.y[2]*e],o=[i.z[0]*r,i.z[1]*r,i.z[2]*r];this.camera(this.eyeX+n[0]+a[0]+o[0],this.eyeY+n[1]+a[1]+o[1],this.eyeZ+n[2]+a[2]+o[2],this.centerX+n[0]+a[0]+o[0],this.centerY+n[1]+a[1]+o[1],this.centerZ+n[2]+a[2]+o[2],0,1,0)},n.default.Camera.prototype.setPosition=function(t,e,r){var i=t-this.eyeX,n=e-this.eyeY,a=r-this.eyeZ;this.camera(t,e,r,this.centerX+i,this.centerY+n,this.centerZ+a,0,1,0)},n.default.Camera.prototype._computeCameraDefaultSettings=function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ},n.default.Camera.prototype._setDefaultCamera=function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"},n.default.Camera.prototype._resize=function(){"default"===this.cameraType?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)},n.default.Camera.prototype.copy=function(){var t=new n.default.Camera(this._renderer);return t.cameraFOV=this.cameraFOV,t.aspectRatio=this.aspectRatio,t.eyeX=this.eyeX,t.eyeY=this.eyeY,t.eyeZ=this.eyeZ,t.centerX=this.centerX,t.centerY=this.centerY,t.centerZ=this.centerZ,t.cameraNear=this.cameraNear,t.cameraFar=this.cameraFar,t.cameraType=this.cameraType,t.cameraMatrix=this.cameraMatrix.copy(),t.projMatrix=this.projMatrix.copy(),t},n.default.Camera.prototype._getLocalAxes=function(){var t=this.eyeX-this.centerX,e=this.eyeY-this.centerY,r=this.eyeZ-this.centerZ,i=Math.sqrt(t*t+e*e+r*r);0!==i&&(t/=i,e/=i,r/=i);var n=this.upX,a=this.upY,o=this.upZ,s=a*r-o*e,l=-n*r+o*t,u=n*e-a*t;n=e*u-r*l,a=-t*u+r*s,o=t*l-e*s;var h=Math.sqrt(s*s+l*l+u*u);0!==h&&(s/=h,l/=h,u/=h);var c=Math.sqrt(n*n+a*a+o*o);return 0!==c&&(n/=c,a/=c,o/=c),{x:[s,l,u],y:[n,a,o],z:[t,e,r]}},n.default.Camera.prototype._orbit=function(t,e,r){var i=this.eyeX-this.centerX,n=this.eyeY-this.centerY,a=this.eyeZ-this.centerZ,o=Math.sqrt(i*i+n*n+a*a),s=Math.atan2(i,a),l=Math.acos(Math.max(-1,Math.min(1,n/o)));s+=t,(o+=r)<0&&(o=.1),(l+=e)>Math.PI?l=Math.PI:l<=0&&(l=.001);var u=Math.sin(l)*o*Math.sin(s),h=Math.cos(l)*o,c=Math.sin(l)*o*Math.cos(s);this.camera(u+this.centerX,h+this.centerY,c+this.centerZ,this.centerX,this.centerY,this.centerZ,0,1,0)},n.default.Camera.prototype._isActive=function(){return this===this._renderer._curCamera},n.default.prototype.setCamera=function(t){this._renderer._curCamera=t,this._renderer.uPMatrix.set(t.projMatrix.mat4[0],t.projMatrix.mat4[1],t.projMatrix.mat4[2],t.projMatrix.mat4[3],t.projMatrix.mat4[4],t.projMatrix.mat4[5],t.projMatrix.mat4[6],t.projMatrix.mat4[7],t.projMatrix.mat4[8],t.projMatrix.mat4[9],t.projMatrix.mat4[10],t.projMatrix.mat4[11],t.projMatrix.mat4[12],t.projMatrix.mat4[13],t.projMatrix.mat4[14],t.projMatrix.mat4[15])};var a=n.default.Camera;r.default=a},{"../core/main":15}],41:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("../core/main"))&&i.__esModule?i:{default:i},a=Array,o=function(t){return t instanceof Array};"undefined"!=typeof Float32Array&&(a=Float32Array,o=function(t){return t instanceof Array||t instanceof Float32Array}),n.default.Matrix=function(){for(var t=new Array(arguments.length),e=0;e<t.length;++e)t[e]=arguments[e];return t.length&&t[t.length-1]instanceof n.default&&(this.p5=t[t.length-1]),"mat3"===t[0]?this.mat3=Array.isArray(t[1])?t[1]:new a([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(t[0])?t[0]:new a([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},n.default.Matrix.prototype.set=function(t){return t instanceof n.default.Matrix?this.mat4=t.mat4:o(t)?this.mat4=t:16===arguments.length&&(this.mat4[0]=t,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this},n.default.Matrix.prototype.get=function(){return new n.default.Matrix(this.mat4,this.p5)},n.default.Matrix.prototype.copy=function(){var t=new n.default.Matrix(this.p5);return t.mat4[0]=this.mat4[0],t.mat4[1]=this.mat4[1],t.mat4[2]=this.mat4[2],t.mat4[3]=this.mat4[3],t.mat4[4]=this.mat4[4],t.mat4[5]=this.mat4[5],t.mat4[6]=this.mat4[6],t.mat4[7]=this.mat4[7],t.mat4[8]=this.mat4[8],t.mat4[9]=this.mat4[9],t.mat4[10]=this.mat4[10],t.mat4[11]=this.mat4[11],t.mat4[12]=this.mat4[12],t.mat4[13]=this.mat4[13],t.mat4[14]=this.mat4[14],t.mat4[15]=this.mat4[15],t},n.default.Matrix.identity=function(t){return new n.default.Matrix(t)},n.default.Matrix.prototype.transpose=function(t){var e,r,i,a,s,l;return t instanceof n.default.Matrix?(e=t.mat4[1],r=t.mat4[2],i=t.mat4[3],a=t.mat4[6],s=t.mat4[7],l=t.mat4[11],this.mat4[0]=t.mat4[0],this.mat4[1]=t.mat4[4],this.mat4[2]=t.mat4[8],this.mat4[3]=t.mat4[12],this.mat4[4]=e,this.mat4[5]=t.mat4[5],this.mat4[6]=t.mat4[9],this.mat4[7]=t.mat4[13],this.mat4[8]=r,this.mat4[9]=a,this.mat4[10]=t.mat4[10],this.mat4[11]=t.mat4[14],this.mat4[12]=i,this.mat4[13]=s,this.mat4[14]=l,this.mat4[15]=t.mat4[15]):o(t)&&(e=t[1],r=t[2],i=t[3],a=t[6],s=t[7],l=t[11],this.mat4[0]=t[0],this.mat4[1]=t[4],this.mat4[2]=t[8],this.mat4[3]=t[12],this.mat4[4]=e,this.mat4[5]=t[5],this.mat4[6]=t[9],this.mat4[7]=t[13],this.mat4[8]=r,this.mat4[9]=a,this.mat4[10]=t[10],this.mat4[11]=t[14],this.mat4[12]=i,this.mat4[13]=s,this.mat4[14]=l,this.mat4[15]=t[15]),this},n.default.Matrix.prototype.invert=function(t){var e,r,i,a,s,l,u,h,c,d,f,p,m,g,v,_;t instanceof n.default.Matrix?(e=t.mat4[0],r=t.mat4[1],i=t.mat4[2],a=t.mat4[3],s=t.mat4[4],l=t.mat4[5],u=t.mat4[6],h=t.mat4[7],c=t.mat4[8],d=t.mat4[9],f=t.mat4[10],p=t.mat4[11],m=t.mat4[12],g=t.mat4[13],v=t.mat4[14],_=t.mat4[15]):o(t)&&(e=t[0],r=t[1],i=t[2],a=t[3],s=t[4],l=t[5],u=t[6],h=t[7],c=t[8],d=t[9],f=t[10],p=t[11],m=t[12],g=t[13],v=t[14],_=t[15]);var y=e*l-r*s,b=e*u-i*s,x=e*h-a*s,w=r*u-i*l,S=r*h-a*l,C=i*h-a*u,M=c*g-d*m,P=c*v-f*m,E=c*_-p*m,A=d*v-f*g,L=d*_-p*g,T=f*_-p*v,R=y*T-b*L+x*A+w*E-S*P+C*M;return R?(R=1/R,this.mat4[0]=(l*T-u*L+h*A)*R,this.mat4[1]=(i*L-r*T-a*A)*R,this.mat4[2]=(g*C-v*S+_*w)*R,this.mat4[3]=(f*S-d*C-p*w)*R,this.mat4[4]=(u*E-s*T-h*P)*R,this.mat4[5]=(e*T-i*E+a*P)*R,this.mat4[6]=(v*x-m*C-_*b)*R,this.mat4[7]=(c*C-f*x+p*b)*R,this.mat4[8]=(s*L-l*E+h*M)*R,this.mat4[9]=(r*E-e*L-a*M)*R,this.mat4[10]=(m*S-g*x+_*y)*R,this.mat4[11]=(d*x-c*S-p*y)*R,this.mat4[12]=(l*P-s*A-u*M)*R,this.mat4[13]=(e*A-r*P+i*M)*R,this.mat4[14]=(g*b-m*w-v*y)*R,this.mat4[15]=(c*w-d*b+f*y)*R,this):null},n.default.Matrix.prototype.invert3x3=function(){var t=this.mat3[0],e=this.mat3[1],r=this.mat3[2],i=this.mat3[3],n=this.mat3[4],a=this.mat3[5],o=this.mat3[6],s=this.mat3[7],l=this.mat3[8],u=l*n-a*s,h=-l*i+a*o,c=s*i-n*o,d=t*u+e*h+r*c;return d?(d=1/d,this.mat3[0]=u*d,this.mat3[1]=(-l*e+r*s)*d,this.mat3[2]=(a*e-r*n)*d,this.mat3[3]=h*d,this.mat3[4]=(l*t-r*o)*d,this.mat3[5]=(-a*t+r*i)*d,this.mat3[6]=c*d,this.mat3[7]=(-s*t+e*o)*d,this.mat3[8]=(n*t-e*i)*d,this):null},n.default.Matrix.prototype.transpose3x3=function(t){var e=t[1],r=t[2],i=t[5];return this.mat3[1]=t[3],this.mat3[2]=t[6],this.mat3[3]=e,this.mat3[5]=t[7],this.mat3[6]=r,this.mat3[7]=i,this},n.default.Matrix.prototype.inverseTranspose=function(t){void 0===this.mat3?console.error("sorry, this function only works with mat3"):(this.mat3[0]=t.mat4[0],this.mat3[1]=t.mat4[1],this.mat3[2]=t.mat4[2],this.mat3[3]=t.mat4[4],this.mat3[4]=t.mat4[5],this.mat3[5]=t.mat4[6],this.mat3[6]=t.mat4[8],this.mat3[7]=t.mat4[9],this.mat3[8]=t.mat4[10]);var e=this.invert3x3();if(e)e.transpose3x3(this.mat3);else for(var r=0;r<9;r++)this.mat3[r]=0;return this},n.default.Matrix.prototype.determinant=function(){var t=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],e=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],r=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],i=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],n=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],a=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],o=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],s=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],l=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],u=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],h=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return t*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-e*h+r*u+i*l-n*s+a*o},n.default.Matrix.prototype.mult=function(t){var e;if(t===this||t===this.mat4)e=this.copy().mat4;else if(t instanceof n.default.Matrix)e=t.mat4;else if(o(t))e=t;else{if(16!==arguments.length)return;e=arguments}var r=this.mat4[0],i=this.mat4[1],a=this.mat4[2],s=this.mat4[3];return this.mat4[0]=r*e[0]+i*e[4]+a*e[8]+s*e[12],this.mat4[1]=r*e[1]+i*e[5]+a*e[9]+s*e[13],this.mat4[2]=r*e[2]+i*e[6]+a*e[10]+s*e[14],this.mat4[3]=r*e[3]+i*e[7]+a*e[11]+s*e[15],r=this.mat4[4],i=this.mat4[5],a=this.mat4[6],s=this.mat4[7],this.mat4[4]=r*e[0]+i*e[4]+a*e[8]+s*e[12],this.mat4[5]=r*e[1]+i*e[5]+a*e[9]+s*e[13],this.mat4[6]=r*e[2]+i*e[6]+a*e[10]+s*e[14],this.mat4[7]=r*e[3]+i*e[7]+a*e[11]+s*e[15],r=this.mat4[8],i=this.mat4[9],a=this.mat4[10],s=this.mat4[11],this.mat4[8]=r*e[0]+i*e[4]+a*e[8]+s*e[12],this.mat4[9]=r*e[1]+i*e[5]+a*e[9]+s*e[13],this.mat4[10]=r*e[2]+i*e[6]+a*e[10]+s*e[14],this.mat4[11]=r*e[3]+i*e[7]+a*e[11]+s*e[15],r=this.mat4[12],i=this.mat4[13],a=this.mat4[14],s=this.mat4[15],this.mat4[12]=r*e[0]+i*e[4]+a*e[8]+s*e[12],this.mat4[13]=r*e[1]+i*e[5]+a*e[9]+s*e[13],this.mat4[14]=r*e[2]+i*e[6]+a*e[10]+s*e[14],this.mat4[15]=r*e[3]+i*e[7]+a*e[11]+s*e[15],this},n.default.Matrix.prototype.apply=function(t){var e;if(t===this||t===this.mat4)e=this.copy().mat4;else if(t instanceof n.default.Matrix)e=t.mat4;else if(o(t))e=t;else{if(16!==arguments.length)return;e=arguments}var r=this.mat4,i=r[0],a=r[4],s=r[8],l=r[12];r[0]=e[0]*i+e[1]*a+e[2]*s+e[3]*l,r[4]=e[4]*i+e[5]*a+e[6]*s+e[7]*l,r[8]=e[8]*i+e[9]*a+e[10]*s+e[11]*l,r[12]=e[12]*i+e[13]*a+e[14]*s+e[15]*l;var u=r[1],h=r[5],c=r[9],d=r[13];r[1]=e[0]*u+e[1]*h+e[2]*c+e[3]*d,r[5]=e[4]*u+e[5]*h+e[6]*c+e[7]*d,r[9]=e[8]*u+e[9]*h+e[10]*c+e[11]*d,r[13]=e[12]*u+e[13]*h+e[14]*c+e[15]*d;var f=r[2],p=r[6],m=r[10],g=r[14];r[2]=e[0]*f+e[1]*p+e[2]*m+e[3]*g,r[6]=e[4]*f+e[5]*p+e[6]*m+e[7]*g,r[10]=e[8]*f+e[9]*p+e[10]*m+e[11]*g,r[14]=e[12]*f+e[13]*p+e[14]*m+e[15]*g;var v=r[3],_=r[7],y=r[11],b=r[15];return r[3]=e[0]*v+e[1]*_+e[2]*y+e[3]*b,r[7]=e[4]*v+e[5]*_+e[6]*y+e[7]*b,r[11]=e[8]*v+e[9]*_+e[10]*y+e[11]*b,r[15]=e[12]*v+e[13]*_+e[14]*y+e[15]*b,this},n.default.Matrix.prototype.scale=function(t,e,r){return t instanceof n.default.Vector?(e=t.y,r=t.z,t=t.x):t instanceof Array&&(e=t[1],r=t[2],t=t[0]),this.mat4[0]*=t,this.mat4[1]*=t,this.mat4[2]*=t,this.mat4[3]*=t,this.mat4[4]*=e,this.mat4[5]*=e,this.mat4[6]*=e,this.mat4[7]*=e,this.mat4[8]*=r,this.mat4[9]*=r,this.mat4[10]*=r,this.mat4[11]*=r,this},n.default.Matrix.prototype.rotate=function(t,e,r,i){e instanceof n.default.Vector?(r=e.y,i=e.z,e=e.x):e instanceof Array&&(r=e[1],i=e[2],e=e[0]);var a=Math.sqrt(e*e+r*r+i*i);e*=1/a,r*=1/a,i*=1/a;var o=this.mat4[0],s=this.mat4[1],l=this.mat4[2],u=this.mat4[3],h=this.mat4[4],c=this.mat4[5],d=this.mat4[6],f=this.mat4[7],p=this.mat4[8],m=this.mat4[9],g=this.mat4[10],v=this.mat4[11],_=Math.sin(t),y=Math.cos(t),b=1-y,x=e*e*b+y,w=r*e*b+i*_,S=i*e*b-r*_,C=e*r*b-i*_,M=r*r*b+y,P=i*r*b+e*_,E=e*i*b+r*_,A=r*i*b-e*_,L=i*i*b+y;return this.mat4[0]=o*x+h*w+p*S,this.mat4[1]=s*x+c*w+m*S,this.mat4[2]=l*x+d*w+g*S,this.mat4[3]=u*x+f*w+v*S,this.mat4[4]=o*C+h*M+p*P,this.mat4[5]=s*C+c*M+m*P,this.mat4[6]=l*C+d*M+g*P,this.mat4[7]=u*C+f*M+v*P,this.mat4[8]=o*E+h*A+p*L,this.mat4[9]=s*E+c*A+m*L,this.mat4[10]=l*E+d*A+g*L,this.mat4[11]=u*E+f*A+v*L,this},n.default.Matrix.prototype.translate=function(t){var e=t[0],r=t[1],i=t[2]||0;this.mat4[12]+=this.mat4[0]*e+this.mat4[4]*r+this.mat4[8]*i,this.mat4[13]+=this.mat4[1]*e+this.mat4[5]*r+this.mat4[9]*i,this.mat4[14]+=this.mat4[2]*e+this.mat4[6]*r+this.mat4[10]*i,this.mat4[15]+=this.mat4[3]*e+this.mat4[7]*r+this.mat4[11]*i},n.default.Matrix.prototype.rotateX=function(t){this.rotate(t,1,0,0)},n.default.Matrix.prototype.rotateY=function(t){this.rotate(t,0,1,0)},n.default.Matrix.prototype.rotateZ=function(t){this.rotate(t,0,0,1)},n.default.Matrix.prototype.perspective=function(t,e,r,i){var n=1/Math.tan(t/2),a=1/(r-i);return this.mat4[0]=n/e,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=n,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(i+r)*a,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*i*r*a,this.mat4[15]=0,this},n.default.Matrix.prototype.ortho=function(t,e,r,i,n,a){var o=1/(t-e),s=1/(r-i),l=1/(n-a);return this.mat4[0]=-2*o,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*s,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*l,this.mat4[11]=0,this.mat4[12]=(t+e)*o,this.mat4[13]=(i+r)*s,this.mat4[14]=(a+n)*l,this.mat4[15]=1,this};var s=n.default.Matrix;r.default=s},{"../core/main":15}],42:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(t("../core/main")),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}(t("../core/constants")),a=o(t("libtess"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("./p5.Shader"),t("./p5.Camera"),t("../core/p5.Renderer"),t("./p5.Matrix"),t("path");var l="precision mediump float;\n\nuniform mat4 uViewMatrix;\n\nuniform bool uUseLighting;\n\nuniform int uAmbientLightCount;\nuniform vec3 uAmbientColor[8];\n\nuniform int uDirectionalLightCount;\nuniform vec3 uLightingDirection[8];\nuniform vec3 uDirectionalDiffuseColors[8];\nuniform vec3 uDirectionalSpecularColors[8];\n\nuniform int uPointLightCount;\nuniform vec3 uPointLightLocation[8];\nuniform vec3 uPointLightDiffuseColors[8];\t\nuniform vec3 uPointLightSpecularColors[8];\n\nuniform int uSpotLightCount;\nuniform float uSpotLightAngle[8];\nuniform float uSpotLightConc[8];\nuniform vec3 uSpotLightDiffuseColors[8];\nuniform vec3 uSpotLightSpecularColors[8];\nuniform vec3 uSpotLightLocation[8];\nuniform vec3 uSpotLightDirection[8];\n\nuniform bool uSpecular;\nuniform float uShininess;\n\nuniform float uConstantAttenuation;\nuniform float uLinearAttenuation;\nuniform float uQuadraticAttenuation;\n\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n  float specular;\n  float diffuse;\n};\n\nfloat _phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = reflect(lightDirection, surfaceNormal);\n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {\n\n  vec3 lightDir = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  if (uSpecular)\n    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);\n  lr.diffuse = _lambertDiffuse(lightDir, normal);\n  return lr;\n}\n\nvoid totalLight(\n  vec3 modelPosition,\n  vec3 normal,\n  out vec3 totalDiffuse,\n  out vec3 totalSpecular\n) {\n\n  totalSpecular = vec3(0.0);\n\n  if (!uUseLighting) {\n    totalDiffuse = vec3(1.0);\n    return;\n  }\n\n  totalDiffuse = vec3(0.0);\n\n  vec3 viewDirection = normalize(-modelPosition);\n\n  for (int j = 0; j < 8; j++) {\n    if (j < uDirectionalLightCount) {\n      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;\n      vec3 lightColor = uDirectionalDiffuseColors[j];\n      vec3 specularColor = uDirectionalSpecularColors[j];\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if (j < uPointLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      //calculate attenuation\n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];\n      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];\n\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if(j < uSpotLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n\n      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;\n      float spotDot = dot(normalize(lightVector), normalize(lightDirection));\n      float spotFalloff;\n      if(spotDot < uSpotLightAngle[j]) {\n        spotFalloff = 0.0;\n      }\n      else {\n        spotFalloff = pow(spotDot, uSpotLightConc[j]);\n      }\n      lightFalloff *= spotFalloff;\n\n      vec3 lightColor = uSpotLightDiffuseColors[j];\n      vec3 specularColor = uSpotLightSpecularColors[j];\n     \n      LightResult result = _light(viewDirection, normal, lightVector);\n      \n      totalDiffuse += result.diffuse * lightColor * lightFalloff;\n      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;\n    }\n  }\n\n  totalDiffuse *= diffuseFactor;\n  totalSpecular *= specularFactor;\n}\n",u={immediateVert:"attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nvarying vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",vertexColorVert:"attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n}\n",vertexColorFrag:"precision mediump float;\nvarying vec4 vColor;\nvoid main(void) {\n  gl_FragColor = vColor;\n}",normalVert:"attribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvarying vec3 vVertexNormal;\nvarying highp vec2 vVertTexCoord;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n}\n",normalFrag:"precision mediump float;\nvarying vec3 vVertexNormal;\nvoid main(void) {\n  gl_FragColor = vec4(vVertexNormal, 1.0);\n}",basicFrag:"precision mediump float;\nuniform vec4 uMaterialColor;\nvoid main(void) {\n  gl_FragColor = uMaterialColor;\n}",lightVert:l+"// include lighting.glgl\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvarying highp vec2 vVertTexCoord;\nvarying vec3 vDiffuseColor;\nvarying vec3 vSpecularColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;\n\n  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);\n  vVertTexCoord = aTexCoord;\n\n  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);\n\n  for (int i = 0; i < 8; i++) {\n    if (i < uAmbientLightCount) {\n      vDiffuseColor += uAmbientColor[i];\n    }\n  }\n}\n",lightTextureFrag:"precision mediump float;\n\nuniform vec4 uMaterialColor;\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nvarying highp vec2 vVertTexCoord;\nvarying vec3 vDiffuseColor;\nvarying vec3 vSpecularColor;\n\nvoid main(void) {\n  if(uEmissive && !isTexture) {\n    gl_FragColor = uMaterialColor;\n  }\n  else {\n    gl_FragColor = isTexture ? texture2D(uSampler, vVertTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;\n    gl_FragColor.rgb = gl_FragColor.rgb * vDiffuseColor + vSpecularColor;\n  }\n}",phongVert:"precision mediump float;\nprecision mediump int;\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform vec3 uAmbientColor[8];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n\n  // Pass varyings to fragment shader\n  vViewPosition = viewModelPosition.xyz;\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n\n  vNormal = uNormalMatrix * aNormal;\n  vTexCoord = aTexCoord;\n\n  // TODO: this should be a uniform\n  vAmbientColor = vec3(0.0);\n  for (int i = 0; i < 8; i++) {\n    if (i < uAmbientLightCount) {\n      vAmbientColor += uAmbientColor[i];\n    }\n  }\n}\n",phongFrag:l+"// include lighting.glsl\nprecision highp float;\n\nuniform vec4 uMaterialColor;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\n\nvoid main(void) {\n\n  vec3 diffuse;\n  vec3 specular;\n  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);\n\n  if(uEmissive && !isTexture) {\n    gl_FragColor = uMaterialColor;\n  }\n  else {\n    gl_FragColor = isTexture ? texture2D(uSampler, vTexCoord) : uMaterialColor;\n    gl_FragColor.rgb = gl_FragColor.rgb * (diffuse + vAmbientColor) + specular;\n  }\n}",fontVert:"precision mediump float;\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nvarying vec2 vTexCoord;\nvarying float w;\n\nvoid main() {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;\n\n  // move to the corner of the glyph\n  positionVec4.xy += uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x += uGlyphOffset;\n  \n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord = aTexCoord;\n  w = gl_Position.w;\n}\n",fontFrag:"#extension GL_OES_standard_derivatives : enable\nprecision mediump float;\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision highp int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nvarying vec2 vTexCoord;\n\n// some helper functions\nint round(float v) { return ifloor(v + 0.5); }\nivec2 round(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv = round(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage = vec2(0.0);\nvec2 weight = vec2(0.5);\nconst float minDistance = 1.0/8192.0;\nconst float hardness = 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N = INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width = size.x;\n  int y = ifloor(pos / width);\n  int x = pos - y * width;  // pos % width\n\n  return texture2D(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a = p0 - p1 * 2.0 + p2;\n  vec2 b = p0 - p1;\n  vec2 c = p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 = ((b - surd) / a).yx;\n  vec2 t2 = ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) < 0.001)\n    t1.x = t2.x = c.y / (2.0 * b.y);\n\n  if (abs(a.x) < 0.001)\n    t1.y = t2.y = c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 = p0.y > vTexCoord.y;\n  bool y1 = p1.y > vTexCoord.y;\n  bool y2 = p2.y > vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x += saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x = min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -= saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x = min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 = p0.x > vTexCoord.x;\n  bool x1 = p1.x > vTexCoord.x;\n  bool x2 = p2.x > vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -= saturate(C1.y + 0.5);\n    weight.y = min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y += saturate(C2.y + 0.5);\n    weight.y = min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale = hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex = gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex = getInt16(rowInfo.xy);\n    int rowStrokeCount = getInt16(rowInfo.zw);\n\n    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {\n      if (iRowStroke >= rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos = getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex = gridCoord.x + uGridOffset.x;\n    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex = getInt16(colInfo.xy);\n    int colStrokeCount = getInt16(colInfo.zw);\n    \n    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {\n      if (iColStroke >= colStrokeCount)\n        break;\n\n      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos = getInt16(strokeIndices.xy);\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight = saturate(1.0 - weight * 2.0);\n  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias = abs(dot(coverage, weight) / distance);\n  float cover = min(abs(coverage.x), abs(coverage.y));\n  gl_FragColor = uMaterialColor;\n  gl_FragColor.a *= saturate(max(antialias, cover));\n}",lineVert:"/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform vec4 uViewport;\nuniform int uPerspective;\n\nattribute vec4 aPosition;\nattribute vec4 aDirection;\n  \nvoid main() {\n  // using a scale <1 moves the lines towards the camera\n  // in order to prevent popping effects due to half of\n  // the line disappearing behind the geometry faces.\n  vec3 scale = vec3(0.9995);\n\n  vec4 posp = uModelViewMatrix * aPosition;\n  vec4 posq = uModelViewMatrix * (aPosition + vec4(aDirection.xyz, 0));\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // Discussed here:\n  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  \n  posp.xyz = posp.xyz * scale;\n  posq.xyz = posq.xyz * scale;\n\n  vec4 p = uProjectionMatrix * posp;\n  vec4 q = uProjectionMatrix * posq;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangent = normalize((q.xy*p.w - p.xy*q.w) * uViewport.zw);\n\n  // flip tangent to normal (it's already normalized)\n  vec2 normal = vec2(-tangent.y, tangent.x);\n\n  float thickness = aDirection.w * uStrokeWeight;\n  vec2 offset = normal * thickness / 2.0;\n\n  vec2 curPerspScale;\n\n  if(uPerspective == 1) {\n    // Perspective ---\n    // convert from world to clip by multiplying with projection scaling factor\n    // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n    // invert Y, projections in Processing invert Y\n    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;\n  } else {\n    // No Perspective ---\n    // multiply by W (to cancel out division by W later in the pipeline) and\n    // convert from screen to clip (derived from clip to screen above)\n    curPerspScale = p.w / (0.5 * uViewport.zw);\n  }\n\n  gl_Position.xy = p.xy + offset.xy * curPerspScale;\n  gl_Position.zw = p.zw;\n}\n",lineFrag:"precision mediump float;\nprecision mediump int;\n\nuniform vec4 uMaterialColor;\n\nvoid main() {\n  gl_FragColor = uMaterialColor;\n}",pointVert:"attribute vec3 aPosition;\nuniform float uPointSize;\nvarying float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvoid main() {\n\tvec4 positionVec4 =  vec4(aPosition, 1.0);\n\tgl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\tgl_PointSize = uPointSize;\n\tvStrokeWeight = uPointSize;\n}",pointFrag:"precision mediump float;\nprecision mediump int;\nuniform vec4 uMaterialColor;\nvarying float vStrokeWeight;\n\nvoid main(){\n\tfloat mask = 0.0;\n\n\t// make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n    // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n\tmask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n\t// if strokeWeight is 1 or less lets just draw a square\n\t// this prevents weird artifacting from carving circles when our points are really small\n\t// if strokeWeight is larger than 1, we just use it as is\n\n\tmask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n\t// throw away the borders of the mask\n    // otherwise we get weird alpha blending issues\n\n\tif(mask > 0.98){\n      discard;\n  \t}\n\n  \tgl_FragColor = vec4(uMaterialColor.rgb * (1.0 - mask), uMaterialColor.a) ;\n}"};i.default.RendererGL=function(t,e,r,a){return i.default.Renderer.call(this,t,e,r),this._setAttributeDefaults(e),this._initContext(),this.isP3D=!0,this.GL=this.drawingContext,this._isErasing=!1,this._enableLighting=!1,this.ambientLightColors=[],this.specularColors=[1,1,1],this.directionalLightDirections=[],this.directionalLightDiffuseColors=[],this.directionalLightSpecularColors=[],this.pointLightPositions=[],this.pointLightDiffuseColors=[],this.pointLightSpecularColors=[],this.spotLightPositions=[],this.spotLightDirections=[],this.spotLightDiffuseColors=[],this.spotLightSpecularColors=[],this.spotLightAngle=[],this.spotLightConc=[],this.drawMode=n.FILL,this.curFillColor=this._cachedFillStyle=[1,1,1,1],this.curStrokeColor=this._cachedStrokeStyle=[0,0,0,1],this.curBlendMode=this._cachedBlendMode=n.BLEND,this.blendExt=this.GL.getExtension("EXT_blend_minmax"),this._useSpecularMaterial=!1,this._useEmissiveMaterial=!1,this._useNormalMaterial=!1,this._useShininess=1,this._tint=[255,255,255,255],this.constantAttenuation=1,this.linearAttenuation=0,this.quadraticAttenuation=0,this.uMVMatrix=new i.default.Matrix,this.uPMatrix=new i.default.Matrix,this.uNMatrix=new i.default.Matrix("mat3"),this._curCamera=new i.default.Camera(this),this._curCamera._computeCameraDefaultSettings(),this._curCamera._setDefaultCamera(),this.gHash={},this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this._defaultPointShader=void 0,this._pointVertexBuffer=this.GL.createBuffer(),this.userFillShader=void 0,this.userStrokeShader=void 0,this.userPointShader=void 0,this.isImmediateDrawing=!1,this.immediateMode={},this.pointSize=5,this.curStrokeWeight=1,this.textures=[],this.textureMode=n.IMAGE,this.textureWrapX=n.CLAMP,this.textureWrapY=n.CLAMP,this._tex=null,this._curveTightness=6,this._lookUpTableBezier=[],this._lookUpTableQuadratic=[],this._lutBezierDetail=0,this._lutQuadraticDetail=0,this._tessy=this._initTessy(),this.fontInfos={},this},i.default.RendererGL.prototype=Object.create(i.default.Renderer.prototype),i.default.RendererGL.prototype._setAttributeDefaults=function(t){var e={alpha:!0,depth:!0,stencil:!0,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!0,perPixelLighting:!1};null===t._glAttributes?t._glAttributes=e:t._glAttributes=Object.assign(e,t._glAttributes)},i.default.RendererGL.prototype._initContext=function(){try{if(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes),null===this.drawingContext)throw new Error("Error creating webgl context");var t=this.drawingContext;t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}catch(t){throw t}},i.default.RendererGL.prototype._resetContext=function(t,e){var r=this.width,n=this.height,a=this.canvas.id,o=this._pInst instanceof i.default.Graphics;if(o){var s=this._pInst;s.canvas.parentNode.removeChild(s.canvas),s.canvas=document.createElement("canvas"),(s._pInst._userNode||document.body).appendChild(s.canvas),i.default.Element.call(s,s.canvas,s._pInst),s.width=r,s.height=n}else{var l=this.canvas;l&&l.parentNode.removeChild(l),(l=document.createElement("canvas")).id=a,this._pInst._userNode?this._pInst._userNode.appendChild(l):document.body.appendChild(l),this._pInst.canvas=l}var u=new i.default.RendererGL(this._pInst.canvas,this._pInst,!o);this._pInst._setProperty("_renderer",u),u.resize(r,n),u._applyDefaults(),o||this._pInst._elements.push(u),"function"==typeof e&&setTimeout((function(){e.apply(window._renderer,t)}),0)},i.default.prototype.setAttributes=function(t,e){if(void 0!==this._glAttributes){var r=!0;if(void 0!==e?(null===this._glAttributes&&(this._glAttributes={}),this._glAttributes[t]!==e&&(this._glAttributes[t]=e,r=!1)):t instanceof Object&&this._glAttributes!==t&&(this._glAttributes=t,r=!1),this._renderer.isP3D&&!r){if(!this._setupDone)for(var i in this._renderer.gHash)if(this._renderer.gHash.hasOwnProperty(i))return void console.error("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}else console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.")},i.default.RendererGL.prototype._update=function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)},i.default.RendererGL.prototype.background=function(){var t,e=(t=this._pInst).color.apply(t,arguments),r=e.levels[0]/255,i=e.levels[1]/255,n=e.levels[2]/255,a=e.levels[3]/255;this.GL.clearColor(r,i,n,a),this.GL.depthMask(!0),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT),this._pixelsState._pixelsDirty=!0},i.default.RendererGL.prototype.fill=function(t,e,r,a){var o=i.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=o._array,this.drawMode=n.FILL,this._useNormalMaterial=!1,this._tex=null},i.default.RendererGL.prototype.stroke=function(t,e,r,n){n=255;var a=i.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=a._array},i.default.RendererGL.prototype.strokeCap=function(t){console.error("Sorry, strokeCap() is not yet implemented in WEBGL mode")},i.default.RendererGL.prototype.blendMode=function(t){t===n.DARKEST||t===n.LIGHTEST||t===n.ADD||t===n.BLEND||t===n.SUBTRACT||t===n.SCREEN||t===n.EXCLUSION||t===n.REPLACE||t===n.MULTIPLY||t===n.REMOVE?this.curBlendMode=t:t!==n.BURN&&t!==n.OVERLAY&&t!==n.HARD_LIGHT&&t!==n.SOFT_LIGHT&&t!==n.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")},i.default.RendererGL.prototype.erase=function(t,e){this._isErasing||(this._cachedBlendMode=this.curBlendMode,this.blendMode(n.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,t/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,e/255],this._isErasing=!0)},i.default.RendererGL.prototype.noErase=function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode),this._isErasing=!1)},i.default.RendererGL.prototype.strokeWeight=function(t){this.curStrokeWeight!==t&&(this.pointSize=t,this.curStrokeWeight=t)},i.default.RendererGL.prototype._getPixel=function(t,e){var r,i,n=this._pixelsState;return i=n._pixelsDirty?(r=new Uint8Array(4),this.drawingContext.readPixels(t,e,1,1,this.drawingContext.RGBA,this.drawingContext.UNSIGNED_BYTE,r),0):(r=n.pixels,4*(Math.floor(t)+Math.floor(e)*this.canvas.width)),[r[i+0],r[i+1],r[i+2],r[i+3]]},i.default.RendererGL.prototype.loadPixels=function(){var t=this._pixelsState;if(t._pixelsDirty)if(!(t._pixelsDirty=!1)===this._pInst._glAttributes.preserveDrawingBuffer){var e=t.pixels,r=this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4;e instanceof Uint8Array&&e.length===r||(e=new Uint8Array(r),this._pixelsState._setProperty("pixels",e));var i=this._pInst._pixelDensity;this.GL.readPixels(0,0,this.width*i,this.height*i,this.GL.RGBA,this.GL.UNSIGNED_BYTE,e)}else console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true.")},i.default.RendererGL.prototype.geometryInHash=function(t){return void 0!==this.gHash[t]},i.default.RendererGL.prototype.resize=function(t,e){i.default.Renderer.prototype.resize.call(this,t,e),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize();var r=this._pixelsState;r._pixelsDirty=!0,void 0!==r.pixels&&r._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4))},i.default.RendererGL.prototype.clear=function(){var t=(arguments.length<=0?void 0:arguments[0])||0,e=(arguments.length<=1?void 0:arguments[1])||0,r=(arguments.length<=2?void 0:arguments[2])||0,i=(arguments.length<=3?void 0:arguments[3])||0;this.GL.clearColor(t,e,r,i),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT),this._pixelsState._pixelsDirty=!0},i.default.RendererGL.prototype.applyMatrix=function(t,e,r,n,a,o){16===arguments.length?i.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([t,e,0,0,r,n,0,0,0,0,1,0,a,o,0,1])},i.default.RendererGL.prototype.translate=function(t,e,r){return t instanceof i.default.Vector&&(r=t.z,e=t.y,t=t.x),this.uMVMatrix.translate([t,e,r]),this},i.default.RendererGL.prototype.scale=function(t,e,r){return this.uMVMatrix.scale(t,e,r),this},i.default.RendererGL.prototype.rotate=function(t,e){return void 0===e?this.rotateZ(t):(i.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)},i.default.RendererGL.prototype.rotateX=function(t){return this.rotate(t,1,0,0),this},i.default.RendererGL.prototype.rotateY=function(t){return this.rotate(t,0,1,0),this},i.default.RendererGL.prototype.rotateZ=function(t){return this.rotate(t,0,0,1),this},i.default.RendererGL.prototype.push=function(){var t=i.default.Renderer.prototype.push.apply(this),e=t.properties;return e.uMVMatrix=this.uMVMatrix.copy(),e.uPMatrix=this.uPMatrix.copy(),e._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),e.ambientLightColors=this.ambientLightColors.slice(),e.specularColors=this.specularColors.slice(),e.directionalLightDirections=this.directionalLightDirections.slice(),e.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),e.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),e.pointLightPositions=this.pointLightPositions.slice(),e.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),e.pointLightSpecularColors=this.pointLightSpecularColors.slice(),e.spotLightPositions=this.spotLightPositions.slice(),e.spotLightDirections=this.spotLightDirections.slice(),e.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),e.spotLightSpecularColors=this.spotLightSpecularColors.slice(),e.spotLightAngle=this.spotLightAngle.slice(),e.spotLightConc=this.spotLightConc.slice(),e.userFillShader=this.userFillShader,e.userStrokeShader=this.userStrokeShader,e.userPointShader=this.userPointShader,e.pointSize=this.pointSize,e.curStrokeWeight=this.curStrokeWeight,e.curStrokeColor=this.curStrokeColor,e.curFillColor=this.curFillColor,e._useSpecularMaterial=this._useSpecularMaterial,e._useEmissiveMaterial=this._useEmissiveMaterial,e._useShininess=this._useShininess,e.constantAttenuation=this.constantAttenuation,e.linearAttenuation=this.linearAttenuation,e.quadraticAttenuation=this.quadraticAttenuation,e._enableLighting=this._enableLighting,e._useNormalMaterial=this._useNormalMaterial,e._tex=this._tex,e.drawMode=this.drawMode,t},i.default.RendererGL.prototype.resetMatrix=function(){return this.uMVMatrix=i.default.Matrix.identity(this._pInst),this},i.default.RendererGL.prototype._getImmediateStrokeShader=function(){var t=this.userStrokeShader;return t&&t.isStrokeShader()?t:this._getLineShader()},i.default.RendererGL.prototype._getRetainedStrokeShader=i.default.RendererGL.prototype._getImmediateStrokeShader,i.default.RendererGL.prototype._getImmediateFillShader=function(){if(this._useNormalMaterial)return console.log("Sorry, normalMaterial() does not currently work with custom WebGL geometry created with beginShape(). Falling back to standard fill material."),this._getImmediateModeShader();var t=this.userFillShader;if(this._enableLighting){if(!t||!t.isLightShader())return this._getLightShader()}else if(this._tex){if(!t||!t.isTextureShader())return this._getLightShader()}else if(!t)return this._getImmediateModeShader();return t},i.default.RendererGL.prototype._getRetainedFillShader=function(){if(this._useNormalMaterial)return this._getNormalShader();var t=this.userFillShader;if(this._enableLighting){if(!t||!t.isLightShader())return this._getLightShader()}else if(this._tex){if(!t||!t.isTextureShader())return this._getLightShader()}else if(!t)return this._getColorShader();return t},i.default.RendererGL.prototype._getImmediatePointShader=function(){var t=this.userPointShader;return t&&t.isPointShader()?t:this._getPointShader()},i.default.RendererGL.prototype._getRetainedLineShader=i.default.RendererGL.prototype._getImmediateLineShader,i.default.RendererGL.prototype._getLightShader=function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new i.default.Shader(this,u.phongVert,u.phongFrag):this._defaultLightShader=new i.default.Shader(this,u.lightVert,u.lightTextureFrag)),this._defaultLightShader},i.default.RendererGL.prototype._getImmediateModeShader=function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new i.default.Shader(this,u.immediateVert,u.vertexColorFrag)),this._defaultImmediateModeShader},i.default.RendererGL.prototype._getNormalShader=function(){return this._defaultNormalShader||(this._defaultNormalShader=new i.default.Shader(this,u.normalVert,u.normalFrag)),this._defaultNormalShader},i.default.RendererGL.prototype._getColorShader=function(){return this._defaultColorShader||(this._defaultColorShader=new i.default.Shader(this,u.normalVert,u.basicFrag)),this._defaultColorShader},i.default.RendererGL.prototype._getPointShader=function(){return this._defaultPointShader||(this._defaultPointShader=new i.default.Shader(this,u.pointVert,u.pointFrag)),this._defaultPointShader},i.default.RendererGL.prototype._getLineShader=function(){return this._defaultLineShader||(this._defaultLineShader=new i.default.Shader(this,u.lineVert,u.lineFrag)),this._defaultLineShader},i.default.RendererGL.prototype._getFontShader=function(){return this._defaultFontShader||(this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new i.default.Shader(this,u.fontVert,u.fontFrag)),this._defaultFontShader},i.default.RendererGL.prototype._getEmptyTexture=function(){if(!this._emptyTexture){var t=new i.default.Image(1,1);t.set(0,0,255),this._emptyTexture=new i.default.Texture(this,t)}return this._emptyTexture},i.default.RendererGL.prototype.getTexture=function(t){var e=this.textures,r=!0,n=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;if(l.src===t)return l}}catch(t){n=!0,a=t}finally{try{r||null==s.return||s.return()}finally{if(n)throw a}}var u=new i.default.Texture(this,t);return e.push(u),u},i.default.RendererGL.prototype._setStrokeUniforms=function(t){t.bindShader(),t.setUniform("uMaterialColor",this.curStrokeColor),t.setUniform("uStrokeWeight",this.curStrokeWeight)},i.default.RendererGL.prototype._setFillUniforms=function(t){t.bindShader(),t.setUniform("uMaterialColor",this.curFillColor),t.setUniform("isTexture",!!this._tex),this._tex&&t.setUniform("uSampler",this._tex),t.setUniform("uTint",this._tint),t.setUniform("uSpecular",this._useSpecularMaterial),t.setUniform("uEmissive",this._useEmissiveMaterial),t.setUniform("uShininess",this._useShininess),t.setUniform("uUseLighting",this._enableLighting);var e=this.pointLightDiffuseColors.length/3;t.setUniform("uPointLightCount",e),t.setUniform("uPointLightLocation",this.pointLightPositions),t.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),t.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors);var r=this.directionalLightDiffuseColors.length/3;t.setUniform("uDirectionalLightCount",r),t.setUniform("uLightingDirection",this.directionalLightDirections),t.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),t.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors);var i=this.ambientLightColors.length/3;t.setUniform("uAmbientLightCount",i),t.setUniform("uAmbientColor",this.ambientLightColors);var n=this.spotLightDiffuseColors.length/3;t.setUniform("uSpotLightCount",n),t.setUniform("uSpotLightAngle",this.spotLightAngle),t.setUniform("uSpotLightConc",this.spotLightConc),t.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),t.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),t.setUniform("uSpotLightLocation",this.spotLightPositions),t.setUniform("uSpotLightDirection",this.spotLightDirections),t.setUniform("uConstantAttenuation",this.constantAttenuation),t.setUniform("uLinearAttenuation",this.linearAttenuation),t.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),t.bindTextures()},i.default.RendererGL.prototype._setPointUniforms=function(t){t.bindShader(),t.setUniform("uMaterialColor",this.curStrokeColor),t.setUniform("uPointSize",this.pointSize)},i.default.RendererGL.prototype._bindBuffer=function(t,e,r,i,n){if(e||(e=this.GL.ARRAY_BUFFER),this.GL.bindBuffer(e,t),void 0!==r){var a=new(i||Float32Array)(r);this.GL.bufferData(e,a,n||this.GL.STATIC_DRAW)}},i.default.RendererGL.prototype._flatten=function(t){if(0===t.length)return[];if(2e4<t.length){var e,r=Object.prototype.toString,i=[],n=t.slice();for(e=n.pop();"[object Array]"===r.call(e)?n.push.apply(n,s(e)):i.push(e),n.length&&void 0!==(e=n.pop()););return i.reverse(),i}var a;return(a=[]).concat.apply(a,s(t))},i.default.RendererGL.prototype._vToNArray=function(t){var e=[],r=!0,i=!1,n=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;e.push(s.x,s.y,s.z)}}catch(t){i=!0,n=t}finally{try{r||null==o.return||o.return()}finally{if(i)throw n}}return e},i.default.prototype._assert3d=function(t){if(!this._renderer.isP3D)throw new Error("".concat(t,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},i.default.RendererGL.prototype._initTessy=function(){var t=new a.default.GluTesselator;return t.gluTessCallback(a.default.gluEnum.GLU_TESS_VERTEX_DATA,(function(t,e){e[e.length]=t[0],e[e.length]=t[1],e[e.length]=t[2]})),t.gluTessCallback(a.default.gluEnum.GLU_TESS_BEGIN,(function(t){t!==a.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(t))})),t.gluTessCallback(a.default.gluEnum.GLU_TESS_ERROR,(function(t){console.log("error callback"),console.log("error number: ".concat(t))})),t.gluTessCallback(a.default.gluEnum.GLU_TESS_COMBINE,(function(t,e,r){return[t[0],t[1],t[2]]})),t.gluTessCallback(a.default.gluEnum.GLU_TESS_EDGE_FLAG,(function(t){})),t},i.default.RendererGL.prototype._triangulate=function(t){this._tessy.gluTessNormal(0,0,1);var e=[];this._tessy.gluTessBeginPolygon(e);for(var r=0;r<t.length;r++){this._tessy.gluTessBeginContour();for(var i=t[r],n=0;n<i.length;n+=3){var a=[i[n],i[n+1],i[n+2]];this._tessy.gluTessVertex(a,a)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),e},i.default.RendererGL.prototype._bezierCoefficients=function(t){var e=t*t,r=1-t,i=r*r;return[i*r,3*i*t,3*r*e,e*t]},i.default.RendererGL.prototype._quadraticCoefficients=function(t){var e=1-t;return[e*e,2*e*t,t*t]},i.default.RendererGL.prototype._bezierToCatmull=function(t){return[t[1],t[1]+(t[2]-t[0])/this._curveTightness,t[2]-(t[3]-t[1])/this._curveTightness,t[2]]};var h=i.default.RendererGL;r.default=h},{"../core/constants":9,"../core/main":15,"../core/p5.Renderer":18,"./p5.Camera":40,"./p5.Matrix":41,"./p5.Shader":43,libtess:1,path:3}],43:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("../core/main"))&&i.__esModule?i:{default:i};n.default.Shader=function(t,e,r){this._renderer=t,this._vertSrc=e,this._fragSrc=r,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]},n.default.Shader.prototype.init=function(){if(0===this._glProgram){var t=this._renderer.GL;if(this._vertShader=t.createShader(t.VERTEX_SHADER),t.shaderSource(this._vertShader,this._vertSrc),t.compileShader(this._vertShader),!t.getShaderParameter(this._vertShader,t.COMPILE_STATUS))return console.error("Yikes! An error occurred compiling the vertex shader:".concat(t.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=t.createShader(t.FRAGMENT_SHADER),t.shaderSource(this._fragShader,this._fragSrc),t.compileShader(this._fragShader),!t.getShaderParameter(this._fragShader,t.COMPILE_STATUS))return console.error("Darn! An error occurred compiling the fragment shader:".concat(t.getShaderInfoLog(this._fragShader))),null;this._glProgram=t.createProgram(),t.attachShader(this._glProgram,this._vertShader),t.attachShader(this._glProgram,this._fragShader),t.linkProgram(this._glProgram),t.getProgramParameter(this._glProgram,t.LINK_STATUS)||console.error("Snap! Error linking shader program: ".concat(t.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this},n.default.Shader.prototype._loadAttributes=function(){if(!this._loadedAttributes){this.attributes={};for(var t=this._renderer.GL,e=t.getProgramParameter(this._glProgram,t.ACTIVE_ATTRIBUTES),r=0;r<e;++r){var i=t.getActiveAttrib(this._glProgram,r),n=i.name,a=t.getAttribLocation(this._glProgram,n),o={};o.name=n,o.location=a,o.index=r,o.type=i.type,o.size=i.size,this.attributes[n]=o}this._loadedAttributes=!0}},n.default.Shader.prototype._loadUniforms=function(){if(!this._loadedUniforms){for(var t=this._renderer.GL,e=t.getProgramParameter(this._glProgram,t.ACTIVE_UNIFORMS),r=0,i=0;i<e;++i){var n=t.getActiveUniform(this._glProgram,i),a={};a.location=t.getUniformLocation(this._glProgram,n.name),a.size=n.size;var o=n.name;1<n.size&&(o=o.substring(0,o.indexOf("[0]"))),a.name=o,a.type=n.type,a.type===t.SAMPLER_2D&&(a.samplerIndex=r,r++,this.samplers.push(a)),this.uniforms[o]=a}this._loadedUniforms=!0}},n.default.Shader.prototype.compile=function(){},n.default.Shader.prototype.bindShader=function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))},n.default.Shader.prototype.unbindShader=function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this},n.default.Shader.prototype.bindTextures=function(){var t=this._renderer.GL,e=!0,r=!1,i=void 0;try{for(var n,a=this.samplers[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var o=n.value,s=o.texture;void 0===s&&(s=this._renderer._getEmptyTexture()),t.activeTexture(t.TEXTURE0+o.samplerIndex),s.bindTexture(),s.update(),t.uniform1i(o.location,o.samplerIndex)}}catch(t){r=!0,i=t}finally{try{e||null==a.return||a.return()}finally{if(r)throw i}}},n.default.Shader.prototype.updateTextures=function(){var t=!0,e=!1,r=void 0;try{for(var i,n=this.samplers[Symbol.iterator]();!(t=(i=n.next()).done);t=!0){var a=i.value.texture;a&&a.update()}}catch(t){e=!0,r=t}finally{try{t||null==n.return||n.return()}finally{if(e)throw r}}},n.default.Shader.prototype.unbindTextures=function(){},n.default.Shader.prototype._setMatrixUniforms=function(){this.setUniform("uProjectionMatrix",this._renderer.uPMatrix.mat4),this.isStrokeShader()&&("default"===this._renderer._curCamera.cameraType?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uModelViewMatrix",this._renderer.uMVMatrix.mat4),this.setUniform("uViewMatrix",this._renderer._curCamera.cameraMatrix.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))},n.default.Shader.prototype.useProgram=function(){return this._renderer.GL.useProgram(this._glProgram),this},n.default.Shader.prototype.setUniform=function(t,e){var r=this.uniforms[t];if(r){var i=r.location,n=this._renderer.GL;switch(this.useProgram(),r.type){case n.BOOL:!0===e?n.uniform1i(i,1):n.uniform1i(i,0);break;case n.INT:1<r.size?e.length&&n.uniform1iv(i,e):n.uniform1i(i,e);break;case n.FLOAT:1<r.size?e.length&&n.uniform1fv(i,e):n.uniform1f(i,e);break;case n.FLOAT_MAT3:n.uniformMatrix3fv(i,!1,e);break;case n.FLOAT_MAT4:n.uniformMatrix4fv(i,!1,e);break;case n.FLOAT_VEC2:1<r.size?e.length&&n.uniform2fv(i,e):n.uniform2f(i,e[0],e[1]);break;case n.FLOAT_VEC3:1<r.size?e.length&&n.uniform3fv(i,e):n.uniform3f(i,e[0],e[1],e[2]);break;case n.FLOAT_VEC4:1<r.size?e.length&&n.uniform4fv(i,e):n.uniform4f(i,e[0],e[1],e[2],e[3]);break;case n.INT_VEC2:1<r.size?e.length&&n.uniform2iv(i,e):n.uniform2i(i,e[0],e[1]);break;case n.INT_VEC3:1<r.size?e.length&&n.uniform3iv(i,e):n.uniform3i(i,e[0],e[1],e[2]);break;case n.INT_VEC4:1<r.size?e.length&&n.uniform4iv(i,e):n.uniform4i(i,e[0],e[1],e[2],e[3]);break;case n.SAMPLER_2D:n.activeTexture(n.TEXTURE0+r.samplerIndex),r.texture=this._renderer.getTexture(e),n.uniform1i(r.location,r.samplerIndex)}return this}},n.default.Shader.prototype.isLightShader=function(){return void 0!==this.attributes.aNormal||void 0!==this.uniforms.uUseLighting||void 0!==this.uniforms.uAmbientLightCount||void 0!==this.uniforms.uDirectionalLightCount||void 0!==this.uniforms.uPointLightCount||void 0!==this.uniforms.uAmbientColor||void 0!==this.uniforms.uDirectionalDiffuseColors||void 0!==this.uniforms.uDirectionalSpecularColors||void 0!==this.uniforms.uPointLightLocation||void 0!==this.uniforms.uPointLightDiffuseColors||void 0!==this.uniforms.uPointLightSpecularColors||void 0!==this.uniforms.uLightingDirection||void 0!==this.uniforms.uSpecular},n.default.Shader.prototype.isTextureShader=function(){return 0<this.samplerIndex},n.default.Shader.prototype.isColorShader=function(){return void 0!==this.attributes.aVertexColor||void 0!==this.uniforms.uMaterialColor},n.default.Shader.prototype.isTexLightShader=function(){return this.isLightShader()&&this.isTextureShader()},n.default.Shader.prototype.isStrokeShader=function(){return void 0!==this.uniforms.uStrokeWeight},n.default.Shader.prototype.enableAttrib=function(t,e,r,i,n,a){if(t){var o=t.location;if(-1!==o){var s=this._renderer.GL;s.enableVertexAttribArray(o),s.vertexAttribPointer(o,e,r||s.FLOAT,i||!1,n||0,a||0)}}return this};var a=n.default.Shader;r.default=a},{"../core/main":15}]},{},[15,9,10,11,12,14,20,16,17,18,19,21,26,27,28,22,23,24,25,5,6,7,8,29,30,31,32,33,34,35,36,37,38,39,13])(39)},222:function(t,e,r){r(214)("Float32",4,(function(t){return function(e,r,i){return t(this,e,r,i)}}))},223:function(t,e,r){"use strict";var i=r(4),n=r(9),a=r(46),o=r(216),s=r(24),l=r(60),u=r(10),h=r(59),c=r(57),d=r(17),f=r(217),p=r(77).f,m=r(11).f,g=r(215),v=r(51),_="prototype",y="Wrong index!",b=i.ArrayBuffer,x=i.DataView,w=i.Math,S=i.RangeError,C=i.Infinity,M=b,P=w.abs,E=w.pow,A=w.floor,L=w.log,T=w.LN2,R=n?"_b":"buffer",I=n?"_l":"byteLength",D=n?"_o":"byteOffset";function k(t,e,r){var i,n,a,o=new Array(r),s=8*r-e-1,l=(1<<s)-1,u=l>>1,h=23===e?E(2,-24)-E(2,-77):0,c=0,d=t<0||0===t&&1/t<0?1:0;for((t=P(t))!=t||t===C?(n=t!=t?1:0,i=l):(i=A(L(t)/T),t*(a=E(2,-i))<1&&(i--,a*=2),(t+=i+u>=1?h/a:h*E(2,1-u))*a>=2&&(i++,a/=2),i+u>=l?(n=0,i=l):i+u>=1?(n=(t*a-1)*E(2,e),i+=u):(n=t*E(2,u-1)*E(2,e),i=0));e>=8;o[c++]=255&n,n/=256,e-=8);for(i=i<<e|n,s+=e;s>0;o[c++]=255&i,i/=256,s-=8);return o[--c]|=128*d,o}function O(t,e,r){var i,n=8*r-e-1,a=(1<<n)-1,o=a>>1,s=n-7,l=r-1,u=t[l--],h=127&u;for(u>>=7;s>0;h=256*h+t[l],l--,s-=8);for(i=h&(1<<-s)-1,h>>=-s,s+=e;s>0;i=256*i+t[l],l--,s-=8);if(0===h)h=1-o;else{if(h===a)return i?NaN:u?-C:C;i+=E(2,e),h-=o}return(u?-1:1)*i*E(2,h-e)}function F(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function G(t){return[255&t]}function N(t){return[255&t,t>>8&255]}function j(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function V(t){return k(t,52,8)}function B(t){return k(t,23,4)}function U(t,e,r){m(t[_],e,{get:function(){return this[r]}})}function z(t,e,r,i){var n=f(+r);if(n+e>t[I])throw S(y);var a=t[R]._b,o=n+t[D],s=a.slice(o,o+e);return i?s:s.reverse()}function H(t,e,r,i,n,a){var o=f(+r);if(o+e>t[I])throw S(y);for(var s=t[R]._b,l=o+t[D],u=i(+n),h=0;h<e;h++)s[l+h]=u[a?h:e-h-1]}if(o.ABV){if(!u((function(){b(1)}))||!u((function(){new b(-1)}))||u((function(){return new b,new b(1.5),new b(NaN),"ArrayBuffer"!=b.name}))){for(var W,q=(b=function(t){return h(this,b),new M(f(t))})[_]=M[_],X=p(M),Y=0;X.length>Y;)(W=X[Y++])in b||s(b,W,M[W]);a||(q.constructor=b)}var Z=new x(new b(2)),$=x[_].setInt8;Z.setInt8(0,2147483648),Z.setInt8(1,2147483649),!Z.getInt8(0)&&Z.getInt8(1)||l(x[_],{setInt8:function(t,e){$.call(this,t,e<<24>>24)},setUint8:function(t,e){$.call(this,t,e<<24>>24)}},!0)}else b=function(t){h(this,b,"ArrayBuffer");var e=f(t);this._b=g.call(new Array(e),0),this[I]=e},x=function(t,e,r){h(this,x,"DataView"),h(t,b,"DataView");var i=t[I],n=c(e);if(n<0||n>i)throw S("Wrong offset!");if(n+(r=void 0===r?i-n:d(r))>i)throw S("Wrong length!");this[R]=t,this[D]=n,this[I]=r},n&&(U(b,"byteLength","_l"),U(x,"buffer","_b"),U(x,"byteLength","_l"),U(x,"byteOffset","_o")),l(x[_],{getInt8:function(t){return z(this,1,t)[0]<<24>>24},getUint8:function(t){return z(this,1,t)[0]},getInt16:function(t){var e=z(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=z(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return F(z(this,4,t,arguments[1]))},getUint32:function(t){return F(z(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return O(z(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return O(z(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){H(this,1,t,G,e)},setUint8:function(t,e){H(this,1,t,G,e)},setInt16:function(t,e){H(this,2,t,N,e,arguments[2])},setUint16:function(t,e){H(this,2,t,N,e,arguments[2])},setInt32:function(t,e){H(this,4,t,j,e,arguments[2])},setUint32:function(t,e){H(this,4,t,j,e,arguments[2])},setFloat32:function(t,e){H(this,4,t,B,e,arguments[2])},setFloat64:function(t,e){H(this,8,t,V,e,arguments[2])}});v(b,"ArrayBuffer"),v(x,"DataView"),s(x[_],o.VIEW,!0),e.ArrayBuffer=b,e.DataView=x},224:function(t,e,r){"use strict";var i=r(21),n=r(142),a=r(17);t.exports=[].copyWithin||function(t,e){var r=i(this),o=a(r.length),s=n(t,o),l=n(e,o),u=arguments.length>2?arguments[2]:void 0,h=Math.min((void 0===u?o:n(u,o))-l,o-s),c=1;for(l<s&&s<l+h&&(c=-1,l+=h-1,s+=h-1);h-- >0;)l in r?r[s]=r[l]:delete r[s],s+=c,l+=c;return r}},225:function(t,e,r){"use strict";r(226)("sub",(function(t){return function(){return t(this,"sub","","")}}))},226:function(t,e,r){var i=r(1),n=r(10),a=r(41),o=/"/g,s=function(t,e,r,i){var n=String(a(t)),s="<"+e;return""!==r&&(s+=" "+r+'="'+String(i).replace(o,"&quot;")+'"'),s+">"+n+"</"+e+">"};t.exports=function(t,e){var r={};r[t]=e(s),i(i.P+i.F*n((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",r)}},227:function(t,e,r){var i=r(1),n=Math.abs;i(i.S,"Math",{hypot:function(t,e){for(var r,i,a=0,o=0,s=arguments.length,l=0;o<s;)l<(r=n(arguments[o++]))?(a=a*(i=l/r)*i+1,l=r):a+=r>0?(i=r/l)*i:r;return l===1/0?1/0:l*Math.sqrt(a)}})},228:function(t,e,r){r(214)("Uint32",4,(function(t){return function(e,r,i){return t(this,e,r,i)}}))},229:function(t,e,r){r(214)("Uint8",1,(function(t){return function(e,r,i){return t(this,e,r,i)}}),!0)},230:function(t,e,r){"use strict";var i=r(4),n=r(25),a=r(40),o=r(111),s=r(78),l=r(10),u=r(77).f,h=r(107).f,c=r(11).f,d=r(153).trim,f=i.Number,p=f,m=f.prototype,g="Number"==a(r(61)(m)),v="trim"in String.prototype,_=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var r,i,n,a=(e=v?e.trim():d(e,3)).charCodeAt(0);if(43===a||45===a){if(88===(r=e.charCodeAt(2))||120===r)return NaN}else if(48===a){switch(e.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+e}for(var o,l=e.slice(2),u=0,h=l.length;u<h;u++)if((o=l.charCodeAt(u))<48||o>n)return NaN;return parseInt(l,i)}}return+e};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof f&&(g?l((function(){m.valueOf.call(r)})):"Number"!=a(r))?o(new p(_(e)),r,f):_(e)};for(var y,b=r(9)?u(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;b.length>x;x++)n(p,y=b[x])&&!n(f,y)&&c(f,y,h(p,y));f.prototype=m,m.constructor=f,r(13)(i,"Number",f)}},231:function(t,e,r){var i=r(1);i(i.P,"Array",{fill:r(215)}),r(85)("fill")},232:function(t,e,r){r(214)("Uint8",1,(function(t){return function(e,r,i){return t(this,e,r,i)}}))},233:function(t,e,r){r(214)("Int32",4,(function(t){return function(e,r,i){return t(this,e,r,i)}}))}}]);
//# sourceMappingURL=component---src-pages-index-js-ea96f15b077b19704092.js.map